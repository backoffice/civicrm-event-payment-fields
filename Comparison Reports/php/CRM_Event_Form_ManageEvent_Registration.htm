<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>WinMerge File Compare Report</title>
<style type="text/css">
<!--
td,th {font-size: 12pt;}
.ln {text-align: right; background-color: lightgrey;}
.title {color: white; background-color: blue; vertical-align: top;}
.sf3b2 {color: #000000; background-color: #ffffff; }
.sf3b5 {color: #000000; background-color: #000000; }
.sf3b14 {color: #000000; background-color: #ffa0a0; }
.sf3b16 {color: #000000; background-color: #f1e2ad; }
.sf6b2 {color: #ffffff; background-color: #ffffff; }
.sf6b5 {color: #ffffff; background-color: #000000; }
.sf6b14 {color: #ffffff; background-color: #ffa0a0; }
.sf6b16 {color: #ffffff; background-color: #f1e2ad; }
.sf7b2 {color: #0000ff; background-color: #ffffff; font-weight: bold; }
.sf7b5 {color: #0000ff; background-color: #000000; font-weight: bold; }
.sf7b14 {color: #0000ff; background-color: #ffa0a0; font-weight: bold; }
.sf7b16 {color: #0000ff; background-color: #f1e2ad; font-weight: bold; }
.sf8b2 {color: #800080; background-color: #ffffff; }
.sf8b5 {color: #800080; background-color: #000000; }
.sf8b14 {color: #800080; background-color: #ffa0a0; }
.sf8b16 {color: #800080; background-color: #f1e2ad; }
.sf9b2 {color: #008000; background-color: #ffffff; }
.sf9b5 {color: #008000; background-color: #000000; }
.sf9b14 {color: #008000; background-color: #ffa0a0; }
.sf9b16 {color: #008000; background-color: #f1e2ad; }
.sf10b2 {color: #ff0000; background-color: #ffffff; }
.sf10b5 {color: #ff0000; background-color: #000000; }
.sf10b14 {color: #ff0000; background-color: #ffa0a0; }
.sf10b16 {color: #ff0000; background-color: #f1e2ad; }
.sf11b2 {color: #606060; background-color: #ffffff; }
.sf11b5 {color: #606060; background-color: #000000; }
.sf11b14 {color: #606060; background-color: #ffa0a0; }
.sf11b16 {color: #606060; background-color: #f1e2ad; }
.sf12b2 {color: #800000; background-color: #ffffff; }
.sf12b5 {color: #800000; background-color: #000000; }
.sf12b14 {color: #800000; background-color: #ffa0a0; }
.sf12b16 {color: #800000; background-color: #f1e2ad; }
.sf13b2 {color: #0080c0; background-color: #ffffff; }
.sf13b5 {color: #0080c0; background-color: #000000; }
.sf13b14 {color: #0080c0; background-color: #ffa0a0; }
.sf13b16 {color: #0080c0; background-color: #f1e2ad; }
.sf15b2 {color: #000000; background-color: #ffffff; }
.sf15b5 {color: #000000; background-color: #000000; }
.sf15b14 {color: #000000; background-color: #ffa0a0; }
.sf15b16 {color: #000000; background-color: #f1e2ad; }
.sf17b2 {color: #000000; background-color: #ffffff; }
.sf17b5 {color: #000000; background-color: #000000; }
.sf17b14 {color: #000000; background-color: #ffa0a0; }
.sf17b16 {color: #000000; background-color: #f1e2ad; }
.sf18b2 {color: #000080; background-color: #ffffff; }
.sf18b5 {color: #000080; background-color: #000000; }
.sf18b14 {color: #000080; background-color: #ffa0a0; }
.sf18b16 {color: #000080; background-color: #f1e2ad; }
.sf19b2 {color: #0080c0; background-color: #ffffff; }
.sf19b5 {color: #0080c0; background-color: #000000; }
.sf19b14 {color: #0080c0; background-color: #ffa0a0; }
.sf19b16 {color: #0080c0; background-color: #f1e2ad; }
-->
</style>
</head>
<body>
<table cellspacing="0" cellpadding="0" style="width: 100%; margin: 0; border: none;">
<thead>
<tr>
<th class="title" style="width:1%"></th><th class="title" style="width:49.000000%">Original\Event\Form\ManageEvent\Registration.php</th>
<th class="title" style="width:1%"></th><th class="title" style="width:49.000000%">Custom\Event\Form\ManageEvent\Registration.php</th>
</tr>
</thead>
<tbody>
<tr valign="top">
<td class="ln">1</td><td class="sf3b2"><code><span class="sf3b2">&lt;?php</span></code></td>
<td class="ln">1</td><td class="sf3b2"><code><span class="sf3b2">&lt;?php</span></code></td>
</tr>
<tr valign="top">
<td class="ln">2</td><td class="sf3b2"><code><span class="sf9b2">/*</span></code></td>
<td class="ln">2</td><td class="sf3b2"><code><span class="sf9b2">/*</span></code></td>
</tr>
<tr valign="top">
<td class="ln">3</td><td class="sf3b2"><code><span class="sf9b2"> +---------------------------------------------------<wbr>-----------------+</span></code></td>
<td class="ln">3</td><td class="sf3b2"><code><span class="sf9b2"> +---------------------------------------------------<wbr>-----------------+</span></code></td>
</tr>
<tr valign="top">
<td class="ln">4</td><td class="sf3b2"><code><span class="sf9b2"> | CiviCRM version 4.2 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|</span></code></td>
<td class="ln">4</td><td class="sf3b2"><code><span class="sf9b2"> | CiviCRM version 4.2 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|</span></code></td>
</tr>
<tr valign="top">
<td class="ln">5</td><td class="sf3b2"><code><span class="sf9b2"> +---------------------------------------------------<wbr>-----------------+</span></code></td>
<td class="ln">5</td><td class="sf3b2"><code><span class="sf9b2"> +---------------------------------------------------<wbr>-----------------+</span></code></td>
</tr>
<tr valign="top">
<td class="ln">6</td><td class="sf3b2"><code><span class="sf9b2"> | Copyright CiviCRM LLC (c) 2004-2012 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|</span></code></td>
<td class="ln">6</td><td class="sf3b2"><code><span class="sf9b2"> | Copyright CiviCRM LLC (c) 2004-2012 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|</span></code></td>
</tr>
<tr valign="top">
<td class="ln">7</td><td class="sf3b2"><code><span class="sf9b2"> +---------------------------------------------------<wbr>-----------------+</span></code></td>
<td class="ln">7</td><td class="sf3b2"><code><span class="sf9b2"> +---------------------------------------------------<wbr>-----------------+</span></code></td>
</tr>
<tr valign="top">
<td class="ln">8</td><td class="sf3b2"><code><span class="sf9b2"> | This file is a part of CiviCRM. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|</span></code></td>
<td class="ln">8</td><td class="sf3b2"><code><span class="sf9b2"> | This file is a part of CiviCRM. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|</span></code></td>
</tr>
<tr valign="top">
<td class="ln">9</td><td class="sf3b2"><code><span class="sf9b2"> | &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|</span></code></td>
<td class="ln">9</td><td class="sf3b2"><code><span class="sf9b2"> | &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|</span></code></td>
</tr>
<tr valign="top">
<td class="ln">10</td><td class="sf3b2"><code><span class="sf9b2"> | CiviCRM is free software; you can copy, modify, and distribute it &nbsp;|</span></code></td>
<td class="ln">10</td><td class="sf3b2"><code><span class="sf9b2"> | CiviCRM is free software; you can copy, modify, and distribute it &nbsp;|</span></code></td>
</tr>
<tr valign="top">
<td class="ln">11</td><td class="sf3b2"><code><span class="sf9b2"> | under the terms of the GNU Affero General Public License &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |</span></code></td>
<td class="ln">11</td><td class="sf3b2"><code><span class="sf9b2"> | under the terms of the GNU Affero General Public License &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |</span></code></td>
</tr>
<tr valign="top">
<td class="ln">12</td><td class="sf3b2"><code><span class="sf9b2"> | Version 3, 19 November 2007 and the CiviCRM Licensing Exception. &nbsp; |</span></code></td>
<td class="ln">12</td><td class="sf3b2"><code><span class="sf9b2"> | Version 3, 19 November 2007 and the CiviCRM Licensing Exception. &nbsp; |</span></code></td>
</tr>
<tr valign="top">
<td class="ln">13</td><td class="sf3b2"><code><span class="sf9b2"> | &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|</span></code></td>
<td class="ln">13</td><td class="sf3b2"><code><span class="sf9b2"> | &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|</span></code></td>
</tr>
<tr valign="top">
<td class="ln">14</td><td class="sf3b2"><code><span class="sf9b2"> | CiviCRM is distributed in the hope that it will be useful, but &nbsp; &nbsp; |</span></code></td>
<td class="ln">14</td><td class="sf3b2"><code><span class="sf9b2"> | CiviCRM is distributed in the hope that it will be useful, but &nbsp; &nbsp; |</span></code></td>
</tr>
<tr valign="top">
<td class="ln">15</td><td class="sf3b2"><code><span class="sf9b2"> | WITHOUT ANY WARRANTY; without even the implied warranty of &nbsp; &nbsp; &nbsp; &nbsp; |</span></code></td>
<td class="ln">15</td><td class="sf3b2"><code><span class="sf9b2"> | WITHOUT ANY WARRANTY; without even the implied warranty of &nbsp; &nbsp; &nbsp; &nbsp; |</span></code></td>
</tr>
<tr valign="top">
<td class="ln">16</td><td class="sf3b2"><code><span class="sf9b2"> | MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |</span></code></td>
<td class="ln">16</td><td class="sf3b2"><code><span class="sf9b2"> | MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |</span></code></td>
</tr>
<tr valign="top">
<td class="ln">17</td><td class="sf3b2"><code><span class="sf9b2"> | See the GNU Affero General Public License for more details. &nbsp; &nbsp; &nbsp; &nbsp;|</span></code></td>
<td class="ln">17</td><td class="sf3b2"><code><span class="sf9b2"> | See the GNU Affero General Public License for more details. &nbsp; &nbsp; &nbsp; &nbsp;|</span></code></td>
</tr>
<tr valign="top">
<td class="ln">18</td><td class="sf3b2"><code><span class="sf9b2"> | &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|</span></code></td>
<td class="ln">18</td><td class="sf3b2"><code><span class="sf9b2"> | &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|</span></code></td>
</tr>
<tr valign="top">
<td class="ln">19</td><td class="sf3b2"><code><span class="sf9b2"> | You should have received a copy of the GNU Affero General Public &nbsp; |</span></code></td>
<td class="ln">19</td><td class="sf3b2"><code><span class="sf9b2"> | You should have received a copy of the GNU Affero General Public &nbsp; |</span></code></td>
</tr>
<tr valign="top">
<td class="ln">20</td><td class="sf3b2"><code><span class="sf9b2"> | License and the CiviCRM Licensing Exception along &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|</span></code></td>
<td class="ln">20</td><td class="sf3b2"><code><span class="sf9b2"> | License and the CiviCRM Licensing Exception along &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|</span></code></td>
</tr>
<tr valign="top">
<td class="ln">21</td><td class="sf3b2"><code><span class="sf9b2"> | with this program; if not, contact CiviCRM LLC &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |</span></code></td>
<td class="ln">21</td><td class="sf3b2"><code><span class="sf9b2"> | with this program; if not, contact CiviCRM LLC &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |</span></code></td>
</tr>
<tr valign="top">
<td class="ln">22</td><td class="sf3b2"><code><span class="sf9b2"> | at info[AT]civicrm[DOT]org. If you have questions about the &nbsp; &nbsp; &nbsp; &nbsp;|</span></code></td>
<td class="ln">22</td><td class="sf3b2"><code><span class="sf9b2"> | at info[AT]civicrm[DOT]org. If you have questions about the &nbsp; &nbsp; &nbsp; &nbsp;|</span></code></td>
</tr>
<tr valign="top">
<td class="ln">23</td><td class="sf3b2"><code><span class="sf9b2"> | GNU Affero General Public License or the licensing of CiviCRM, &nbsp; &nbsp; |</span></code></td>
<td class="ln">23</td><td class="sf3b2"><code><span class="sf9b2"> | GNU Affero General Public License or the licensing of CiviCRM, &nbsp; &nbsp; |</span></code></td>
</tr>
<tr valign="top">
<td class="ln">24</td><td class="sf3b2"><code><span class="sf9b2"> | see the CiviCRM license FAQ at http://civicrm.org/licensing &nbsp; &nbsp; &nbsp; &nbsp;|</span></code></td>
<td class="ln">24</td><td class="sf3b2"><code><span class="sf9b2"> | see the CiviCRM license FAQ at http://civicrm.org/licensing &nbsp; &nbsp; &nbsp; &nbsp;|</span></code></td>
</tr>
<tr valign="top">
<td class="ln">25</td><td class="sf3b2"><code><span class="sf9b2"> +---------------------------------------------------<wbr>-----------------+</span></code></td>
<td class="ln">25</td><td class="sf3b2"><code><span class="sf9b2"> +---------------------------------------------------<wbr>-----------------+</span></code></td>
</tr>
<tr valign="top">
<td class="ln">26</td><td class="sf3b2"><code><span class="sf9b2">*/</span>&nbsp;</code></td>
<td class="ln">26</td><td class="sf3b2"><code><span class="sf9b2">*/</span>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">27</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">27</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">28</td><td class="sf3b2"><code><span class="sf9b2">/**</span></code></td>
<td class="ln">28</td><td class="sf3b2"><code><span class="sf9b2">/**</span></code></td>
</tr>
<tr valign="top">
<td class="ln">29</td><td class="sf3b2"><code><span class="sf9b2"> *</span></code></td>
<td class="ln">29</td><td class="sf3b2"><code><span class="sf9b2"> *</span></code></td>
</tr>
<tr valign="top">
<td class="ln">30</td><td class="sf3b2"><code><span class="sf9b2"> *</span></code></td>
<td class="ln">30</td><td class="sf3b2"><code><span class="sf9b2"> *</span></code></td>
</tr>
<tr valign="top">
<td class="ln">31</td><td class="sf3b2"><code><span class="sf9b2"> * @package CRM</span></code></td>
<td class="ln">31</td><td class="sf3b2"><code><span class="sf9b2"> * @package CRM</span></code></td>
</tr>
<tr valign="top">
<td class="ln">32</td><td class="sf3b2"><code><span class="sf9b2"> * @copyright CiviCRM LLC (c) 2004-2012</span></code></td>
<td class="ln">32</td><td class="sf3b2"><code><span class="sf9b2"> * @copyright CiviCRM LLC (c) 2004-2012</span></code></td>
</tr>
<tr valign="top">
<td class="ln">33</td><td class="sf3b2"><code><span class="sf9b2"> * $Id$</span></code></td>
<td class="ln">33</td><td class="sf3b2"><code><span class="sf9b2"> * $Id$</span></code></td>
</tr>
<tr valign="top">
<td class="ln">34</td><td class="sf3b2"><code><span class="sf9b2"> *</span></code></td>
<td class="ln">34</td><td class="sf3b2"><code><span class="sf9b2"> *</span></code></td>
</tr>
<tr valign="top">
<td class="ln">35</td><td class="sf3b2"><code><span class="sf9b2"> */</span>&nbsp;</code></td>
<td class="ln">35</td><td class="sf3b2"><code><span class="sf9b2"> */</span>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">36</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">36</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">37</td><td class="sf3b2"><code><span class="sf9b2">/**</span></code></td>
<td class="ln">37</td><td class="sf3b2"><code><span class="sf9b2">/**</span></code></td>
</tr>
<tr valign="top">
<td class="ln">38</td><td class="sf3b2"><code><span class="sf9b2"> * This class generates form components for processing Event</span></code></td>
<td class="ln">38</td><td class="sf3b2"><code><span class="sf9b2"> * This class generates form components for processing Event</span></code></td>
</tr>
<tr valign="top">
<td class="ln">39</td><td class="sf3b2"><code><span class="sf9b2"> *</span></code></td>
<td class="ln">39</td><td class="sf3b2"><code><span class="sf9b2"> *</span></code></td>
</tr>
<tr valign="top">
<td class="ln">40</td><td class="sf3b2"><code><span class="sf9b2"> */</span>&nbsp;</code></td>
<td class="ln">40</td><td class="sf3b2"><code><span class="sf9b2"> */</span>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">41</td><td class="sf3b2"><code><span class="sf7b2">class</span><span class="sf3b2"> CRM_Event_Form_ManageEvent_Registration extends CRM_Event_Form_ManageEvent {</span></code></td>
<td class="ln">41</td><td class="sf3b2"><code><span class="sf7b2">class</span><span class="sf3b2"> CRM_Event_Form_ManageEvent_Registration extends CRM_Event_Form_ManageEvent {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">42</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">42</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">43</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf9b2">/**</span></code></td>
<td class="ln">43</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf9b2">/**</span></code></td>
</tr>
<tr valign="top">
<td class="ln">44</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * what blocks should we show and hide.</span></code></td>
<td class="ln">44</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * what blocks should we show and hide.</span></code></td>
</tr>
<tr valign="top">
<td class="ln">45</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; *</span></code></td>
<td class="ln">45</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; *</span></code></td>
</tr>
<tr valign="top">
<td class="ln">46</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * @var CRM_Core_ShowHideBlocks</span></code></td>
<td class="ln">46</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * @var CRM_Core_ShowHideBlocks</span></code></td>
</tr>
<tr valign="top">
<td class="ln">47</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; */</span>&nbsp;</code></td>
<td class="ln">47</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; */</span>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">48</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;protected $</span><span class="sf18b2">_showHide;</span></code></td>
<td class="ln">48</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;protected $</span><span class="sf18b2">_showHide;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">49</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">49</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">50</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;protected $</span><span class="sf18b2">_profilePostMultiple = </span><span class="sf7b2">array</span><span class="sf3b2">();</span></code></td>
<td class="ln">50</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;protected $</span><span class="sf18b2">_profilePostMultiple = </span><span class="sf7b2">array</span><span class="sf3b2">();</span></code></td>
</tr>
<tr valign="top">
<td class="ln">51</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;protected $</span><span class="sf18b2">_profilePostMultipleAdd = </span><span class="sf7b2">array</span><span class="sf3b2">();</span></code></td>
<td class="ln">51</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;protected $</span><span class="sf18b2">_profilePostMultipleAdd = </span><span class="sf7b2">array</span><span class="sf3b2">();</span></code></td>
</tr>
<tr valign="top">
<td class="ln">52</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">52</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">53</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf9b2">/**</span></code></td>
<td class="ln">53</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf9b2">/**</span></code></td>
</tr>
<tr valign="top">
<td class="ln">54</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * Function to set variables up before form is built</span></code></td>
<td class="ln">54</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * Function to set variables up before form is built</span></code></td>
</tr>
<tr valign="top">
<td class="ln">55</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; *</span></code></td>
<td class="ln">55</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; *</span></code></td>
</tr>
<tr valign="top">
<td class="ln">56</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * @return void</span></code></td>
<td class="ln">56</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * @return void</span></code></td>
</tr>
<tr valign="top">
<td class="ln">57</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * @access public</span></code></td>
<td class="ln">57</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * @access public</span></code></td>
</tr>
<tr valign="top">
<td class="ln">58</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; */</span><span class="sf3b2"> </span>&nbsp;</code></td>
<td class="ln">58</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; */</span><span class="sf3b2"> </span>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">59</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf7b2">function</span><span class="sf3b2"> </span><span class="sf8b2">preProcess</span><span class="sf3b2">() {</span></code></td>
<td class="ln">59</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf7b2">function</span><span class="sf3b2"> </span><span class="sf8b2">preProcess</span><span class="sf3b2">() {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">60</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">_addProfileBottom = CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'addProfileBottom'</span><span class="sf3b2">, $</span><span class="sf18b2">_GET, FALSE);</span></code></td>
<td class="ln">60</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">_addProfileBottom = CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'addProfileBottom'</span><span class="sf3b2">, $</span><span class="sf18b2">_GET, FALSE);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">61</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">_profileBottomNum = CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'addProfileNum'</span><span class="sf3b2">, $</span><span class="sf18b2">_GET, </span><span class="sf10b2">0</span><span class="sf3b2">);</span></code></td>
<td class="ln">61</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">_profileBottomNum = CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'addProfileNum'</span><span class="sf3b2">, $</span><span class="sf18b2">_GET, </span><span class="sf10b2">0</span><span class="sf3b2">);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">62</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">_addProfileBottomAdd = CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'addProfileBottomAdd'</span><span class="sf3b2">, $</span><span class="sf18b2">_GET, FALSE);</span></code></td>
<td class="ln">62</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">_addProfileBottomAdd = CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'addProfileBottomAdd'</span><span class="sf3b2">, $</span><span class="sf18b2">_GET, FALSE);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">63</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">_profileBottomNumAdd = CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'addProfileNumAdd'</span><span class="sf3b2">, $</span><span class="sf18b2">_GET, </span><span class="sf10b2">0</span><span class="sf3b2">);</span></code></td>
<td class="ln">63</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">_profileBottomNumAdd = CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'addProfileNumAdd'</span><span class="sf3b2">, $</span><span class="sf18b2">_GET, </span><span class="sf10b2">0</span><span class="sf3b2">);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">64</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">64</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">65</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf8b2">parent::preProcess</span><span class="sf3b2">();</span></code></td>
<td class="ln">65</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf8b2">parent::preProcess</span><span class="sf3b2">();</span></code></td>
</tr>
<tr valign="top">
<td class="ln">66</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">66</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">67</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">assign</span><span class="sf3b2">(</span><span class="sf12b2">'addProfileBottom'</span><span class="sf3b2">, $</span><span class="sf18b2">this-&gt;_addProfileBottom);</span></code></td>
<td class="ln">67</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">assign</span><span class="sf3b2">(</span><span class="sf12b2">'addProfileBottom'</span><span class="sf3b2">, $</span><span class="sf18b2">this-&gt;_addProfileBottom);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">68</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">assign</span><span class="sf3b2">(</span><span class="sf12b2">'profileBottomNum'</span><span class="sf3b2">, $</span><span class="sf18b2">this-&gt;_profileBottomNum);</span></code></td>
<td class="ln">68</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">assign</span><span class="sf3b2">(</span><span class="sf12b2">'profileBottomNum'</span><span class="sf3b2">, $</span><span class="sf18b2">this-&gt;_profileBottomNum);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">69</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">69</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">70</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">urlParams = </span><span class="sf12b2">"id={$this-&gt;_id}&amp;addProfileBottom=1&amp;qfKey={$this-&gt;co<wbr>ntroller-&gt;_key}"</span><span class="sf3b2">;</span></code></td>
<td class="ln">70</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">urlParams = </span><span class="sf12b2">"id={$this-&gt;_id}&amp;addProfileBottom=1&amp;qfKey={$this-&gt;co<wbr>ntroller-&gt;_key}"</span><span class="sf3b2">;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">71</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">assign</span><span class="sf3b2">(</span><span class="sf12b2">'addProfileParams'</span><span class="sf3b2">, $</span><span class="sf18b2">urlParams);</span></code></td>
<td class="ln">71</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">assign</span><span class="sf3b2">(</span><span class="sf12b2">'addProfileParams'</span><span class="sf3b2">, $</span><span class="sf18b2">urlParams);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">72</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">72</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">73</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> ($</span><span class="sf18b2">addProfileBottom = </span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'custom_post_id_multiple'</span><span class="sf3b2">, $</span><span class="sf18b2">_POST)) {</span></code></td>
<td class="ln">73</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> ($</span><span class="sf18b2">addProfileBottom = </span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'custom_post_id_multiple'</span><span class="sf3b2">, $</span><span class="sf18b2">_POST)) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">74</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">foreach</span><span class="sf3b2"> (</span><span class="sf8b2">array_keys</span><span class="sf3b2">($</span><span class="sf18b2">addProfileBottom) </span><span class="sf7b2">as</span><span class="sf3b2"> $</span><span class="sf18b2">profileNum) {</span></code></td>
<td class="ln">74</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">foreach</span><span class="sf3b2"> (</span><span class="sf8b2">array_keys</span><span class="sf3b2">($</span><span class="sf18b2">addProfileBottom) </span><span class="sf7b2">as</span><span class="sf3b2"> $</span><span class="sf18b2">profileNum) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">75</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf8b2">self::buildMultipleProfileBottom</span><span class="sf3b2">($</span><span class="sf18b2">this, $</span><span class="sf18b2">profileNum);</span></code></td>
<td class="ln">75</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf8b2">self::buildMultipleProfileBottom</span><span class="sf3b2">($</span><span class="sf18b2">this, $</span><span class="sf18b2">profileNum);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">76</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">76</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">77</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;}</span></code></td>
<td class="ln">77</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">78</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">78</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">79</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">assign</span><span class="sf3b2">(</span><span class="sf12b2">'addProfileBottomAdd'</span><span class="sf3b2">, $</span><span class="sf18b2">this-&gt;_addProfileBottomAdd);</span></code></td>
<td class="ln">79</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">assign</span><span class="sf3b2">(</span><span class="sf12b2">'addProfileBottomAdd'</span><span class="sf3b2">, $</span><span class="sf18b2">this-&gt;_addProfileBottomAdd);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">80</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">assign</span><span class="sf3b2">(</span><span class="sf12b2">'profileBottomNumAdd'</span><span class="sf3b2">, $</span><span class="sf18b2">this-&gt;_profileBottomNumAdd);</span></code></td>
<td class="ln">80</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">assign</span><span class="sf3b2">(</span><span class="sf12b2">'profileBottomNumAdd'</span><span class="sf3b2">, $</span><span class="sf18b2">this-&gt;_profileBottomNumAdd);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">81</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">81</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">82</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">urlParamsAdd = </span><span class="sf12b2">"id={$this-&gt;_id}&amp;addProfileBottomAdd=1&amp;qfKey={$this-<wbr>&gt;controller-&gt;_key}"</span><span class="sf3b2">;</span></code></td>
<td class="ln">82</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">urlParamsAdd = </span><span class="sf12b2">"id={$this-&gt;_id}&amp;addProfileBottomAdd=1&amp;qfKey={$this-<wbr>&gt;controller-&gt;_key}"</span><span class="sf3b2">;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">83</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">assign</span><span class="sf3b2">(</span><span class="sf12b2">'addProfileParamsAdd'</span><span class="sf3b2">, $</span><span class="sf18b2">urlParamsAdd);</span></code></td>
<td class="ln">83</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">assign</span><span class="sf3b2">(</span><span class="sf12b2">'addProfileParamsAdd'</span><span class="sf3b2">, $</span><span class="sf18b2">urlParamsAdd);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">84</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">84</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">85</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> ($</span><span class="sf18b2">addProfileBottomAdd = </span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'additional_custom_post_id_mu<wbr>ltiple'</span><span class="sf3b2">, $</span><span class="sf18b2">_POST)) {</span></code></td>
<td class="ln">85</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> ($</span><span class="sf18b2">addProfileBottomAdd = </span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'additional_custom_post_id_mu<wbr>ltiple'</span><span class="sf3b2">, $</span><span class="sf18b2">_POST)) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">86</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">foreach</span><span class="sf3b2"> (</span><span class="sf8b2">array_keys</span><span class="sf3b2">($</span><span class="sf18b2">addProfileBottomAdd) </span><span class="sf7b2">as</span><span class="sf3b2"> $</span><span class="sf18b2">profileNum) {</span></code></td>
<td class="ln">86</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">foreach</span><span class="sf3b2"> (</span><span class="sf8b2">array_keys</span><span class="sf3b2">($</span><span class="sf18b2">addProfileBottomAdd) </span><span class="sf7b2">as</span><span class="sf3b2"> $</span><span class="sf18b2">profileNum) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">87</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf8b2">self::buildMultipleProfileBottom</span><span class="sf3b2">($</span><span class="sf18b2">this, $</span><span class="sf18b2">profileNum, </span><span class="sf12b2">'additional_'</span><span class="sf3b2">, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Profile for Additional Participants'</span><span class="sf3b2">));</span></code></td>
<td class="ln">87</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf8b2">self::buildMultipleProfileBottom</span><span class="sf3b2">($</span><span class="sf18b2">this, $</span><span class="sf18b2">profileNum, </span><span class="sf12b2">'additional_'</span><span class="sf3b2">, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Profile for Additional Participants'</span><span class="sf3b2">));</span></code></td>
</tr>
<tr valign="top">
<td class="ln">88</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">88</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">89</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;}</span></code></td>
<td class="ln">89</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">90</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;}</span></code></td>
<td class="ln">90</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">91</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">91</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">92</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf9b2">/**</span></code></td>
<td class="ln">92</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf9b2">/**</span></code></td>
</tr>
<tr valign="top">
<td class="ln">93</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * This function sets the default values for the form.</span></code></td>
<td class="ln">93</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * This function sets the default values for the form.</span></code></td>
</tr>
<tr valign="top">
<td class="ln">94</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * the default values are retrieved from the database</span></code></td>
<td class="ln">94</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * the default values are retrieved from the database</span></code></td>
</tr>
<tr valign="top">
<td class="ln">95</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; *</span></code></td>
<td class="ln">95</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; *</span></code></td>
</tr>
<tr valign="top">
<td class="ln">96</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * @access public</span></code></td>
<td class="ln">96</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * @access public</span></code></td>
</tr>
<tr valign="top">
<td class="ln">97</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; *</span></code></td>
<td class="ln">97</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; *</span></code></td>
</tr>
<tr valign="top">
<td class="ln">98</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * @return None</span></code></td>
<td class="ln">98</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * @return None</span></code></td>
</tr>
<tr valign="top">
<td class="ln">99</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; */</span>&nbsp;</code></td>
<td class="ln">99</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; */</span>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">100</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf7b2">function</span><span class="sf3b2"> </span><span class="sf8b2">setDefaultValues</span><span class="sf3b2">() {</span></code></td>
<td class="ln">100</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf7b2">function</span><span class="sf3b2"> </span><span class="sf8b2">setDefaultValues</span><span class="sf3b2">() {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">101</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> ($</span><span class="sf18b2">this-&gt;_addProfileBottom || $</span><span class="sf18b2">this-&gt;_addProfileBottomAdd) {</span></code></td>
<td class="ln">101</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> ($</span><span class="sf18b2">this-&gt;_addProfileBottom || $</span><span class="sf18b2">this-&gt;_addProfileBottomAdd) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">102</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">return</span><span class="sf3b2">;</span></code></td>
<td class="ln">102</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">return</span><span class="sf3b2">;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">103</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;}</span></code></td>
<td class="ln">103</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">104</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">eventId = $</span><span class="sf18b2">this-&gt;_id;</span></code></td>
<td class="ln">104</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">eventId = $</span><span class="sf18b2">this-&gt;_id;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">105</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">105</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">106</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">defaults = </span><span class="sf8b2">parent::setDefaultValues</span><span class="sf3b2">();</span></code></td>
<td class="ln">106</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">defaults = </span><span class="sf8b2">parent::setDefaultValues</span><span class="sf3b2">();</span></code></td>
</tr>
<tr valign="top">
<td class="ln">107</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">107</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">108</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">setShowHide</span><span class="sf3b2">($</span><span class="sf18b2">defaults);</span></code></td>
<td class="ln">108</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">setShowHide</span><span class="sf3b2">($</span><span class="sf18b2">defaults);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">109</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (</span><span class="sf7b2">isset</span><span class="sf3b2">($</span><span class="sf18b2">eventId)) {</span></code></td>
<td class="ln">109</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (</span><span class="sf7b2">isset</span><span class="sf3b2">($</span><span class="sf18b2">eventId)) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">110</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">params = </span><span class="sf7b2">array</span><span class="sf3b2">(</span><span class="sf12b2">'id'</span><span class="sf3b2"> =&gt; $</span><span class="sf18b2">eventId);</span></code></td>
<td class="ln">110</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">params = </span><span class="sf7b2">array</span><span class="sf3b2">(</span><span class="sf12b2">'id'</span><span class="sf3b2"> =&gt; $</span><span class="sf18b2">eventId);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">111</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf8b2">CRM_Event_BAO_Event::retrieve</span><span class="sf3b2">($</span><span class="sf18b2">params, $</span><span class="sf18b2">defaults);</span></code></td>
<td class="ln">111</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf8b2">CRM_Event_BAO_Event::retrieve</span><span class="sf3b2">($</span><span class="sf18b2">params, $</span><span class="sf18b2">defaults);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">112</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">112</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">113</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">ufJoinParams = </span><span class="sf7b2">array</span><span class="sf3b2">(</span></code></td>
<td class="ln">113</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">ufJoinParams = </span><span class="sf7b2">array</span><span class="sf3b2">(</span></code></td>
</tr>
<tr valign="top">
<td class="ln">114</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf12b2">'entity_table'</span><span class="sf3b2"> =&gt; </span><span class="sf12b2">'civicrm_event'</span><span class="sf3b2">,</span></code></td>
<td class="ln">114</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf12b2">'entity_table'</span><span class="sf3b2"> =&gt; </span><span class="sf12b2">'civicrm_event'</span><span class="sf3b2">,</span></code></td>
</tr>
<tr valign="top">
<td class="ln">115</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf12b2">'module'</span><span class="sf3b2"> =&gt; </span><span class="sf12b2">'CiviEvent'</span><span class="sf3b2">,</span></code></td>
<td class="ln">115</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf12b2">'module'</span><span class="sf3b2"> =&gt; </span><span class="sf12b2">'CiviEvent'</span><span class="sf3b2">,</span></code></td>
</tr>
<tr valign="top">
<td class="ln">116</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf12b2">'entity_id'</span><span class="sf3b2"> =&gt; $</span><span class="sf18b2">eventId,</span></code></td>
<td class="ln">116</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf12b2">'entity_id'</span><span class="sf3b2"> =&gt; $</span><span class="sf18b2">eventId,</span></code></td>
</tr>
<tr valign="top">
<td class="ln">117</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;);</span></code></td>
<td class="ln">117</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">118</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">118</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">119</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">list</span><span class="sf3b2">($</span><span class="sf18b2">defaults[</span><span class="sf12b2">'custom_pre_id'</span><span class="sf3b2">],</span></code></td>
<td class="ln">119</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">list</span><span class="sf3b2">($</span><span class="sf18b2">defaults[</span><span class="sf12b2">'custom_pre_id'</span><span class="sf3b2">],</span></code></td>
</tr>
<tr valign="top">
<td class="ln">120</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">defaults[</span><span class="sf12b2">'custom_post'</span><span class="sf3b2">]</span></code></td>
<td class="ln">120</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">defaults[</span><span class="sf12b2">'custom_post'</span><span class="sf3b2">]</span></code></td>
</tr>
<tr valign="top">
<td class="ln">121</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;) = </span><span class="sf8b2">CRM_Core_BAO_UFJoin::getUFGroupIds</span><span class="sf3b2">($</span><span class="sf18b2">ufJoinParams);</span></code></td>
<td class="ln">121</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;) = </span><span class="sf8b2">CRM_Core_BAO_UFJoin::getUFGroupIds</span><span class="sf3b2">($</span><span class="sf18b2">ufJoinParams);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">122</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">122</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">123</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">// Get the id for the event registration profile</span></code></td>
<td class="ln">123</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">// Get the id for the event registration profile</span></code></td>
</tr>
<tr valign="top">
<td class="ln">124</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">eventRegistrationIdParams = $</span><span class="sf18b2">eventRegistrationIdDefaults = </span><span class="sf7b2">array</span><span class="sf3b2">(</span></code></td>
<td class="ln">124</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">eventRegistrationIdParams = $</span><span class="sf18b2">eventRegistrationIdDefaults = </span><span class="sf7b2">array</span><span class="sf3b2">(</span></code></td>
</tr>
<tr valign="top">
<td class="ln">125</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf12b2">'name'</span><span class="sf3b2"> =&gt; </span><span class="sf12b2">'event_registration'</span><span class="sf3b2">,</span></code></td>
<td class="ln">125</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf12b2">'name'</span><span class="sf3b2"> =&gt; </span><span class="sf12b2">'event_registration'</span><span class="sf3b2">,</span></code></td>
</tr>
<tr valign="top">
<td class="ln">126</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;);</span></code></td>
<td class="ln">126</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">127</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf8b2">CRM_Core_BAO_UFGroup::retrieve</span><span class="sf3b2">($</span><span class="sf18b2">eventRegistrationIdP<wbr>arams, $</span><span class="sf18b2">eventRegistrationIdDefaults);</span></code></td>
<td class="ln">127</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf8b2">CRM_Core_BAO_UFGroup::retrieve</span><span class="sf3b2">($</span><span class="sf18b2">eventRegistrationIdP<wbr>arams, $</span><span class="sf18b2">eventRegistrationIdDefaults);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">128</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">128</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">129</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">// Set event registration as the default profile if none selected</span></code></td>
<td class="ln">129</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">// Set event registration as the default profile if none selected</span></code></td>
</tr>
<tr valign="top">
<td class="ln">130</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (!$</span><span class="sf18b2">defaults[</span><span class="sf12b2">'custom_pre_id'</span><span class="sf3b2">] &amp;&amp; </span><span class="sf8b2">count</span><span class="sf3b2">($</span><span class="sf18b2">defaults[</span><span class="sf12b2">'custom_post'</span><span class="sf3b2">]) == </span><span class="sf10b2">0</span><span class="sf3b2">) {</span></code></td>
<td class="ln">130</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (!$</span><span class="sf18b2">defaults[</span><span class="sf12b2">'custom_pre_id'</span><span class="sf3b2">] &amp;&amp; </span><span class="sf8b2">count</span><span class="sf3b2">($</span><span class="sf18b2">defaults[</span><span class="sf12b2">'custom_post'</span><span class="sf3b2">]) == </span><span class="sf10b2">0</span><span class="sf3b2">) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">131</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">defaults[</span><span class="sf12b2">'custom_pre_id'</span><span class="sf3b2">] = </span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'id'</span><span class="sf3b2">, $</span><span class="sf18b2">eventRegistrationIdDefaults);</span></code></td>
<td class="ln">131</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">defaults[</span><span class="sf12b2">'custom_pre_id'</span><span class="sf3b2">] = </span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'id'</span><span class="sf3b2">, $</span><span class="sf18b2">eventRegistrationIdDefaults);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">132</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">132</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">133</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (</span><span class="sf7b2">isset</span><span class="sf3b2">($</span><span class="sf18b2">defaults[</span><span class="sf12b2">'custom_post'</span><span class="sf3b2">]) &amp;&amp; </span><span class="sf8b2">is_numeric</span><span class="sf3b2">($</span><span class="sf18b2">defaults[</span><span class="sf12b2">'custom_post'</span><span class="sf3b2">])) {</span></code></td>
<td class="ln">133</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (</span><span class="sf7b2">isset</span><span class="sf3b2">($</span><span class="sf18b2">defaults[</span><span class="sf12b2">'custom_post'</span><span class="sf3b2">]) &amp;&amp; </span><span class="sf8b2">is_numeric</span><span class="sf3b2">($</span><span class="sf18b2">defaults[</span><span class="sf12b2">'custom_post'</span><span class="sf3b2">])) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">134</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">defaults[</span><span class="sf12b2">'custom_post_id'</span><span class="sf3b2">] = $</span><span class="sf18b2">defaults[</span><span class="sf12b2">'custom_post'</span><span class="sf3b2">];</span></code></td>
<td class="ln">134</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">defaults[</span><span class="sf12b2">'custom_post_id'</span><span class="sf3b2">] = $</span><span class="sf18b2">defaults[</span><span class="sf12b2">'custom_post'</span><span class="sf3b2">];</span></code></td>
</tr>
<tr valign="top">
<td class="ln">135</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">135</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">136</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">elseif</span><span class="sf3b2"> (!</span><span class="sf7b2">empty</span><span class="sf3b2">($</span><span class="sf18b2">defaults[</span><span class="sf12b2">'custom_post'</span><span class="sf3b2">])) {</span></code></td>
<td class="ln">136</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">elseif</span><span class="sf3b2"> (!</span><span class="sf7b2">empty</span><span class="sf3b2">($</span><span class="sf18b2">defaults[</span><span class="sf12b2">'custom_post'</span><span class="sf3b2">])) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">137</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">defaults[</span><span class="sf12b2">'custom_post_id'</span><span class="sf3b2">] = $</span><span class="sf18b2">defaults[</span><span class="sf12b2">'custom_post'</span><span class="sf3b2">][</span><span class="sf10b2">0</span><span class="sf3b2">];</span></code></td>
<td class="ln">137</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">defaults[</span><span class="sf12b2">'custom_post_id'</span><span class="sf3b2">] = $</span><span class="sf18b2">defaults[</span><span class="sf12b2">'custom_post'</span><span class="sf3b2">][</span><span class="sf10b2">0</span><span class="sf3b2">];</span></code></td>
</tr>
<tr valign="top">
<td class="ln">138</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">unset</span><span class="sf3b2">($</span><span class="sf18b2">defaults[</span><span class="sf12b2">'custom_post'</span><span class="sf3b2">][</span><span class="sf10b2">0</span><span class="sf3b2">]);</span></code></td>
<td class="ln">138</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">unset</span><span class="sf3b2">($</span><span class="sf18b2">defaults[</span><span class="sf12b2">'custom_post'</span><span class="sf3b2">][</span><span class="sf10b2">0</span><span class="sf3b2">]);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">139</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;_profilePostMultiple = $</span><span class="sf18b2">defaults[</span><span class="sf12b2">'custom_post'</span><span class="sf3b2">];</span></code></td>
<td class="ln">139</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;_profilePostMultiple = $</span><span class="sf18b2">defaults[</span><span class="sf12b2">'custom_post'</span><span class="sf3b2">];</span></code></td>
</tr>
<tr valign="top">
<td class="ln">140</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">foreach</span><span class="sf3b2"> ($</span><span class="sf18b2">defaults[</span><span class="sf12b2">'custom_post'</span><span class="sf3b2">] </span><span class="sf7b2">as</span><span class="sf3b2"> $</span><span class="sf18b2">key =&gt; $</span><span class="sf18b2">value) {</span></code></td>
<td class="ln">140</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">foreach</span><span class="sf3b2"> ($</span><span class="sf18b2">defaults[</span><span class="sf12b2">'custom_post'</span><span class="sf3b2">] </span><span class="sf7b2">as</span><span class="sf3b2"> $</span><span class="sf18b2">key =&gt; $</span><span class="sf18b2">value) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">141</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf8b2">self::buildMultipleProfileBottom</span><span class="sf3b2">($</span><span class="sf18b2">this, $</span><span class="sf18b2">key);</span></code></td>
<td class="ln">141</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf8b2">self::buildMultipleProfileBottom</span><span class="sf3b2">($</span><span class="sf18b2">this, $</span><span class="sf18b2">key);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">142</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">defaults[</span><span class="sf12b2">"custom_post_id_multiple[$key]"</span><span class="sf3b2">] = $</span><span class="sf18b2">value;</span></code></td>
<td class="ln">142</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">defaults[</span><span class="sf12b2">"custom_post_id_multiple[$key]"</span><span class="sf3b2">] = $</span><span class="sf18b2">value;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">143</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">143</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">144</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">144</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">145</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">145</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">146</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">assign</span><span class="sf3b2">(</span><span class="sf12b2">'profilePostMultiple'</span><span class="sf3b2">, </span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'custom_post'</span><span class="sf3b2">, $</span><span class="sf18b2">defaults));</span></code></td>
<td class="ln">146</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">assign</span><span class="sf3b2">(</span><span class="sf12b2">'profilePostMultiple'</span><span class="sf3b2">, </span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'custom_post'</span><span class="sf3b2">, $</span><span class="sf18b2">defaults));</span></code></td>
</tr>
<tr valign="top">
<td class="ln">147</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">147</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">148</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (</span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'is_multiple_registrations'</span><span class="sf3b2">,<wbr> $</span><span class="sf18b2">defaults)) {</span></code></td>
<td class="ln">148</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (</span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'is_multiple_registrations'</span><span class="sf3b2">,<wbr> $</span><span class="sf18b2">defaults)) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">149</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">// CRM-4377: set additional participantsâ€™ profiles â€“ set to â€˜noneâ€™ if explicitly unset (non-active)</span></code></td>
<td class="ln">149</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">// CRM-4377: set additional participantsâ€™ profiles â€“ set to â€˜noneâ€™ if explicitly unset (non-active)</span></code></td>
</tr>
<tr valign="top">
<td class="ln">150</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">150</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">151</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">ufJoinAddParams = </span><span class="sf7b2">array</span><span class="sf3b2">(</span></code></td>
<td class="ln">151</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">ufJoinAddParams = </span><span class="sf7b2">array</span><span class="sf3b2">(</span></code></td>
</tr>
<tr valign="top">
<td class="ln">152</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf12b2">'entity_table'</span><span class="sf3b2"> =&gt; </span><span class="sf12b2">'civicrm_event'</span><span class="sf3b2">,</span></code></td>
<td class="ln">152</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf12b2">'entity_table'</span><span class="sf3b2"> =&gt; </span><span class="sf12b2">'civicrm_event'</span><span class="sf3b2">,</span></code></td>
</tr>
<tr valign="top">
<td class="ln">153</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf12b2">'module'</span><span class="sf3b2"> =&gt; </span><span class="sf12b2">'CiviEvent_Additional'</span><span class="sf3b2">,</span></code></td>
<td class="ln">153</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf12b2">'module'</span><span class="sf3b2"> =&gt; </span><span class="sf12b2">'CiviEvent_Additional'</span><span class="sf3b2">,</span></code></td>
</tr>
<tr valign="top">
<td class="ln">154</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf12b2">'entity_id'</span><span class="sf3b2"> =&gt; $</span><span class="sf18b2">eventId,</span></code></td>
<td class="ln">154</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf12b2">'entity_id'</span><span class="sf3b2"> =&gt; $</span><span class="sf18b2">eventId,</span></code></td>
</tr>
<tr valign="top">
<td class="ln">155</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;);</span></code></td>
<td class="ln">155</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">156</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">156</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">157</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">list</span><span class="sf3b2">($</span><span class="sf18b2">defaults[</span><span class="sf12b2">'additional_custom_pre_id'</span><span class="sf3b2">],</span></code></td>
<td class="ln">157</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">list</span><span class="sf3b2">($</span><span class="sf18b2">defaults[</span><span class="sf12b2">'additional_custom_pre_id'</span><span class="sf3b2">],</span></code></td>
</tr>
<tr valign="top">
<td class="ln">158</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">defaults[</span><span class="sf12b2">'additional_custom_post'</span><span class="sf3b2">]</span></code></td>
<td class="ln">158</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">defaults[</span><span class="sf12b2">'additional_custom_post'</span><span class="sf3b2">]</span></code></td>
</tr>
<tr valign="top">
<td class="ln">159</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;) = </span><span class="sf8b2">CRM_Core_BAO_UFJoin::getUFGroupIds</span><span class="sf3b2">($</span><span class="sf18b2">ufJoinAddParams)<wbr>;</span></code></td>
<td class="ln">159</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;) = </span><span class="sf8b2">CRM_Core_BAO_UFJoin::getUFGroupIds</span><span class="sf3b2">($</span><span class="sf18b2">ufJoinAddParams)<wbr>;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">160</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">160</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">161</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (</span><span class="sf7b2">isset</span><span class="sf3b2">($</span><span class="sf18b2">defaults[</span><span class="sf12b2">'additional_custom_post'</span><span class="sf3b2">]) &amp;&amp; </span><span class="sf8b2">is_numeric</span><span class="sf3b2">($</span><span class="sf18b2">defaults[</span><span class="sf12b2">'additional_custom_post'</span><span class="sf3b2">])) {</span></code></td>
<td class="ln">161</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (</span><span class="sf7b2">isset</span><span class="sf3b2">($</span><span class="sf18b2">defaults[</span><span class="sf12b2">'additional_custom_post'</span><span class="sf3b2">]) &amp;&amp; </span><span class="sf8b2">is_numeric</span><span class="sf3b2">($</span><span class="sf18b2">defaults[</span><span class="sf12b2">'additional_custom_post'</span><span class="sf3b2">])) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">162</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">defaults[</span><span class="sf12b2">'additional_custom_post_id'</span><span class="sf3b2">] = $</span><span class="sf18b2">defaults[</span><span class="sf12b2">'additional_custom_post'</span><span class="sf3b2">];</span></code></td>
<td class="ln">162</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">defaults[</span><span class="sf12b2">'additional_custom_post_id'</span><span class="sf3b2">] = $</span><span class="sf18b2">defaults[</span><span class="sf12b2">'additional_custom_post'</span><span class="sf3b2">];</span></code></td>
</tr>
<tr valign="top">
<td class="ln">163</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">163</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">164</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">elseif</span><span class="sf3b2"> (!</span><span class="sf7b2">empty</span><span class="sf3b2">($</span><span class="sf18b2">defaults[</span><span class="sf12b2">'additional_custom_post'</span><span class="sf3b2">])) {</span></code></td>
<td class="ln">164</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">elseif</span><span class="sf3b2"> (!</span><span class="sf7b2">empty</span><span class="sf3b2">($</span><span class="sf18b2">defaults[</span><span class="sf12b2">'additional_custom_post'</span><span class="sf3b2">])) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">165</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">defaults[</span><span class="sf12b2">'additional_custom_post_id'</span><span class="sf3b2">] = $</span><span class="sf18b2">defaults[</span><span class="sf12b2">'additional_custom_post'</span><span class="sf3b2">][</span><span class="sf10b2">0</span><span class="sf3b2">];</span></code></td>
<td class="ln">165</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">defaults[</span><span class="sf12b2">'additional_custom_post_id'</span><span class="sf3b2">] = $</span><span class="sf18b2">defaults[</span><span class="sf12b2">'additional_custom_post'</span><span class="sf3b2">][</span><span class="sf10b2">0</span><span class="sf3b2">];</span></code></td>
</tr>
<tr valign="top">
<td class="ln">166</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">unset</span><span class="sf3b2">($</span><span class="sf18b2">defaults[</span><span class="sf12b2">'additional_custom_post'</span><span class="sf3b2">][</span><span class="sf10b2">0</span><span class="sf3b2">]);</span></code></td>
<td class="ln">166</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">unset</span><span class="sf3b2">($</span><span class="sf18b2">defaults[</span><span class="sf12b2">'additional_custom_post'</span><span class="sf3b2">][</span><span class="sf10b2">0</span><span class="sf3b2">]);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">167</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">167</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">168</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;_profilePostMultipleAdd = $</span><span class="sf18b2">defaults[</span><span class="sf12b2">'additional_custom_post'</span><span class="sf3b2">];</span></code></td>
<td class="ln">168</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;_profilePostMultipleAdd = $</span><span class="sf18b2">defaults[</span><span class="sf12b2">'additional_custom_post'</span><span class="sf3b2">];</span></code></td>
</tr>
<tr valign="top">
<td class="ln">169</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">foreach</span><span class="sf3b2"> ($</span><span class="sf18b2">defaults[</span><span class="sf12b2">'additional_custom_post'</span><span class="sf3b2">] </span><span class="sf7b2">as</span><span class="sf3b2"> $</span><span class="sf18b2">key =&gt; $</span><span class="sf18b2">value) {</span></code></td>
<td class="ln">169</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">foreach</span><span class="sf3b2"> ($</span><span class="sf18b2">defaults[</span><span class="sf12b2">'additional_custom_post'</span><span class="sf3b2">] </span><span class="sf7b2">as</span><span class="sf3b2"> $</span><span class="sf18b2">key =&gt; $</span><span class="sf18b2">value) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">170</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf8b2">self::buildMultipleProfileBottom</span><span class="sf3b2">($</span><span class="sf18b2">this, $</span><span class="sf18b2">key, </span><span class="sf12b2">'additional_'</span><span class="sf3b2">, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Profile for Additional Participants'</span><span class="sf3b2">));</span></code></td>
<td class="ln">170</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf8b2">self::buildMultipleProfileBottom</span><span class="sf3b2">($</span><span class="sf18b2">this, $</span><span class="sf18b2">key, </span><span class="sf12b2">'additional_'</span><span class="sf3b2">, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Profile for Additional Participants'</span><span class="sf3b2">));</span></code></td>
</tr>
<tr valign="top">
<td class="ln">171</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">defaults[</span><span class="sf12b2">"additional_custom_post_id_multiple[$key]"<wbr></span><span class="sf3b2">] = $</span><span class="sf18b2">value;</span></code></td>
<td class="ln">171</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">defaults[</span><span class="sf12b2">"additional_custom_post_id_multiple[$key]"<wbr></span><span class="sf3b2">] = $</span><span class="sf18b2">value;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">172</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">172</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">173</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">173</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">174</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">assign</span><span class="sf3b2">(</span><span class="sf12b2">'profilePostMultipleAdd'</span><span class="sf3b2">, </span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'additional_custom_post'</span><span class="sf3b2">, $</span><span class="sf18b2">defaults));</span></code></td>
<td class="ln">174</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">assign</span><span class="sf3b2">(</span><span class="sf12b2">'profilePostMultipleAdd'</span><span class="sf3b2">, </span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'additional_custom_post'</span><span class="sf3b2">, $</span><span class="sf18b2">defaults));</span></code></td>
</tr>
<tr valign="top">
<td class="ln">175</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">175</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">176</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;}</span></code></td>
<td class="ln">176</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">177</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">else</span><span class="sf3b2"> {</span></code></td>
<td class="ln">177</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">else</span><span class="sf3b2"> {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">178</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">defaults[</span><span class="sf12b2">'is_email_confirm'</span><span class="sf3b2">] = </span><span class="sf10b2">0</span><span class="sf3b2">;</span></code></td>
<td class="ln">178</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">defaults[</span><span class="sf12b2">'is_email_confirm'</span><span class="sf3b2">] = </span><span class="sf10b2">0</span><span class="sf3b2">;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">179</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;}</span></code></td>
<td class="ln">179</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">180</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">180</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">181</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf9b2">// provide defaults for required fields if empty (and as a 'hint' for approval message field)</span></code></td>
<td class="ln">181</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf9b2">// provide defaults for required fields if empty (and as a 'hint' for approval message field)</span></code></td>
</tr>
<tr valign="top">
<td class="ln">182</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">defaults[</span><span class="sf12b2">'registration_link_text'</span><span class="sf3b2">] = </span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'registration_link_text'</span><span class="sf3b2">, $</span><span class="sf18b2">defaults, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Register Now'</span><span class="sf3b2">));</span></code></td>
<td class="ln">182</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">defaults[</span><span class="sf12b2">'registration_link_text'</span><span class="sf3b2">] = </span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'registration_link_text'</span><span class="sf3b2">, $</span><span class="sf18b2">defaults, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Register Now'</span><span class="sf3b2">));</span></code></td>
</tr>
<tr valign="top">
<td class="ln">183</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">defaults[</span><span class="sf12b2">'confirm_title'</span><span class="sf3b2">] = </span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'confirm_title'</span><span class="sf3b2">, $</span><span class="sf18b2">defaults, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Confirm Your Registration Information'</span><span class="sf3b2">));</span></code></td>
<td class="ln">183</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">defaults[</span><span class="sf12b2">'confirm_title'</span><span class="sf3b2">] = </span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'confirm_title'</span><span class="sf3b2">, $</span><span class="sf18b2">defaults, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Confirm Your Registration Information'</span><span class="sf3b2">));</span></code></td>
</tr>
<tr valign="top">
<td class="ln">184</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">defaults[</span><span class="sf12b2">'thankyou_title'</span><span class="sf3b2">] = </span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'thankyou_title'</span><span class="sf3b2">, $</span><span class="sf18b2">defaults, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Thank You for Registering'</span><span class="sf3b2">));</span></code></td>
<td class="ln">184</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">defaults[</span><span class="sf12b2">'thankyou_title'</span><span class="sf3b2">] = </span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'thankyou_title'</span><span class="sf3b2">, $</span><span class="sf18b2">defaults, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Thank You for Registering'</span><span class="sf3b2">));</span></code></td>
</tr>
<tr valign="top">
<td class="ln">185</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">defaults[</span><span class="sf12b2">'approval_req_text'</span><span class="sf3b2">] = </span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'approval_req_text'</span><span class="sf3b2">, $</span><span class="sf18b2">defaults, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Participation in this event requires approval. Submit your registration request here. Once approved, you will receive an email with a link to a web page where you can complete the registration process.'</span><span class="sf3b2">));</span></code></td>
<td class="ln">185</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">defaults[</span><span class="sf12b2">'approval_req_text'</span><span class="sf3b2">] = </span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'approval_req_text'</span><span class="sf3b2">, $</span><span class="sf18b2">defaults, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Participation in this event requires approval. Submit your registration request here. Once approved, you will receive an email with a link to a web page where you can complete the registration process.'</span><span class="sf3b2">));</span></code></td>
</tr>
<tr valign="top">
<td class="ln">186</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">186</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">187</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (</span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'registration_start_date'</span><span class="sf3b2">, $</span><span class="sf18b2">defaults)) {</span></code></td>
<td class="ln">187</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (</span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'registration_start_date'</span><span class="sf3b2">, $</span><span class="sf18b2">defaults)) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">188</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">list</span><span class="sf3b2">($</span><span class="sf18b2">defaults[</span><span class="sf12b2">'registration_start_date'</span><span class="sf3b2">],</span></code></td>
<td class="ln">188</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">list</span><span class="sf3b2">($</span><span class="sf18b2">defaults[</span><span class="sf12b2">'registration_start_date'</span><span class="sf3b2">],</span></code></td>
</tr>
<tr valign="top">
<td class="ln">189</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">defaults[</span><span class="sf12b2">'registration_start_date_time'</span><span class="sf3b2">]</span></code></td>
<td class="ln">189</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">defaults[</span><span class="sf12b2">'registration_start_date_time'</span><span class="sf3b2">]</span></code></td>
</tr>
<tr valign="top">
<td class="ln">190</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;) = </span><span class="sf8b2">CRM_Utils_Date::setDateDefaults</span><span class="sf3b2">($</span><span class="sf18b2">defaults[</span><span class="sf12b2">'registrat<wbr>ion_start_date'</span><span class="sf3b2">],</span></code></td>
<td class="ln">190</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;) = </span><span class="sf8b2">CRM_Utils_Date::setDateDefaults</span><span class="sf3b2">($</span><span class="sf18b2">defaults[</span><span class="sf12b2">'registrat<wbr>ion_start_date'</span><span class="sf3b2">],</span></code></td>
</tr>
<tr valign="top">
<td class="ln">191</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf12b2">'activityDateTime'</span>&nbsp;</code></td>
<td class="ln">191</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf12b2">'activityDateTime'</span>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">192</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;);</span></code></td>
<td class="ln">192</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">193</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;}</span></code></td>
<td class="ln">193</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">194</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">194</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">195</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (</span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'registration_end_date'</span><span class="sf3b2">, $</span><span class="sf18b2">defaults)) {</span></code></td>
<td class="ln">195</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (</span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'registration_end_date'</span><span class="sf3b2">, $</span><span class="sf18b2">defaults)) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">196</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">list</span><span class="sf3b2">($</span><span class="sf18b2">defaults[</span><span class="sf12b2">'registration_end_date'</span><span class="sf3b2">],</span></code></td>
<td class="ln">196</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">list</span><span class="sf3b2">($</span><span class="sf18b2">defaults[</span><span class="sf12b2">'registration_end_date'</span><span class="sf3b2">],</span></code></td>
</tr>
<tr valign="top">
<td class="ln">197</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">defaults[</span><span class="sf12b2">'registration_end_date_time'</span><span class="sf3b2">]</span></code></td>
<td class="ln">197</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">defaults[</span><span class="sf12b2">'registration_end_date_time'</span><span class="sf3b2">]</span></code></td>
</tr>
<tr valign="top">
<td class="ln">198</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;) = </span><span class="sf8b2">CRM_Utils_Date::setDateDefaults</span><span class="sf3b2">($</span><span class="sf18b2">defaults[</span><span class="sf12b2">'registrat<wbr>ion_end_date'</span><span class="sf3b2">],</span></code></td>
<td class="ln">198</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;) = </span><span class="sf8b2">CRM_Utils_Date::setDateDefaults</span><span class="sf3b2">($</span><span class="sf18b2">defaults[</span><span class="sf12b2">'registrat<wbr>ion_end_date'</span><span class="sf3b2">],</span></code></td>
</tr>
<tr valign="top">
<td class="ln">199</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf12b2">'activityDateTime'</span>&nbsp;</code></td>
<td class="ln">199</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf12b2">'activityDateTime'</span>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">200</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;);</span></code></td>
<td class="ln">200</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">201</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;}</span></code></td>
<td class="ln">201</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">202</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">202</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">203</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">return</span><span class="sf3b2"> $</span><span class="sf18b2">defaults;</span></code></td>
<td class="ln">203</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">return</span><span class="sf3b2"> $</span><span class="sf18b2">defaults;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">204</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;}</span></code></td>
<td class="ln">204</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">205</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">205</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">206</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf9b2">/**</span></code></td>
<td class="ln">206</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf9b2">/**</span></code></td>
</tr>
<tr valign="top">
<td class="ln">207</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * Fix what blocks to show/hide based on the default values set</span></code></td>
<td class="ln">207</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * Fix what blocks to show/hide based on the default values set</span></code></td>
</tr>
<tr valign="top">
<td class="ln">208</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; *</span></code></td>
<td class="ln">208</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; *</span></code></td>
</tr>
<tr valign="top">
<td class="ln">209</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * @param array &nbsp; $defaults the array of default values</span></code></td>
<td class="ln">209</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * @param array &nbsp; $defaults the array of default values</span></code></td>
</tr>
<tr valign="top">
<td class="ln">210</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * @param boolean $force &nbsp; &nbsp;should we set show hide based on input defaults</span></code></td>
<td class="ln">210</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * @param boolean $force &nbsp; &nbsp;should we set show hide based on input defaults</span></code></td>
</tr>
<tr valign="top">
<td class="ln">211</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; *</span></code></td>
<td class="ln">211</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; *</span></code></td>
</tr>
<tr valign="top">
<td class="ln">212</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * @return void</span></code></td>
<td class="ln">212</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * @return void</span></code></td>
</tr>
<tr valign="top">
<td class="ln">213</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; */</span>&nbsp;</code></td>
<td class="ln">213</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; */</span>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">214</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf7b2">function</span><span class="sf3b2"> </span><span class="sf8b2">setShowHide</span><span class="sf3b2">(&amp;$</span><span class="sf18b2">defaults) {</span></code></td>
<td class="ln">214</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf7b2">function</span><span class="sf3b2"> </span><span class="sf8b2">setShowHide</span><span class="sf3b2">(&amp;$</span><span class="sf18b2">defaults) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">215</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">_showHide = new CRM_Core_ShowHideBlocks</span><span class="sf3b2">(</span><span class="sf7b2">array</span><span class="sf3b2">(</span><span class="sf12b2">'registration'</span><span class="sf3b2"> =&gt; </span><span class="sf10b2">1</span><span class="sf3b2">),</span></code></td>
<td class="ln">215</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">_showHide = new CRM_Core_ShowHideBlocks</span><span class="sf3b2">(</span><span class="sf7b2">array</span><span class="sf3b2">(</span><span class="sf12b2">'registration'</span><span class="sf3b2"> =&gt; </span><span class="sf10b2">1</span><span class="sf3b2">),</span></code></td>
</tr>
<tr valign="top">
<td class="ln">216</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf12b2">''</span>&nbsp;</code></td>
<td class="ln">216</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf12b2">''</span>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">217</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;);</span></code></td>
<td class="ln">217</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">218</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (</span><span class="sf7b2">empty</span><span class="sf3b2">($</span><span class="sf18b2">defaults)) {</span></code></td>
<td class="ln">218</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (</span><span class="sf7b2">empty</span><span class="sf3b2">($</span><span class="sf18b2">defaults)) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">219</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">_showHide-&gt;addShow</span><span class="sf3b2">(</span><span class="sf12b2">'registration_screen_show'<wbr></span><span class="sf3b2">);</span></code></td>
<td class="ln">219</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">_showHide-&gt;addShow</span><span class="sf3b2">(</span><span class="sf12b2">'registration_screen_show'<wbr></span><span class="sf3b2">);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">220</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">_showHide-&gt;addShow</span><span class="sf3b2">(</span><span class="sf12b2">'confirm_show'</span><span class="sf3b2">);</span></code></td>
<td class="ln">220</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">_showHide-&gt;addShow</span><span class="sf3b2">(</span><span class="sf12b2">'confirm_show'</span><span class="sf3b2">);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">221</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">_showHide-&gt;addShow</span><span class="sf3b2">(</span><span class="sf12b2">'mail_show'</span><span class="sf3b2">);</span></code></td>
<td class="ln">221</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">_showHide-&gt;addShow</span><span class="sf3b2">(</span><span class="sf12b2">'mail_show'</span><span class="sf3b2">);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">222</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">_showHide-&gt;addShow</span><span class="sf3b2">(</span><span class="sf12b2">'thankyou_show'</span><span class="sf3b2">);</span></code></td>
<td class="ln">222</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">_showHide-&gt;addShow</span><span class="sf3b2">(</span><span class="sf12b2">'thankyou_show'</span><span class="sf3b2">);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">223</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">_showHide-&gt;addHide</span><span class="sf3b2">(</span><span class="sf12b2">'registration'</span><span class="sf3b2">);</span></code></td>
<td class="ln">223</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">_showHide-&gt;addHide</span><span class="sf3b2">(</span><span class="sf12b2">'registration'</span><span class="sf3b2">);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">224</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">_showHide-&gt;addHide</span><span class="sf3b2">(</span><span class="sf12b2">'registration_screen'</span><span class="sf3b2">);</span></code></td>
<td class="ln">224</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">_showHide-&gt;addHide</span><span class="sf3b2">(</span><span class="sf12b2">'registration_screen'</span><span class="sf3b2">);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">225</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">_showHide-&gt;addHide</span><span class="sf3b2">(</span><span class="sf12b2">'confirm'</span><span class="sf3b2">);</span></code></td>
<td class="ln">225</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">_showHide-&gt;addHide</span><span class="sf3b2">(</span><span class="sf12b2">'confirm'</span><span class="sf3b2">);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">226</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">_showHide-&gt;addHide</span><span class="sf3b2">(</span><span class="sf12b2">'mail'</span><span class="sf3b2">);</span></code></td>
<td class="ln">226</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">_showHide-&gt;addHide</span><span class="sf3b2">(</span><span class="sf12b2">'mail'</span><span class="sf3b2">);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">227</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">_showHide-&gt;addHide</span><span class="sf3b2">(</span><span class="sf12b2">'thankyou'</span><span class="sf3b2">);</span></code></td>
<td class="ln">227</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">_showHide-&gt;addHide</span><span class="sf3b2">(</span><span class="sf12b2">'thankyou'</span><span class="sf3b2">);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">228</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">_showHide-&gt;addHide</span><span class="sf3b2">(</span><span class="sf12b2">'additional_profile_pre'</span><span class="sf3b2">);<wbr></span></code></td>
<td class="ln">228</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">_showHide-&gt;addHide</span><span class="sf3b2">(</span><span class="sf12b2">'additional_profile_pre'</span><span class="sf3b2">);<wbr></span></code></td>
</tr>
<tr valign="top">
<td class="ln">229</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">_showHide-&gt;addHide</span><span class="sf3b2">(</span><span class="sf12b2">'additional_profile_post'</span><span class="sf3b2">)<wbr>;</span></code></td>
<td class="ln">229</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">_showHide-&gt;addHide</span><span class="sf3b2">(</span><span class="sf12b2">'additional_profile_post'</span><span class="sf3b2">)<wbr>;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">230</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">_showHide-&gt;addHide</span><span class="sf3b2">(</span><span class="sf12b2">'id-approval-text'</span><span class="sf3b2">);</span></code></td>
<td class="ln">230</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">_showHide-&gt;addHide</span><span class="sf3b2">(</span><span class="sf12b2">'id-approval-text'</span><span class="sf3b2">);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">231</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;}</span></code></td>
<td class="ln">231</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">232</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">else</span><span class="sf3b2"> {</span></code></td>
<td class="ln">232</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">else</span><span class="sf3b2"> {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">233</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">_showHide-&gt;addShow</span><span class="sf3b2">(</span><span class="sf12b2">'confirm'</span><span class="sf3b2">);</span></code></td>
<td class="ln">233</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">_showHide-&gt;addShow</span><span class="sf3b2">(</span><span class="sf12b2">'confirm'</span><span class="sf3b2">);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">234</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">_showHide-&gt;addShow</span><span class="sf3b2">(</span><span class="sf12b2">'mail'</span><span class="sf3b2">);</span></code></td>
<td class="ln">234</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">_showHide-&gt;addShow</span><span class="sf3b2">(</span><span class="sf12b2">'mail'</span><span class="sf3b2">);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">235</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">_showHide-&gt;addShow</span><span class="sf3b2">(</span><span class="sf12b2">'thankyou'</span><span class="sf3b2">);</span></code></td>
<td class="ln">235</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">_showHide-&gt;addShow</span><span class="sf3b2">(</span><span class="sf12b2">'thankyou'</span><span class="sf3b2">);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">236</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">_showHide-&gt;addHide</span><span class="sf3b2">(</span><span class="sf12b2">'registration_screen_show'<wbr></span><span class="sf3b2">);</span></code></td>
<td class="ln">236</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">_showHide-&gt;addHide</span><span class="sf3b2">(</span><span class="sf12b2">'registration_screen_show'<wbr></span><span class="sf3b2">);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">237</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">_showHide-&gt;addHide</span><span class="sf3b2">(</span><span class="sf12b2">'confirm_show'</span><span class="sf3b2">);</span></code></td>
<td class="ln">237</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">_showHide-&gt;addHide</span><span class="sf3b2">(</span><span class="sf12b2">'confirm_show'</span><span class="sf3b2">);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">238</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">_showHide-&gt;addHide</span><span class="sf3b2">(</span><span class="sf12b2">'mail_show'</span><span class="sf3b2">);</span></code></td>
<td class="ln">238</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">_showHide-&gt;addHide</span><span class="sf3b2">(</span><span class="sf12b2">'mail_show'</span><span class="sf3b2">);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">239</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">_showHide-&gt;addHide</span><span class="sf3b2">(</span><span class="sf12b2">'thankyou_show'</span><span class="sf3b2">);</span></code></td>
<td class="ln">239</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">_showHide-&gt;addHide</span><span class="sf3b2">(</span><span class="sf12b2">'thankyou_show'</span><span class="sf3b2">);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">240</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (!</span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'is_multiple_registrations'<wbr></span><span class="sf3b2">, $</span><span class="sf18b2">defaults)) {</span></code></td>
<td class="ln">240</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (!</span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'is_multiple_registrations'<wbr></span><span class="sf3b2">, $</span><span class="sf18b2">defaults)) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">241</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">_showHide-&gt;addHide</span><span class="sf3b2">(</span><span class="sf12b2">'additional_profile_pre'</span><span class="sf3b2">);<wbr></span></code></td>
<td class="ln">241</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">_showHide-&gt;addHide</span><span class="sf3b2">(</span><span class="sf12b2">'additional_profile_pre'</span><span class="sf3b2">);<wbr></span></code></td>
</tr>
<tr valign="top">
<td class="ln">242</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">_showHide-&gt;addHide</span><span class="sf3b2">(</span><span class="sf12b2">'additional_profile_post'</span><span class="sf3b2">)<wbr>;</span></code></td>
<td class="ln">242</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">_showHide-&gt;addHide</span><span class="sf3b2">(</span><span class="sf12b2">'additional_profile_post'</span><span class="sf3b2">)<wbr>;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">243</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">243</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">244</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (!</span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'requires_approval'</span><span class="sf3b2">, $</span><span class="sf18b2">defaults)) {</span></code></td>
<td class="ln">244</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (!</span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'requires_approval'</span><span class="sf3b2">, $</span><span class="sf18b2">defaults)) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">245</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">_showHide-&gt;addHide</span><span class="sf3b2">(</span><span class="sf12b2">'id-approval-text'</span><span class="sf3b2">);</span></code></td>
<td class="ln">245</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">_showHide-&gt;addHide</span><span class="sf3b2">(</span><span class="sf12b2">'id-approval-text'</span><span class="sf3b2">);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">246</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">246</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">247</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;}</span></code></td>
<td class="ln">247</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">248</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">_showHide-&gt;addToTemplate</span><span class="sf3b2">();</span></code></td>
<td class="ln">248</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">_showHide-&gt;addToTemplate</span><span class="sf3b2">();</span></code></td>
</tr>
<tr valign="top">
<td class="ln">249</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;}</span></code></td>
<td class="ln">249</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">250</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">250</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">251</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf9b2">/**</span></code></td>
<td class="ln">251</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf9b2">/**</span></code></td>
</tr>
<tr valign="top">
<td class="ln">252</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * Function to build the form</span></code></td>
<td class="ln">252</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * Function to build the form</span></code></td>
</tr>
<tr valign="top">
<td class="ln">253</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; *</span></code></td>
<td class="ln">253</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; *</span></code></td>
</tr>
<tr valign="top">
<td class="ln">254</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * @return None</span></code></td>
<td class="ln">254</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * @return None</span></code></td>
</tr>
<tr valign="top">
<td class="ln">255</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * @access public</span></code></td>
<td class="ln">255</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * @access public</span></code></td>
</tr>
<tr valign="top">
<td class="ln">256</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; */</span>&nbsp;</code></td>
<td class="ln">256</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; */</span>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">257</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf8b2">public function buildQuickForm</span><span class="sf3b2">() {</span></code></td>
<td class="ln">257</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf8b2">public function buildQuickForm</span><span class="sf3b2">() {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">258</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> ($</span><span class="sf18b2">this-&gt;_addProfileBottom) {</span></code></td>
<td class="ln">258</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> ($</span><span class="sf18b2">this-&gt;_addProfileBottom) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">259</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">return</span><span class="sf3b2"> </span><span class="sf8b2">self::buildMultipleProfileBottom</span><span class="sf3b2">($</span><span class="sf18b2">this, $</span><span class="sf18b2">this-&gt;_profileBottomNum);</span></code></td>
<td class="ln">259</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">return</span><span class="sf3b2"> </span><span class="sf8b2">self::buildMultipleProfileBottom</span><span class="sf3b2">($</span><span class="sf18b2">this, $</span><span class="sf18b2">this-&gt;_profileBottomNum);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">260</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;}</span></code></td>
<td class="ln">260</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">261</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">261</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">262</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> ($</span><span class="sf18b2">this-&gt;_addProfileBottomAdd) {</span></code></td>
<td class="ln">262</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> ($</span><span class="sf18b2">this-&gt;_addProfileBottomAdd) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">263</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">return</span><span class="sf3b2"> </span><span class="sf8b2">self::buildMultipleProfileBottom</span><span class="sf3b2">($</span><span class="sf18b2">this, $</span><span class="sf18b2">this-&gt;_profileBottomNumAdd, </span><span class="sf12b2">'additional_'</span><span class="sf3b2">, ts</span><span class="sf3b2">(</span><span class="sf12b2">'Profile for Additional Participants'</span><span class="sf3b2">));</span></code></td>
<td class="ln">263</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">return</span><span class="sf3b2"> </span><span class="sf8b2">self::buildMultipleProfileBottom</span><span class="sf3b2">($</span><span class="sf18b2">this, $</span><span class="sf18b2">this-&gt;_profileBottomNumAdd, </span><span class="sf12b2">'additional_'</span><span class="sf3b2">, ts</span><span class="sf3b2">(</span><span class="sf12b2">'Profile for Additional Participants'</span><span class="sf3b2">));</span></code></td>
</tr>
<tr valign="top">
<td class="ln">264</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;}</span></code></td>
<td class="ln">264</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">265</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">265</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">266</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">applyFilter</span><span class="sf3b2">(</span><span class="sf12b2">'__ALL__'</span><span class="sf3b2">, </span><span class="sf12b2">'trim'</span><span class="sf3b2">);</span></code></td>
<td class="ln">266</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">applyFilter</span><span class="sf3b2">(</span><span class="sf12b2">'__ALL__'</span><span class="sf3b2">, </span><span class="sf12b2">'trim'</span><span class="sf3b2">);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">267</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">attributes = </span><span class="sf8b2">CRM_Core_DAO::getAttribute</span><span class="sf3b2">(</span><span class="sf12b2">'CRM_Event_DAO_Event'</span><span class="sf3b2">);</span></code></td>
<td class="ln">267</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">attributes = </span><span class="sf8b2">CRM_Core_DAO::getAttribute</span><span class="sf3b2">(</span><span class="sf12b2">'CRM_Event_DAO_Event'</span><span class="sf3b2">);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">268</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">268</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">269</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">addElement</span><span class="sf3b2">(</span><span class="sf12b2">'checkbox'</span><span class="sf3b2">,</span></code></td>
<td class="ln">269</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">addElement</span><span class="sf3b2">(</span><span class="sf12b2">'checkbox'</span><span class="sf3b2">,</span></code></td>
</tr>
<tr valign="top">
<td class="ln">270</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf12b2">'is_online_registration'</span><span class="sf3b2">,</span></code></td>
<td class="ln">270</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf12b2">'is_online_registration'</span><span class="sf3b2">,</span></code></td>
</tr>
<tr valign="top">
<td class="ln">271</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Allow Online Registration?'</span><span class="sf3b2">),</span></code></td>
<td class="ln">271</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Allow Online Registration?'</span><span class="sf3b2">),</span></code></td>
</tr>
<tr valign="top">
<td class="ln">272</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;NULL,</span></code></td>
<td class="ln">272</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;NULL,</span></code></td>
</tr>
<tr valign="top">
<td class="ln">273</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">array</span><span class="sf3b2">(</span></code></td>
<td class="ln">273</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">array</span><span class="sf3b2">(</span></code></td>
</tr>
<tr valign="top">
<td class="ln">274</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf12b2">'onclick'</span><span class="sf3b2"> =&gt; </span><span class="sf12b2">"return showHideByValue('is_online_registration', </span></code></td>
<td class="ln">274</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf12b2">'onclick'</span><span class="sf3b2"> =&gt; </span><span class="sf12b2">"return showHideByValue('is_online_registration', </span></code></td>
</tr>
<tr valign="top">
<td class="ln">275</td><td class="sf3b2"><code><span class="sf12b2"> &nbsp; &nbsp; &nbsp; &nbsp;'', </span></code></td>
<td class="ln">275</td><td class="sf3b2"><code><span class="sf12b2"> &nbsp; &nbsp; &nbsp; &nbsp;'', </span></code></td>
</tr>
<tr valign="top">
<td class="ln">276</td><td class="sf3b2"><code><span class="sf12b2"> &nbsp; &nbsp; &nbsp; &nbsp;'registration_blocks', </span></code></td>
<td class="ln">276</td><td class="sf3b2"><code><span class="sf12b2"> &nbsp; &nbsp; &nbsp; &nbsp;'registration_blocks', </span></code></td>
</tr>
<tr valign="top">
<td class="ln">277</td><td class="sf3b2"><code><span class="sf12b2"> &nbsp; &nbsp; &nbsp; &nbsp;'block', </span></code></td>
<td class="ln">277</td><td class="sf3b2"><code><span class="sf12b2"> &nbsp; &nbsp; &nbsp; &nbsp;'block', </span></code></td>
</tr>
<tr valign="top">
<td class="ln">278</td><td class="sf3b2"><code><span class="sf12b2"> &nbsp; &nbsp; &nbsp; &nbsp;'radio', </span></code></td>
<td class="ln">278</td><td class="sf3b2"><code><span class="sf12b2"> &nbsp; &nbsp; &nbsp; &nbsp;'radio', </span></code></td>
</tr>
<tr valign="top">
<td class="ln">279</td><td class="sf3b2"><code><span class="sf12b2"> &nbsp; &nbsp; &nbsp; &nbsp;false );"</span><span class="sf3b2">,</span></code></td>
<td class="ln">279</td><td class="sf3b2"><code><span class="sf12b2"> &nbsp; &nbsp; &nbsp; &nbsp;false );"</span><span class="sf3b2">,</span></code></td>
</tr>
<tr valign="top">
<td class="ln">280</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;)</span></code></td>
<td class="ln">280</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;)</span></code></td>
</tr>
<tr valign="top">
<td class="ln">281</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;);</span></code></td>
<td class="ln">281</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">282</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">282</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">283</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">add</span><span class="sf3b2">(</span><span class="sf12b2">'text'</span><span class="sf3b2">, </span><span class="sf12b2">'registration_link_text'</span><span class="sf3b2">, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Registration Link Text'</span><span class="sf3b2">));</span></code></td>
<td class="ln">283</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">add</span><span class="sf3b2">(</span><span class="sf12b2">'text'</span><span class="sf3b2">, </span><span class="sf12b2">'registration_link_text'</span><span class="sf3b2">, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Registration Link Text'</span><span class="sf3b2">));</span></code></td>
</tr>
<tr valign="top">
<td class="ln">284</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">284</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">285</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (!$</span><span class="sf18b2">this-&gt;_isTemplate) {</span></code></td>
<td class="ln">285</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (!$</span><span class="sf18b2">this-&gt;_isTemplate) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">286</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">addDateTime</span><span class="sf3b2">(</span><span class="sf12b2">'registration_start_date'</span><span class="sf3b2">, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Registration Start Date'</span><span class="sf3b2">), </span><span class="sf8b2">FALSE, array</span><span class="sf3b2">(</span><span class="sf12b2">'formatType'</span><span class="sf3b2"> =&gt; </span><span class="sf12b2">'activityDateTime'</span><span class="sf3b2">));</span></code></td>
<td class="ln">286</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">addDateTime</span><span class="sf3b2">(</span><span class="sf12b2">'registration_start_date'</span><span class="sf3b2">, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Registration Start Date'</span><span class="sf3b2">), </span><span class="sf8b2">FALSE, array</span><span class="sf3b2">(</span><span class="sf12b2">'formatType'</span><span class="sf3b2"> =&gt; </span><span class="sf12b2">'activityDateTime'</span><span class="sf3b2">));</span></code></td>
</tr>
<tr valign="top">
<td class="ln">287</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">addDateTime</span><span class="sf3b2">(</span><span class="sf12b2">'registration_end_date'</span><span class="sf3b2">, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Registration End Date'</span><span class="sf3b2">), </span><span class="sf8b2">FALSE, array</span><span class="sf3b2">(</span><span class="sf12b2">'formatType'</span><span class="sf3b2"> =&gt; </span><span class="sf12b2">'activityDateTime'</span><span class="sf3b2">));</span></code></td>
<td class="ln">287</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">addDateTime</span><span class="sf3b2">(</span><span class="sf12b2">'registration_end_date'</span><span class="sf3b2">, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Registration End Date'</span><span class="sf3b2">), </span><span class="sf8b2">FALSE, array</span><span class="sf3b2">(</span><span class="sf12b2">'formatType'</span><span class="sf3b2"> =&gt; </span><span class="sf12b2">'activityDateTime'</span><span class="sf3b2">));</span></code></td>
</tr>
<tr valign="top">
<td class="ln">288</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;}</span></code></td>
<td class="ln">288</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">289</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">289</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">290</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">params = </span><span class="sf7b2">array</span><span class="sf3b2">(</span></code></td>
<td class="ln">290</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">params = </span><span class="sf7b2">array</span><span class="sf3b2">(</span></code></td>
</tr>
<tr valign="top">
<td class="ln">291</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf12b2">'level'</span><span class="sf3b2"> =&gt; </span><span class="sf12b2">'Fuzzy'</span><span class="sf3b2">,</span></code></td>
<td class="ln">291</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf12b2">'level'</span><span class="sf3b2"> =&gt; </span><span class="sf12b2">'Fuzzy'</span><span class="sf3b2">,</span></code></td>
</tr>
<tr valign="top">
<td class="ln">292</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf12b2">'contact_type'</span><span class="sf3b2"> =&gt; </span><span class="sf12b2">'Individual'</span><span class="sf3b2">,</span></code></td>
<td class="ln">292</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf12b2">'contact_type'</span><span class="sf3b2"> =&gt; </span><span class="sf12b2">'Individual'</span><span class="sf3b2">,</span></code></td>
</tr>
<tr valign="top">
<td class="ln">293</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;);</span></code></td>
<td class="ln">293</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">294</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">dedupeRuleFields = </span><span class="sf8b2">CRM_Dedupe_BAO_Rule::dedupeRuleFields</span><span class="sf3b2">($</span><span class="sf18b2">params);</span></code></td>
<td class="ln">294</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">dedupeRuleFields = </span><span class="sf8b2">CRM_Dedupe_BAO_Rule::dedupeRuleFields</span><span class="sf3b2">($</span><span class="sf18b2">params);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">295</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">295</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">296</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">foreach</span><span class="sf3b2"> ($</span><span class="sf18b2">dedupeRuleFields </span><span class="sf7b2">as</span><span class="sf3b2"> $</span><span class="sf18b2">key =&gt; $</span><span class="sf18b2">fields) {</span></code></td>
<td class="ln">296</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">foreach</span><span class="sf3b2"> ($</span><span class="sf18b2">dedupeRuleFields </span><span class="sf7b2">as</span><span class="sf3b2"> $</span><span class="sf18b2">key =&gt; $</span><span class="sf18b2">fields) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">297</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">ruleFields[$</span><span class="sf18b2">key] = </span><span class="sf8b2">ucwords</span><span class="sf3b2">(</span><span class="sf8b2">str_replace</span><span class="sf3b2">(</span><span class="sf12b2">'_'</span><span class="sf3b2">, </span><span class="sf12b2">' '</span><span class="sf3b2">, $</span><span class="sf18b2">fields));</span></code></td>
<td class="ln">297</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">ruleFields[$</span><span class="sf18b2">key] = </span><span class="sf8b2">ucwords</span><span class="sf3b2">(</span><span class="sf8b2">str_replace</span><span class="sf3b2">(</span><span class="sf12b2">'_'</span><span class="sf3b2">, </span><span class="sf12b2">' '</span><span class="sf3b2">, $</span><span class="sf18b2">fields));</span></code></td>
</tr>
<tr valign="top">
<td class="ln">298</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;}</span></code></td>
<td class="ln">298</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">299</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">299</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">300</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">addElement</span><span class="sf3b2">(</span><span class="sf12b2">'checkbox'</span><span class="sf3b2">,</span></code></td>
<td class="ln">300</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">addElement</span><span class="sf3b2">(</span><span class="sf12b2">'checkbox'</span><span class="sf3b2">,</span></code></td>
</tr>
<tr valign="top">
<td class="ln">301</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf12b2">'is_multiple_registrations'</span><span class="sf3b2">,</span></code></td>
<td class="ln">301</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf12b2">'is_multiple_registrations'</span><span class="sf3b2">,</span></code></td>
</tr>
<tr valign="top">
<td class="ln">302</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Register multiple participants?'</span><span class="sf3b2">),</span></code></td>
<td class="ln">302</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Register multiple participants?'</span><span class="sf3b2">),</span></code></td>
</tr>
<tr valign="top">
<td class="ln">303</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;NULL,</span></code></td>
<td class="ln">303</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;NULL,</span></code></td>
</tr>
<tr valign="top">
<td class="ln">304</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">array</span><span class="sf3b2">(</span></code></td>
<td class="ln">304</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">array</span><span class="sf3b2">(</span></code></td>
</tr>
<tr valign="top">
<td class="ln">305</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf12b2">'onclick'</span><span class="sf3b2"> =&gt; </span><span class="sf12b2">"return (showHideByValue('is_multiple_registrations', '', 'additional_profile_pre|additional_profile_post', 'table-row', 'radio', false) || </span></code></td>
<td class="ln">305</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf12b2">'onclick'</span><span class="sf3b2"> =&gt; </span><span class="sf12b2">"return (showHideByValue('is_multiple_registrations', '', 'additional_profile_pre|additional_profile_post', 'table-row', 'radio', false) || </span></code></td>
</tr>
<tr valign="top">
<td class="ln">306</td><td class="sf3b2"><code><span class="sf12b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;showRuleFields( "</span><span class="sf3b2"> </span><span class="sf8b2">. json_encode</span><span class="sf3b2">($</span><span class="sf18b2">ruleFields) . </span><span class="sf12b2">" ));"</span><span class="sf3b2">)</span></code></td>
<td class="ln">306</td><td class="sf3b2"><code><span class="sf12b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;showRuleFields( "</span><span class="sf3b2"> </span><span class="sf8b2">. json_encode</span><span class="sf3b2">($</span><span class="sf18b2">ruleFields) . </span><span class="sf12b2">" ));"</span><span class="sf3b2">)</span></code></td>
</tr>
<tr valign="top">
<td class="ln">307</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;);</span></code></td>
<td class="ln">307</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">308</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">308</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">309</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">addElement</span><span class="sf3b2">(</span><span class="sf12b2">'checkbox'</span><span class="sf3b2">,</span></code></td>
<td class="ln">309</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">addElement</span><span class="sf3b2">(</span><span class="sf12b2">'checkbox'</span><span class="sf3b2">,</span></code></td>
</tr>
<tr valign="top">
<td class="ln">310</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf12b2">'allow_same_participant_emails'</span><span class="sf3b2">,</span></code></td>
<td class="ln">310</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf12b2">'allow_same_participant_emails'</span><span class="sf3b2">,</span></code></td>
</tr>
<tr valign="top">
<td class="ln">311</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Allow multiple registrations from the same email address?'</span><span class="sf3b2">),</span></code></td>
<td class="ln">311</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Allow multiple registrations from the same email address?'</span><span class="sf3b2">),</span></code></td>
</tr>
<tr valign="top">
<td class="ln">312</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;NULL,</span></code></td>
<td class="ln">312</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;NULL,</span></code></td>
</tr>
<tr valign="top">
<td class="ln">313</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">array</span><span class="sf3b2">(</span><span class="sf12b2">'onclick'</span><span class="sf3b2"> =&gt; </span><span class="sf12b2">"return showRuleFields( "</span><span class="sf3b2"> </span><span class="sf8b2">. json_encode</span><span class="sf3b2">($</span><span class="sf18b2">ruleFields) . </span><span class="sf12b2">" );"</span><span class="sf3b2">)</span></code></td>
<td class="ln">313</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">array</span><span class="sf3b2">(</span><span class="sf12b2">'onclick'</span><span class="sf3b2"> =&gt; </span><span class="sf12b2">"return showRuleFields( "</span><span class="sf3b2"> </span><span class="sf8b2">. json_encode</span><span class="sf3b2">($</span><span class="sf18b2">ruleFields) . </span><span class="sf12b2">" );"</span><span class="sf3b2">)</span></code></td>
</tr>
<tr valign="top">
<td class="ln">314</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;);</span></code></td>
<td class="ln">314</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">315</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">assign</span><span class="sf3b2">(</span><span class="sf12b2">'ruleFields'</span><span class="sf3b2">, </span><span class="sf8b2">json_encode</span><span class="sf3b2">($</span><span class="sf18b2">ruleFields));</span></code></td>
<td class="ln">315</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">assign</span><span class="sf3b2">(</span><span class="sf12b2">'ruleFields'</span><span class="sf3b2">, </span><span class="sf8b2">json_encode</span><span class="sf3b2">($</span><span class="sf18b2">ruleFields));</span></code></td>
</tr>
<tr valign="top">
<td class="ln">316</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">316</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">317</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">participantStatuses = </span><span class="sf8b2">CRM_Event_PseudoConstant::participantStatus</span><span class="sf3b2">();</span></code></td>
<td class="ln">317</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">participantStatuses = </span><span class="sf8b2">CRM_Event_PseudoConstant::participantStatus</span><span class="sf3b2">();</span></code></td>
</tr>
<tr valign="top">
<td class="ln">318</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (</span><span class="sf8b2">in_array</span><span class="sf3b2">(</span><span class="sf12b2">'Awaiting approval'</span><span class="sf3b2">, $</span><span class="sf18b2">participantStatuses) </span><span class="sf11b2">and</span><span class="sf3b2"> </span><span class="sf8b2">in_array</span><span class="sf3b2">(</span><span class="sf12b2">'Pending from approval'</span><span class="sf3b2">, $</span><span class="sf18b2">participantStatuses) </span><span class="sf11b2">and</span><span class="sf3b2"> </span><span class="sf8b2">in_array</span><span class="sf3b2">(</span><span class="sf12b2">'Rejected'</span><span class="sf3b2">, $</span><span class="sf18b2">participantStatuses)) {</span></code></td>
<td class="ln">318</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (</span><span class="sf8b2">in_array</span><span class="sf3b2">(</span><span class="sf12b2">'Awaiting approval'</span><span class="sf3b2">, $</span><span class="sf18b2">participantStatuses) </span><span class="sf11b2">and</span><span class="sf3b2"> </span><span class="sf8b2">in_array</span><span class="sf3b2">(</span><span class="sf12b2">'Pending from approval'</span><span class="sf3b2">, $</span><span class="sf18b2">participantStatuses) </span><span class="sf11b2">and</span><span class="sf3b2"> </span><span class="sf8b2">in_array</span><span class="sf3b2">(</span><span class="sf12b2">'Rejected'</span><span class="sf3b2">, $</span><span class="sf18b2">participantStatuses)) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">319</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">addElement</span><span class="sf3b2">(</span><span class="sf12b2">'checkbox'</span><span class="sf3b2">,</span></code></td>
<td class="ln">319</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">addElement</span><span class="sf3b2">(</span><span class="sf12b2">'checkbox'</span><span class="sf3b2">,</span></code></td>
</tr>
<tr valign="top">
<td class="ln">320</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf12b2">'requires_approval'</span><span class="sf3b2">,</span></code></td>
<td class="ln">320</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf12b2">'requires_approval'</span><span class="sf3b2">,</span></code></td>
</tr>
<tr valign="top">
<td class="ln">321</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Require participant approval?'</span><span class="sf3b2">),</span></code></td>
<td class="ln">321</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Require participant approval?'</span><span class="sf3b2">),</span></code></td>
</tr>
<tr valign="top">
<td class="ln">322</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;NULL,</span></code></td>
<td class="ln">322</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;NULL,</span></code></td>
</tr>
<tr valign="top">
<td class="ln">323</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">array</span><span class="sf3b2">(</span><span class="sf12b2">'onclick'</span><span class="sf3b2"> =&gt; </span><span class="sf12b2">"return showHideByValue('requires_approval', '', 'id-approval-text', 'table-row', 'radio', false);"</span><span class="sf3b2">)</span></code></td>
<td class="ln">323</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">array</span><span class="sf3b2">(</span><span class="sf12b2">'onclick'</span><span class="sf3b2"> =&gt; </span><span class="sf12b2">"return showHideByValue('requires_approval', '', 'id-approval-text', 'table-row', 'radio', false);"</span><span class="sf3b2">)</span></code></td>
</tr>
<tr valign="top">
<td class="ln">324</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;);</span></code></td>
<td class="ln">324</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">325</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">add</span><span class="sf3b2">(</span><span class="sf12b2">'textarea'</span><span class="sf3b2">, </span><span class="sf12b2">'approval_req_text'</span><span class="sf3b2">, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Approval message'</span><span class="sf3b2">), $</span><span class="sf18b2">attributes[</span><span class="sf12b2">'approval_req_text'</span><span class="sf3b2">]);</span></code></td>
<td class="ln">325</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">add</span><span class="sf3b2">(</span><span class="sf12b2">'textarea'</span><span class="sf3b2">, </span><span class="sf12b2">'approval_req_text'</span><span class="sf3b2">, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Approval message'</span><span class="sf3b2">), $</span><span class="sf18b2">attributes[</span><span class="sf12b2">'approval_req_text'</span><span class="sf3b2">]);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">326</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;}</span></code></td>
<td class="ln">326</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">327</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">327</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">328</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">add</span><span class="sf3b2">(</span><span class="sf12b2">'text'</span><span class="sf3b2">, </span><span class="sf12b2">'expiration_time'</span><span class="sf3b2">, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Pending participant expiration (hours)'</span><span class="sf3b2">));</span></code></td>
<td class="ln">328</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">add</span><span class="sf3b2">(</span><span class="sf12b2">'text'</span><span class="sf3b2">, </span><span class="sf12b2">'expiration_time'</span><span class="sf3b2">, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Pending participant expiration (hours)'</span><span class="sf3b2">));</span></code></td>
</tr>
<tr valign="top">
<td class="ln">329</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">addRule</span><span class="sf3b2">(</span><span class="sf12b2">'expiration_time'</span><span class="sf3b2">, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Please enter the number of hours (as an integer).'</span><span class="sf3b2">), </span><span class="sf12b2">'integer'</span><span class="sf3b2">);</span></code></td>
<td class="ln">329</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">addRule</span><span class="sf3b2">(</span><span class="sf12b2">'expiration_time'</span><span class="sf3b2">, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Please enter the number of hours (as an integer).'</span><span class="sf3b2">), </span><span class="sf12b2">'integer'</span><span class="sf3b2">);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">330</td><td style="color: #000000; background-color: #efcb05; "><code><span class="sf17b16">
</span>&nbsp;</code></td>
<td class="ln">330</td><td style="color: #000000; background-color: #efcb05; "><code><span class="sf17b16"> &nbsp; &nbsp;
</span>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #c0c0c0; "><code>&nbsp;</code></td>
<td class="ln">331</td><td style="color: #000000; background-color: #efcb05; "><code><span class="sf17b16"> &nbsp; &nbsp;</span><span class="sf17b16">//BOT - Add field for Payment field position
</span>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #c0c0c0; "><code>&nbsp;</code></td>
<td class="ln">332</td><td style="color: #000000; background-color: #efcb05; "><code><span class="sf17b16"> &nbsp; &nbsp;$</span><span class="sf17b16">this-&gt;</span><span class="sf17b16">add</span><span class="sf17b16">(</span><span class="sf17b16">'select'</span><span class="sf17b16">, </span><span class="sf17b16">'payment_fields_position'</span><span class="sf17b16">, </span><span class="sf17b16">ts</span><span class="sf17b16">(</span><span class="sf17b16">'Payment Fields Position'</span><span class="sf17b16">), 
</span>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #c0c0c0; "><code>&nbsp;</code></td>
<td class="ln">333</td><td style="color: #000000; background-color: #efcb05; "><code><span class="sf17b16"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf17b16">CRM_Core_OptionGroup::values</span><span class="sf17b16">(</span><span class="sf17b16">'Payment Fields Position'</span><span class="sf17b16">, FALSE, FALSE, FALSE, NULL, </span><span class="sf17b16">'name'</span><span class="sf17b16">));
</span>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #c0c0c0; "><code>&nbsp;</code></td>
<td class="ln">334</td><td style="color: #000000; background-color: #efcb05; "><code><span class="sf17b16"> &nbsp; &nbsp; &nbsp; &nbsp;
</span>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #c0c0c0; "><code>&nbsp;</code></td>
<td class="ln">335</td><td style="color: #000000; background-color: #efcb05; "><code><span class="sf17b16"> &nbsp; &nbsp;
</span>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">331</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf8b2">self::buildRegistrationBlock</span><span class="sf3b2">($</span><span class="sf18b2">this);</span></code></td>
<td class="ln">336</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf8b2">self::buildRegistrationBlock</span><span class="sf3b2">($</span><span class="sf18b2">this);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">332</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf8b2">self::buildConfirmationBlock</span><span class="sf3b2">($</span><span class="sf18b2">this);</span></code></td>
<td class="ln">337</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf8b2">self::buildConfirmationBlock</span><span class="sf3b2">($</span><span class="sf18b2">this);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">333</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf8b2">self::buildMailBlock</span><span class="sf3b2">($</span><span class="sf18b2">this);</span></code></td>
<td class="ln">338</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf8b2">self::buildMailBlock</span><span class="sf3b2">($</span><span class="sf18b2">this);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">334</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf8b2">self::buildThankYouBlock</span><span class="sf3b2">($</span><span class="sf18b2">this);</span></code></td>
<td class="ln">339</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf8b2">self::buildThankYouBlock</span><span class="sf3b2">($</span><span class="sf18b2">this);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">335</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">340</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">336</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf8b2">parent::buildQuickForm</span><span class="sf3b2">();</span></code></td>
<td class="ln">341</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf8b2">parent::buildQuickForm</span><span class="sf3b2">();</span></code></td>
</tr>
<tr valign="top">
<td class="ln">337</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;}</span></code></td>
<td class="ln">342</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">338</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">343</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">339</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf9b2">/**</span></code></td>
<td class="ln">344</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf9b2">/**</span></code></td>
</tr>
<tr valign="top">
<td class="ln">340</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * Function to build Registration Block</span></code></td>
<td class="ln">345</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * Function to build Registration Block</span></code></td>
</tr>
<tr valign="top">
<td class="ln">341</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; *</span></code></td>
<td class="ln">346</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; *</span></code></td>
</tr>
<tr valign="top">
<td class="ln">342</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * @param int $pageId</span></code></td>
<td class="ln">347</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * @param int $pageId</span></code></td>
</tr>
<tr valign="top">
<td class="ln">343</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * @static</span></code></td>
<td class="ln">348</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * @static</span></code></td>
</tr>
<tr valign="top">
<td class="ln">344</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; */</span>&nbsp;</code></td>
<td class="ln">349</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; */</span>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">345</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf7b2">function</span><span class="sf3b2"> </span><span class="sf8b2">buildRegistrationBlock</span><span class="sf3b2">(&amp;$</span><span class="sf18b2">form) {</span></code></td>
<td class="ln">350</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf7b2">function</span><span class="sf3b2"> </span><span class="sf8b2">buildRegistrationBlock</span><span class="sf3b2">(&amp;$</span><span class="sf18b2">form) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">346</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">attributes = </span><span class="sf8b2">CRM_Core_DAO::getAttribute</span><span class="sf3b2">(</span><span class="sf12b2">'CRM_Event_DAO_Event'</span><span class="sf3b2">);</span></code></td>
<td class="ln">351</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">attributes = </span><span class="sf8b2">CRM_Core_DAO::getAttribute</span><span class="sf3b2">(</span><span class="sf12b2">'CRM_Event_DAO_Event'</span><span class="sf3b2">);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">347</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">form-&gt;</span><span class="sf8b2">addWysiwyg</span><span class="sf3b2">(</span><span class="sf12b2">'intro_text'</span><span class="sf3b2">, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Introductory Text'</span><span class="sf3b2">), $</span><span class="sf18b2">attributes[</span><span class="sf12b2">'intro_text'</span><span class="sf3b2">]);</span></code></td>
<td class="ln">352</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">form-&gt;</span><span class="sf8b2">addWysiwyg</span><span class="sf3b2">(</span><span class="sf12b2">'intro_text'</span><span class="sf3b2">, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Introductory Text'</span><span class="sf3b2">), $</span><span class="sf18b2">attributes[</span><span class="sf12b2">'intro_text'</span><span class="sf3b2">]);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">348</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf9b2">// FIXME: This hack forces height of editor to 175px. Need to modify QF classes for editors to allow passing</span></code></td>
<td class="ln">353</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf9b2">// FIXME: This hack forces height of editor to 175px. Need to modify QF classes for editors to allow passing</span></code></td>
</tr>
<tr valign="top">
<td class="ln">349</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf9b2">// explicit height and width.</span></code></td>
<td class="ln">354</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf9b2">// explicit height and width.</span></code></td>
</tr>
<tr valign="top">
<td class="ln">350</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">form-&gt;</span><span class="sf8b2">addWysiwyg</span><span class="sf3b2">(</span><span class="sf12b2">'footer_text'</span><span class="sf3b2">, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Footer Text'</span><span class="sf3b2">), </span><span class="sf7b2">array</span><span class="sf3b2">(</span><span class="sf12b2">'rows'</span><span class="sf3b2"> =&gt; </span><span class="sf10b2">2</span><span class="sf3b2">, </span><span class="sf12b2">'cols'</span><span class="sf3b2"> =&gt; </span><span class="sf10b2">40</span><span class="sf3b2">));</span></code></td>
<td class="ln">355</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">form-&gt;</span><span class="sf8b2">addWysiwyg</span><span class="sf3b2">(</span><span class="sf12b2">'footer_text'</span><span class="sf3b2">, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Footer Text'</span><span class="sf3b2">), </span><span class="sf7b2">array</span><span class="sf3b2">(</span><span class="sf12b2">'rows'</span><span class="sf3b2"> =&gt; </span><span class="sf10b2">2</span><span class="sf3b2">, </span><span class="sf12b2">'cols'</span><span class="sf3b2"> =&gt; </span><span class="sf10b2">40</span><span class="sf3b2">));</span></code></td>
</tr>
<tr valign="top">
<td class="ln">351</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">356</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">352</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">types = </span><span class="sf8b2">array_merge</span><span class="sf3b2">(</span><span class="sf7b2">array</span><span class="sf3b2">(</span><span class="sf12b2">'Contact'</span><span class="sf3b2">, </span><span class="sf12b2">'Individual'</span><span class="sf3b2">, </span><span class="sf12b2">'Participant'</span><span class="sf3b2">),</span></code></td>
<td class="ln">357</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">types = </span><span class="sf8b2">array_merge</span><span class="sf3b2">(</span><span class="sf7b2">array</span><span class="sf3b2">(</span><span class="sf12b2">'Contact'</span><span class="sf3b2">, </span><span class="sf12b2">'Individual'</span><span class="sf3b2">, </span><span class="sf12b2">'Participant'</span><span class="sf3b2">),</span></code></td>
</tr>
<tr valign="top">
<td class="ln">353</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf8b2">CRM_Contact_BAO_ContactType::subTypes</span><span class="sf3b2">(</span><span class="sf12b2">'Individual'</span><span class="sf3b2">)</span></code></td>
<td class="ln">358</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf8b2">CRM_Contact_BAO_ContactType::subTypes</span><span class="sf3b2">(</span><span class="sf12b2">'Individual'</span><span class="sf3b2">)</span></code></td>
</tr>
<tr valign="top">
<td class="ln">354</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;);</span></code></td>
<td class="ln">359</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">355</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">360</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">356</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">profiles = </span><span class="sf8b2">CRM_Core_BAO_UFGroup::getProfiles</span><span class="sf3b2">($</span><span class="sf18b2">types);</span></code></td>
<td class="ln">361</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">profiles = </span><span class="sf8b2">CRM_Core_BAO_UFGroup::getProfiles</span><span class="sf3b2">($</span><span class="sf18b2">types);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">357</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">362</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">358</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">mainProfiles = </span><span class="sf7b2">array</span><span class="sf3b2">(</span></code></td>
<td class="ln">363</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">mainProfiles = </span><span class="sf7b2">array</span><span class="sf3b2">(</span></code></td>
</tr>
<tr valign="top">
<td class="ln">359</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf12b2">''</span><span class="sf3b2"> =&gt; </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'- select -'</span><span class="sf3b2">)) + $</span><span class="sf18b2">profiles;</span></code></td>
<td class="ln">364</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf12b2">''</span><span class="sf3b2"> =&gt; </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'- select -'</span><span class="sf3b2">)) + $</span><span class="sf18b2">profiles;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">360</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">addtProfiles = </span><span class="sf7b2">array</span><span class="sf3b2">(</span></code></td>
<td class="ln">365</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">addtProfiles = </span><span class="sf7b2">array</span><span class="sf3b2">(</span></code></td>
</tr>
<tr valign="top">
<td class="ln">361</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf12b2">''</span><span class="sf3b2"> =&gt; </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'- same as for main contact -'</span><span class="sf3b2">)) + $</span><span class="sf18b2">profiles;</span></code></td>
<td class="ln">366</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf12b2">''</span><span class="sf3b2"> =&gt; </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'- same as for main contact -'</span><span class="sf3b2">)) + $</span><span class="sf18b2">profiles;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">362</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">367</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">363</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">form-&gt;</span><span class="sf8b2">add</span><span class="sf3b2">(</span><span class="sf12b2">'select'</span><span class="sf3b2">, </span><span class="sf12b2">'custom_pre_id'</span><span class="sf3b2">, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Include Profile'</span><span class="sf3b2">) . </span><span class="sf12b2">'&lt;br /&gt;'</span><span class="sf3b2"> . ts</span><span class="sf3b2">(</span><span class="sf12b2">'(top of page)'</span><span class="sf3b2">), $</span><span class="sf18b2">mainProfiles);</span></code></td>
<td class="ln">368</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">form-&gt;</span><span class="sf8b2">add</span><span class="sf3b2">(</span><span class="sf12b2">'select'</span><span class="sf3b2">, </span><span class="sf12b2">'custom_pre_id'</span><span class="sf3b2">, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Include Profile'</span><span class="sf3b2">) . </span><span class="sf12b2">'&lt;br /&gt;'</span><span class="sf3b2"> . ts</span><span class="sf3b2">(</span><span class="sf12b2">'(top of page)'</span><span class="sf3b2">), $</span><span class="sf18b2">mainProfiles);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">364</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">form-&gt;</span><span class="sf8b2">add</span><span class="sf3b2">(</span><span class="sf12b2">'select'</span><span class="sf3b2">, </span><span class="sf12b2">'custom_post_id'</span><span class="sf3b2">, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Include Profile'</span><span class="sf3b2">) . </span><span class="sf12b2">'&lt;br /&gt;'</span><span class="sf3b2"> . ts</span><span class="sf3b2">(</span><span class="sf12b2">'(bottom of page)'</span><span class="sf3b2">), $</span><span class="sf18b2">mainProfiles);</span></code></td>
<td class="ln">369</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">form-&gt;</span><span class="sf8b2">add</span><span class="sf3b2">(</span><span class="sf12b2">'select'</span><span class="sf3b2">, </span><span class="sf12b2">'custom_post_id'</span><span class="sf3b2">, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Include Profile'</span><span class="sf3b2">) . </span><span class="sf12b2">'&lt;br /&gt;'</span><span class="sf3b2"> . ts</span><span class="sf3b2">(</span><span class="sf12b2">'(bottom of page)'</span><span class="sf3b2">), $</span><span class="sf18b2">mainProfiles);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">365</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">370</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">366</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">form-&gt;</span><span class="sf8b2">add</span><span class="sf3b2">(</span><span class="sf12b2">'select'</span><span class="sf3b2">, </span><span class="sf12b2">'additional_custom_pre_id'</span><span class="sf3b2">, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Profile for Additional Participants'</span><span class="sf3b2">) . </span><span class="sf12b2">'&lt;br /&gt;'</span><span class="sf3b2"> . ts</span><span class="sf3b2">(</span><span class="sf12b2">'(top of page)'</span><span class="sf3b2">), $</span><span class="sf18b2">addtProfiles);</span></code></td>
<td class="ln">371</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">form-&gt;</span><span class="sf8b2">add</span><span class="sf3b2">(</span><span class="sf12b2">'select'</span><span class="sf3b2">, </span><span class="sf12b2">'additional_custom_pre_id'</span><span class="sf3b2">, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Profile for Additional Participants'</span><span class="sf3b2">) . </span><span class="sf12b2">'&lt;br /&gt;'</span><span class="sf3b2"> . ts</span><span class="sf3b2">(</span><span class="sf12b2">'(top of page)'</span><span class="sf3b2">), $</span><span class="sf18b2">addtProfiles);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">367</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">form-&gt;</span><span class="sf8b2">add</span><span class="sf3b2">(</span><span class="sf12b2">'select'</span><span class="sf3b2">, </span><span class="sf12b2">'additional_custom_post_id'</span><span class="sf3b2">, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Profile for Additional Participants'</span><span class="sf3b2">) . </span><span class="sf12b2">'&lt;br /&gt;'</span><span class="sf3b2"> . ts</span><span class="sf3b2">(</span><span class="sf12b2">'(bottom of page)'</span><span class="sf3b2">), $</span><span class="sf18b2">addtProfiles);</span></code></td>
<td class="ln">372</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">form-&gt;</span><span class="sf8b2">add</span><span class="sf3b2">(</span><span class="sf12b2">'select'</span><span class="sf3b2">, </span><span class="sf12b2">'additional_custom_post_id'</span><span class="sf3b2">, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Profile for Additional Participants'</span><span class="sf3b2">) . </span><span class="sf12b2">'&lt;br /&gt;'</span><span class="sf3b2"> . ts</span><span class="sf3b2">(</span><span class="sf12b2">'(bottom of page)'</span><span class="sf3b2">), $</span><span class="sf18b2">addtProfiles);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">368</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;}</span></code></td>
<td class="ln">373</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">369</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">374</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">370</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf7b2">function</span><span class="sf3b2"> </span><span class="sf8b2">buildMultipleProfileBottom</span><span class="sf3b2">(&amp;$</span><span class="sf18b2">form, $</span><span class="sf18b2">count, $</span><span class="sf18b2">prefix = </span><span class="sf12b2">''</span><span class="sf3b2">, $</span><span class="sf18b2">name = </span><span class="sf12b2">'Include Profile'</span><span class="sf3b2">) {</span></code></td>
<td class="ln">375</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf7b2">function</span><span class="sf3b2"> </span><span class="sf8b2">buildMultipleProfileBottom</span><span class="sf3b2">(&amp;$</span><span class="sf18b2">form, $</span><span class="sf18b2">count, $</span><span class="sf18b2">prefix = </span><span class="sf12b2">''</span><span class="sf3b2">, $</span><span class="sf18b2">name = </span><span class="sf12b2">'Include Profile'</span><span class="sf3b2">) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">371</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">types = </span><span class="sf8b2">array_merge</span><span class="sf3b2">(</span><span class="sf7b2">array</span><span class="sf3b2">(</span><span class="sf12b2">'Contact'</span><span class="sf3b2">, </span><span class="sf12b2">'Individual'</span><span class="sf3b2">, </span><span class="sf12b2">'Participant'</span><span class="sf3b2">),</span></code></td>
<td class="ln">376</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">types = </span><span class="sf8b2">array_merge</span><span class="sf3b2">(</span><span class="sf7b2">array</span><span class="sf3b2">(</span><span class="sf12b2">'Contact'</span><span class="sf3b2">, </span><span class="sf12b2">'Individual'</span><span class="sf3b2">, </span><span class="sf12b2">'Participant'</span><span class="sf3b2">),</span></code></td>
</tr>
<tr valign="top">
<td class="ln">372</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf8b2">CRM_Contact_BAO_ContactType::subTypes</span><span class="sf3b2">(</span><span class="sf12b2">'Individual'</span><span class="sf3b2">)</span></code></td>
<td class="ln">377</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf8b2">CRM_Contact_BAO_ContactType::subTypes</span><span class="sf3b2">(</span><span class="sf12b2">'Individual'</span><span class="sf3b2">)</span></code></td>
</tr>
<tr valign="top">
<td class="ln">373</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;);</span></code></td>
<td class="ln">378</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">374</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">379</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">375</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">profiles = </span><span class="sf8b2">CRM_Core_BAO_UFGroup::getProfiles</span><span class="sf3b2">($</span><span class="sf18b2">types);</span></code></td>
<td class="ln">380</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">profiles = </span><span class="sf8b2">CRM_Core_BAO_UFGroup::getProfiles</span><span class="sf3b2">($</span><span class="sf18b2">types);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">376</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">381</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">377</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> ($</span><span class="sf18b2">prefix == </span><span class="sf12b2">'additional_'</span><span class="sf3b2">) {</span></code></td>
<td class="ln">382</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> ($</span><span class="sf18b2">prefix == </span><span class="sf12b2">'additional_'</span><span class="sf3b2">) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">378</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">mainProfiles = </span><span class="sf7b2">array</span><span class="sf3b2">(</span></code></td>
<td class="ln">383</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">mainProfiles = </span><span class="sf7b2">array</span><span class="sf3b2">(</span></code></td>
</tr>
<tr valign="top">
<td class="ln">379</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf12b2">''</span><span class="sf3b2"> =&gt; </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'- same as for main contact -'</span><span class="sf3b2">)) + $</span><span class="sf18b2">profiles;</span></code></td>
<td class="ln">384</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf12b2">''</span><span class="sf3b2"> =&gt; </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'- same as for main contact -'</span><span class="sf3b2">)) + $</span><span class="sf18b2">profiles;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">380</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;}</span></code></td>
<td class="ln">385</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">381</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">else</span><span class="sf3b2"> {</span></code></td>
<td class="ln">386</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">else</span><span class="sf3b2"> {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">382</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">mainProfiles = </span><span class="sf7b2">array</span><span class="sf3b2">(</span></code></td>
<td class="ln">387</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">mainProfiles = </span><span class="sf7b2">array</span><span class="sf3b2">(</span></code></td>
</tr>
<tr valign="top">
<td class="ln">383</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf12b2">''</span><span class="sf3b2"> =&gt; </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'- select -'</span><span class="sf3b2">)) + $</span><span class="sf18b2">profiles;</span></code></td>
<td class="ln">388</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf12b2">''</span><span class="sf3b2"> =&gt; </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'- select -'</span><span class="sf3b2">)) + $</span><span class="sf18b2">profiles;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">384</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;}</span></code></td>
<td class="ln">389</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">385</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">390</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">386</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">element = $</span><span class="sf18b2">prefix . </span><span class="sf12b2">"custom_post_id_multiple[$count]"</span><span class="sf3b2">;</span></code></td>
<td class="ln">391</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">element = $</span><span class="sf18b2">prefix . </span><span class="sf12b2">"custom_post_id_multiple[$count]"</span><span class="sf3b2">;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">387</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">form-&gt;</span><span class="sf8b2">add</span><span class="sf3b2">(</span><span class="sf12b2">'select'</span><span class="sf3b2">, $</span><span class="sf18b2">element, $</span><span class="sf18b2">name . </span><span class="sf12b2">'&lt;br /&gt;'</span><span class="sf3b2"> . ts</span><span class="sf3b2">(</span><span class="sf12b2">'(bottom of page)'</span><span class="sf3b2">), $</span><span class="sf18b2">mainProfiles);</span></code></td>
<td class="ln">392</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">form-&gt;</span><span class="sf8b2">add</span><span class="sf3b2">(</span><span class="sf12b2">'select'</span><span class="sf3b2">, $</span><span class="sf18b2">element, $</span><span class="sf18b2">name . </span><span class="sf12b2">'&lt;br /&gt;'</span><span class="sf3b2"> . ts</span><span class="sf3b2">(</span><span class="sf12b2">'(bottom of page)'</span><span class="sf3b2">), $</span><span class="sf18b2">mainProfiles);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">388</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;}</span></code></td>
<td class="ln">393</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">389</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">394</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">390</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf9b2">/**</span></code></td>
<td class="ln">395</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf9b2">/**</span></code></td>
</tr>
<tr valign="top">
<td class="ln">391</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * Function to build Confirmation Block</span></code></td>
<td class="ln">396</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * Function to build Confirmation Block</span></code></td>
</tr>
<tr valign="top">
<td class="ln">392</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; *</span></code></td>
<td class="ln">397</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; *</span></code></td>
</tr>
<tr valign="top">
<td class="ln">393</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * @param int $pageId</span></code></td>
<td class="ln">398</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * @param int $pageId</span></code></td>
</tr>
<tr valign="top">
<td class="ln">394</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * @static</span></code></td>
<td class="ln">399</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * @static</span></code></td>
</tr>
<tr valign="top">
<td class="ln">395</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; */</span>&nbsp;</code></td>
<td class="ln">400</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; */</span>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">396</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf7b2">function</span><span class="sf3b2"> </span><span class="sf8b2">buildConfirmationBlock</span><span class="sf3b2">(&amp;$</span><span class="sf18b2">form) {</span></code></td>
<td class="ln">401</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf7b2">function</span><span class="sf3b2"> </span><span class="sf8b2">buildConfirmationBlock</span><span class="sf3b2">(&amp;$</span><span class="sf18b2">form) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">397</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">attributes = </span><span class="sf8b2">CRM_Core_DAO::getAttribute</span><span class="sf3b2">(</span><span class="sf12b2">'CRM_Event_DAO_Event'</span><span class="sf3b2">);</span></code></td>
<td class="ln">402</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">attributes = </span><span class="sf8b2">CRM_Core_DAO::getAttribute</span><span class="sf3b2">(</span><span class="sf12b2">'CRM_Event_DAO_Event'</span><span class="sf3b2">);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">398</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">form-&gt;</span><span class="sf8b2">add</span><span class="sf3b2">(</span><span class="sf12b2">'text'</span><span class="sf3b2">, </span><span class="sf12b2">'confirm_title'</span><span class="sf3b2">, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Title'</span><span class="sf3b2">), $</span><span class="sf18b2">attributes[</span><span class="sf12b2">'confirm_title'</span><span class="sf3b2">]);</span></code></td>
<td class="ln">403</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">form-&gt;</span><span class="sf8b2">add</span><span class="sf3b2">(</span><span class="sf12b2">'text'</span><span class="sf3b2">, </span><span class="sf12b2">'confirm_title'</span><span class="sf3b2">, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Title'</span><span class="sf3b2">), $</span><span class="sf18b2">attributes[</span><span class="sf12b2">'confirm_title'</span><span class="sf3b2">]);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">399</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">form-&gt;</span><span class="sf8b2">addWysiwyg</span><span class="sf3b2">(</span><span class="sf12b2">'confirm_text'</span><span class="sf3b2">, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Introductory Text'</span><span class="sf3b2">), $</span><span class="sf18b2">attributes[</span><span class="sf12b2">'confirm_text'</span><span class="sf3b2">]);</span></code></td>
<td class="ln">404</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">form-&gt;</span><span class="sf8b2">addWysiwyg</span><span class="sf3b2">(</span><span class="sf12b2">'confirm_text'</span><span class="sf3b2">, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Introductory Text'</span><span class="sf3b2">), $</span><span class="sf18b2">attributes[</span><span class="sf12b2">'confirm_text'</span><span class="sf3b2">]);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">400</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf9b2">// FIXME: This hack forces height of editor to 175px. Need to modify QF classes for editors to allow passing</span></code></td>
<td class="ln">405</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf9b2">// FIXME: This hack forces height of editor to 175px. Need to modify QF classes for editors to allow passing</span></code></td>
</tr>
<tr valign="top">
<td class="ln">401</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf9b2">// explicit height and width.</span></code></td>
<td class="ln">406</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf9b2">// explicit height and width.</span></code></td>
</tr>
<tr valign="top">
<td class="ln">402</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">form-&gt;</span><span class="sf8b2">addWysiwyg</span><span class="sf3b2">(</span><span class="sf12b2">'confirm_footer_text'</span><span class="sf3b2">, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Footer Text'</span><span class="sf3b2">), </span><span class="sf7b2">array</span><span class="sf3b2">(</span><span class="sf12b2">'rows'</span><span class="sf3b2"> =&gt; </span><span class="sf10b2">2</span><span class="sf3b2">, </span><span class="sf12b2">'cols'</span><span class="sf3b2"> =&gt; </span><span class="sf10b2">40</span><span class="sf3b2">));</span></code></td>
<td class="ln">407</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">form-&gt;</span><span class="sf8b2">addWysiwyg</span><span class="sf3b2">(</span><span class="sf12b2">'confirm_footer_text'</span><span class="sf3b2">, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Footer Text'</span><span class="sf3b2">), </span><span class="sf7b2">array</span><span class="sf3b2">(</span><span class="sf12b2">'rows'</span><span class="sf3b2"> =&gt; </span><span class="sf10b2">2</span><span class="sf3b2">, </span><span class="sf12b2">'cols'</span><span class="sf3b2"> =&gt; </span><span class="sf10b2">40</span><span class="sf3b2">));</span></code></td>
</tr>
<tr valign="top">
<td class="ln">403</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;}</span></code></td>
<td class="ln">408</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">404</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">409</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">405</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf9b2">/**</span></code></td>
<td class="ln">410</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf9b2">/**</span></code></td>
</tr>
<tr valign="top">
<td class="ln">406</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * Function to build Email Block</span></code></td>
<td class="ln">411</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * Function to build Email Block</span></code></td>
</tr>
<tr valign="top">
<td class="ln">407</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; *</span></code></td>
<td class="ln">412</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; *</span></code></td>
</tr>
<tr valign="top">
<td class="ln">408</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * @param int $pageId</span></code></td>
<td class="ln">413</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * @param int $pageId</span></code></td>
</tr>
<tr valign="top">
<td class="ln">409</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * @static</span></code></td>
<td class="ln">414</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * @static</span></code></td>
</tr>
<tr valign="top">
<td class="ln">410</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; */</span>&nbsp;</code></td>
<td class="ln">415</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; */</span>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">411</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf7b2">function</span><span class="sf3b2"> </span><span class="sf8b2">buildMailBlock</span><span class="sf3b2">(&amp;$</span><span class="sf18b2">form) {</span></code></td>
<td class="ln">416</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf7b2">function</span><span class="sf3b2"> </span><span class="sf8b2">buildMailBlock</span><span class="sf3b2">(&amp;$</span><span class="sf18b2">form) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">412</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">form-&gt;</span><span class="sf8b2">registerRule</span><span class="sf3b2">(</span><span class="sf12b2">'emailList'</span><span class="sf3b2">, </span><span class="sf12b2">'callback'</span><span class="sf3b2">, </span><span class="sf12b2">'emailList'</span><span class="sf3b2">, </span><span class="sf12b2">'CRM_Utils_Rule'</span><span class="sf3b2">);</span></code></td>
<td class="ln">417</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">form-&gt;</span><span class="sf8b2">registerRule</span><span class="sf3b2">(</span><span class="sf12b2">'emailList'</span><span class="sf3b2">, </span><span class="sf12b2">'callback'</span><span class="sf3b2">, </span><span class="sf12b2">'emailList'</span><span class="sf3b2">, </span><span class="sf12b2">'CRM_Utils_Rule'</span><span class="sf3b2">);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">413</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">attributes = </span><span class="sf8b2">CRM_Core_DAO::getAttribute</span><span class="sf3b2">(</span><span class="sf12b2">'CRM_Event_DAO_Event'</span><span class="sf3b2">);</span></code></td>
<td class="ln">418</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">attributes = </span><span class="sf8b2">CRM_Core_DAO::getAttribute</span><span class="sf3b2">(</span><span class="sf12b2">'CRM_Event_DAO_Event'</span><span class="sf3b2">);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">414</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">form-&gt;</span><span class="sf8b2">addYesNo</span><span class="sf3b2">(</span><span class="sf12b2">'is_email_confirm'</span><span class="sf3b2">, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Send Confirmation Email?'</span><span class="sf3b2">), </span><span class="sf8b2">NULL, NULL, array</span><span class="sf3b2">(</span><span class="sf12b2">'onclick'</span><span class="sf3b2"> =&gt; </span><span class="sf12b2">"return showHideByValue('is_email_confirm','','confirmEmail'<wbr>,'block','radio',false);"</span><span class="sf3b2">));</span></code></td>
<td class="ln">419</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">form-&gt;</span><span class="sf8b2">addYesNo</span><span class="sf3b2">(</span><span class="sf12b2">'is_email_confirm'</span><span class="sf3b2">, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Send Confirmation Email?'</span><span class="sf3b2">), </span><span class="sf8b2">NULL, NULL, array</span><span class="sf3b2">(</span><span class="sf12b2">'onclick'</span><span class="sf3b2"> =&gt; </span><span class="sf12b2">"return showHideByValue('is_email_confirm','','confirmEmail'<wbr>,'block','radio',false);"</span><span class="sf3b2">));</span></code></td>
</tr>
<tr valign="top">
<td class="ln">415</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">form-&gt;</span><span class="sf8b2">add</span><span class="sf3b2">(</span><span class="sf12b2">'textarea'</span><span class="sf3b2">, </span><span class="sf12b2">'confirm_email_text'</span><span class="sf3b2">, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Text'</span><span class="sf3b2">), $</span><span class="sf18b2">attributes[</span><span class="sf12b2">'confirm_email_text'</span><span class="sf3b2">]);</span></code></td>
<td class="ln">420</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">form-&gt;</span><span class="sf8b2">add</span><span class="sf3b2">(</span><span class="sf12b2">'textarea'</span><span class="sf3b2">, </span><span class="sf12b2">'confirm_email_text'</span><span class="sf3b2">, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Text'</span><span class="sf3b2">), $</span><span class="sf18b2">attributes[</span><span class="sf12b2">'confirm_email_text'</span><span class="sf3b2">]);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">416</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">form-&gt;</span><span class="sf8b2">add</span><span class="sf3b2">(</span><span class="sf12b2">'text'</span><span class="sf3b2">, </span><span class="sf12b2">'cc_confirm'</span><span class="sf3b2">, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'CC Confirmation To'</span><span class="sf3b2">), </span><span class="sf8b2">CRM_Core_DAO::getAttribute</span><span class="sf3b2">(</span><span class="sf12b2">'CRM_Event_DAO_Event'</span><span class="sf3b2">, </span><span class="sf12b2">'cc_confirm'</span><span class="sf3b2">));</span></code></td>
<td class="ln">421</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">form-&gt;</span><span class="sf8b2">add</span><span class="sf3b2">(</span><span class="sf12b2">'text'</span><span class="sf3b2">, </span><span class="sf12b2">'cc_confirm'</span><span class="sf3b2">, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'CC Confirmation To'</span><span class="sf3b2">), </span><span class="sf8b2">CRM_Core_DAO::getAttribute</span><span class="sf3b2">(</span><span class="sf12b2">'CRM_Event_DAO_Event'</span><span class="sf3b2">, </span><span class="sf12b2">'cc_confirm'</span><span class="sf3b2">));</span></code></td>
</tr>
<tr valign="top">
<td class="ln">417</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">form-&gt;</span><span class="sf8b2">addRule</span><span class="sf3b2">(</span><span class="sf12b2">'cc_confirm'</span><span class="sf3b2">, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Please enter a valid list of comma delimited email addresses'</span><span class="sf3b2">), </span><span class="sf12b2">'emailList'</span><span class="sf3b2">);</span></code></td>
<td class="ln">422</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">form-&gt;</span><span class="sf8b2">addRule</span><span class="sf3b2">(</span><span class="sf12b2">'cc_confirm'</span><span class="sf3b2">, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Please enter a valid list of comma delimited email addresses'</span><span class="sf3b2">), </span><span class="sf12b2">'emailList'</span><span class="sf3b2">);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">418</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">form-&gt;</span><span class="sf8b2">add</span><span class="sf3b2">(</span><span class="sf12b2">'text'</span><span class="sf3b2">, </span><span class="sf12b2">'bcc_confirm'</span><span class="sf3b2">, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'BCC Confirmation To'</span><span class="sf3b2">), </span><span class="sf8b2">CRM_Core_DAO::getAttribute</span><span class="sf3b2">(</span><span class="sf12b2">'CRM_Event_DAO_Event'</span><span class="sf3b2">, </span><span class="sf12b2">'bcc_confirm'</span><span class="sf3b2">));</span></code></td>
<td class="ln">423</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">form-&gt;</span><span class="sf8b2">add</span><span class="sf3b2">(</span><span class="sf12b2">'text'</span><span class="sf3b2">, </span><span class="sf12b2">'bcc_confirm'</span><span class="sf3b2">, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'BCC Confirmation To'</span><span class="sf3b2">), </span><span class="sf8b2">CRM_Core_DAO::getAttribute</span><span class="sf3b2">(</span><span class="sf12b2">'CRM_Event_DAO_Event'</span><span class="sf3b2">, </span><span class="sf12b2">'bcc_confirm'</span><span class="sf3b2">));</span></code></td>
</tr>
<tr valign="top">
<td class="ln">419</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">form-&gt;</span><span class="sf8b2">addRule</span><span class="sf3b2">(</span><span class="sf12b2">'bcc_confirm'</span><span class="sf3b2">, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Please enter a valid list of comma delimited email addresses'</span><span class="sf3b2">), </span><span class="sf12b2">'emailList'</span><span class="sf3b2">);</span></code></td>
<td class="ln">424</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">form-&gt;</span><span class="sf8b2">addRule</span><span class="sf3b2">(</span><span class="sf12b2">'bcc_confirm'</span><span class="sf3b2">, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Please enter a valid list of comma delimited email addresses'</span><span class="sf3b2">), </span><span class="sf12b2">'emailList'</span><span class="sf3b2">);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">420</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">form-&gt;</span><span class="sf8b2">add</span><span class="sf3b2">(</span><span class="sf12b2">'text'</span><span class="sf3b2">, </span><span class="sf12b2">'confirm_from_name'</span><span class="sf3b2">, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Confirm From Name'</span><span class="sf3b2">));</span></code></td>
<td class="ln">425</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">form-&gt;</span><span class="sf8b2">add</span><span class="sf3b2">(</span><span class="sf12b2">'text'</span><span class="sf3b2">, </span><span class="sf12b2">'confirm_from_name'</span><span class="sf3b2">, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Confirm From Name'</span><span class="sf3b2">));</span></code></td>
</tr>
<tr valign="top">
<td class="ln">421</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">form-&gt;</span><span class="sf8b2">add</span><span class="sf3b2">(</span><span class="sf12b2">'text'</span><span class="sf3b2">, </span><span class="sf12b2">'confirm_from_email'</span><span class="sf3b2">, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Confirm From Email'</span><span class="sf3b2">));</span></code></td>
<td class="ln">426</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">form-&gt;</span><span class="sf8b2">add</span><span class="sf3b2">(</span><span class="sf12b2">'text'</span><span class="sf3b2">, </span><span class="sf12b2">'confirm_from_email'</span><span class="sf3b2">, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Confirm From Email'</span><span class="sf3b2">));</span></code></td>
</tr>
<tr valign="top">
<td class="ln">422</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">form-&gt;</span><span class="sf8b2">addRule</span><span class="sf3b2">(</span><span class="sf12b2">'confirm_from_email'</span><span class="sf3b2">, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Email is not valid.'</span><span class="sf3b2">), </span><span class="sf12b2">'email'</span><span class="sf3b2">);</span></code></td>
<td class="ln">427</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">form-&gt;</span><span class="sf8b2">addRule</span><span class="sf3b2">(</span><span class="sf12b2">'confirm_from_email'</span><span class="sf3b2">, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Email is not valid.'</span><span class="sf3b2">), </span><span class="sf12b2">'email'</span><span class="sf3b2">);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">423</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;}</span></code></td>
<td class="ln">428</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">424</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">429</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">425</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf7b2">function</span><span class="sf3b2"> </span><span class="sf8b2">buildThankYouBlock</span><span class="sf3b2">(&amp;$</span><span class="sf18b2">form) {</span></code></td>
<td class="ln">430</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf7b2">function</span><span class="sf3b2"> </span><span class="sf8b2">buildThankYouBlock</span><span class="sf3b2">(&amp;$</span><span class="sf18b2">form) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">426</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">attributes = </span><span class="sf8b2">CRM_Core_DAO::getAttribute</span><span class="sf3b2">(</span><span class="sf12b2">'CRM_Event_DAO_Event'</span><span class="sf3b2">);</span></code></td>
<td class="ln">431</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">attributes = </span><span class="sf8b2">CRM_Core_DAO::getAttribute</span><span class="sf3b2">(</span><span class="sf12b2">'CRM_Event_DAO_Event'</span><span class="sf3b2">);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">427</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">form-&gt;</span><span class="sf8b2">add</span><span class="sf3b2">(</span><span class="sf12b2">'text'</span><span class="sf3b2">, </span><span class="sf12b2">'thankyou_title'</span><span class="sf3b2">, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Title'</span><span class="sf3b2">), $</span><span class="sf18b2">attributes[</span><span class="sf12b2">'thankyou_title'</span><span class="sf3b2">]);</span></code></td>
<td class="ln">432</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">form-&gt;</span><span class="sf8b2">add</span><span class="sf3b2">(</span><span class="sf12b2">'text'</span><span class="sf3b2">, </span><span class="sf12b2">'thankyou_title'</span><span class="sf3b2">, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Title'</span><span class="sf3b2">), $</span><span class="sf18b2">attributes[</span><span class="sf12b2">'thankyou_title'</span><span class="sf3b2">]);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">428</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">form-&gt;</span><span class="sf8b2">addWysiwyg</span><span class="sf3b2">(</span><span class="sf12b2">'thankyou_text'</span><span class="sf3b2">, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Introductory Text'</span><span class="sf3b2">), $</span><span class="sf18b2">attributes[</span><span class="sf12b2">'thankyou_text'</span><span class="sf3b2">]);</span></code></td>
<td class="ln">433</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">form-&gt;</span><span class="sf8b2">addWysiwyg</span><span class="sf3b2">(</span><span class="sf12b2">'thankyou_text'</span><span class="sf3b2">, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Introductory Text'</span><span class="sf3b2">), $</span><span class="sf18b2">attributes[</span><span class="sf12b2">'thankyou_text'</span><span class="sf3b2">]);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">429</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf9b2">// FIXME: This hack forces height of editor to 175px. Need to modify QF classes for editors to allow passing</span></code></td>
<td class="ln">434</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf9b2">// FIXME: This hack forces height of editor to 175px. Need to modify QF classes for editors to allow passing</span></code></td>
</tr>
<tr valign="top">
<td class="ln">430</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf9b2">// explicit height and width.</span></code></td>
<td class="ln">435</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf9b2">// explicit height and width.</span></code></td>
</tr>
<tr valign="top">
<td class="ln">431</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">form-&gt;</span><span class="sf8b2">addWysiwyg</span><span class="sf3b2">(</span><span class="sf12b2">'thankyou_footer_text'</span><span class="sf3b2">, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Footer Text'</span><span class="sf3b2">), </span><span class="sf7b2">array</span><span class="sf3b2">(</span><span class="sf12b2">'rows'</span><span class="sf3b2"> =&gt; </span><span class="sf10b2">2</span><span class="sf3b2">, </span><span class="sf12b2">'cols'</span><span class="sf3b2"> =&gt; </span><span class="sf10b2">40</span><span class="sf3b2">));</span></code></td>
<td class="ln">436</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">form-&gt;</span><span class="sf8b2">addWysiwyg</span><span class="sf3b2">(</span><span class="sf12b2">'thankyou_footer_text'</span><span class="sf3b2">, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Footer Text'</span><span class="sf3b2">), </span><span class="sf7b2">array</span><span class="sf3b2">(</span><span class="sf12b2">'rows'</span><span class="sf3b2"> =&gt; </span><span class="sf10b2">2</span><span class="sf3b2">, </span><span class="sf12b2">'cols'</span><span class="sf3b2"> =&gt; </span><span class="sf10b2">40</span><span class="sf3b2">));</span></code></td>
</tr>
<tr valign="top">
<td class="ln">432</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;}</span></code></td>
<td class="ln">437</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">433</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">438</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">434</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf9b2">/**</span></code></td>
<td class="ln">439</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf9b2">/**</span></code></td>
</tr>
<tr valign="top">
<td class="ln">435</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * Add local and global form rules</span></code></td>
<td class="ln">440</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * Add local and global form rules</span></code></td>
</tr>
<tr valign="top">
<td class="ln">436</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; *</span></code></td>
<td class="ln">441</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; *</span></code></td>
</tr>
<tr valign="top">
<td class="ln">437</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * @access protected</span></code></td>
<td class="ln">442</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * @access protected</span></code></td>
</tr>
<tr valign="top">
<td class="ln">438</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; *</span></code></td>
<td class="ln">443</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; *</span></code></td>
</tr>
<tr valign="top">
<td class="ln">439</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * @return void</span></code></td>
<td class="ln">444</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * @return void</span></code></td>
</tr>
<tr valign="top">
<td class="ln">440</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; */</span>&nbsp;</code></td>
<td class="ln">445</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; */</span>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">441</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf7b2">function</span><span class="sf3b2"> </span><span class="sf8b2">addRules</span><span class="sf3b2">() {</span></code></td>
<td class="ln">446</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf7b2">function</span><span class="sf3b2"> </span><span class="sf8b2">addRules</span><span class="sf3b2">() {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">442</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> ($</span><span class="sf18b2">this-&gt;_addProfileBottom || $</span><span class="sf18b2">this-&gt;_addProfileBottomAdd) {</span></code></td>
<td class="ln">447</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> ($</span><span class="sf18b2">this-&gt;_addProfileBottom || $</span><span class="sf18b2">this-&gt;_addProfileBottomAdd) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">443</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">return</span><span class="sf3b2">;</span></code></td>
<td class="ln">448</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">return</span><span class="sf3b2">;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">444</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;}</span></code></td>
<td class="ln">449</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">445</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">addFormRule</span><span class="sf3b2">(</span><span class="sf7b2">array</span><span class="sf3b2">(</span><span class="sf12b2">'CRM_Event_Form_ManageEvent<wbr>_Registration'</span><span class="sf3b2">, </span><span class="sf12b2">'formRule'</span><span class="sf3b2">), $</span><span class="sf18b2">this);</span></code></td>
<td class="ln">450</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">addFormRule</span><span class="sf3b2">(</span><span class="sf7b2">array</span><span class="sf3b2">(</span><span class="sf12b2">'CRM_Event_Form_ManageEvent<wbr>_Registration'</span><span class="sf3b2">, </span><span class="sf12b2">'formRule'</span><span class="sf3b2">), $</span><span class="sf18b2">this);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">446</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;}</span></code></td>
<td class="ln">451</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">447</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">452</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">448</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf9b2">/**</span></code></td>
<td class="ln">453</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf9b2">/**</span></code></td>
</tr>
<tr valign="top">
<td class="ln">449</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * global validation rules for the form</span></code></td>
<td class="ln">454</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * global validation rules for the form</span></code></td>
</tr>
<tr valign="top">
<td class="ln">450</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; *</span></code></td>
<td class="ln">455</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; *</span></code></td>
</tr>
<tr valign="top">
<td class="ln">451</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * @param array $fields posted values of the form</span></code></td>
<td class="ln">456</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * @param array $fields posted values of the form</span></code></td>
</tr>
<tr valign="top">
<td class="ln">452</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; *</span></code></td>
<td class="ln">457</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; *</span></code></td>
</tr>
<tr valign="top">
<td class="ln">453</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * @return array list of errors to be posted back to the form</span></code></td>
<td class="ln">458</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * @return array list of errors to be posted back to the form</span></code></td>
</tr>
<tr valign="top">
<td class="ln">454</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * @static</span></code></td>
<td class="ln">459</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * @static</span></code></td>
</tr>
<tr valign="top">
<td class="ln">455</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * @access public</span></code></td>
<td class="ln">460</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * @access public</span></code></td>
</tr>
<tr valign="top">
<td class="ln">456</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; */</span>&nbsp;</code></td>
<td class="ln">461</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; */</span>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">457</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf7b2">static</span></code></td>
<td class="ln">462</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf7b2">static</span></code></td>
</tr>
<tr valign="top">
<td class="ln">458</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf7b2">function</span><span class="sf3b2"> </span><span class="sf8b2">formRule</span><span class="sf3b2">($</span><span class="sf18b2">values, $</span><span class="sf18b2">files, $</span><span class="sf18b2">form) {</span></code></td>
<td class="ln">463</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf7b2">function</span><span class="sf3b2"> </span><span class="sf8b2">formRule</span><span class="sf3b2">($</span><span class="sf18b2">values, $</span><span class="sf18b2">files, $</span><span class="sf18b2">form) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">459</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (</span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'is_online_registration'</span><span class="sf3b2">, $</span><span class="sf18b2">values)) {</span></code></td>
<td class="ln">464</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (</span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'is_online_registration'</span><span class="sf3b2">, $</span><span class="sf18b2">values)) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">460</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">465</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">461</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (!$</span><span class="sf18b2">values[</span><span class="sf12b2">'confirm_title'</span><span class="sf3b2">]) {</span></code></td>
<td class="ln">466</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (!$</span><span class="sf18b2">values[</span><span class="sf12b2">'confirm_title'</span><span class="sf3b2">]) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">462</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">errorMsg[</span><span class="sf12b2">'confirm_title'</span><span class="sf3b2">] = </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Please enter a Title for the registration Confirmation Page'</span><span class="sf3b2">);</span></code></td>
<td class="ln">467</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">errorMsg[</span><span class="sf12b2">'confirm_title'</span><span class="sf3b2">] = </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Please enter a Title for the registration Confirmation Page'</span><span class="sf3b2">);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">463</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">468</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">464</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (!$</span><span class="sf18b2">values[</span><span class="sf12b2">'thankyou_title'</span><span class="sf3b2">]) {</span></code></td>
<td class="ln">469</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (!$</span><span class="sf18b2">values[</span><span class="sf12b2">'thankyou_title'</span><span class="sf3b2">]) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">465</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">errorMsg[</span><span class="sf12b2">'thankyou_title'</span><span class="sf3b2">] = </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Please enter a Title for the registration Thank-you Page'</span><span class="sf3b2">);</span></code></td>
<td class="ln">470</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">errorMsg[</span><span class="sf12b2">'thankyou_title'</span><span class="sf3b2">] = </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Please enter a Title for the registration Thank-you Page'</span><span class="sf3b2">);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">466</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">471</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">467</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> ($</span><span class="sf18b2">values[</span><span class="sf12b2">'is_email_confirm'</span><span class="sf3b2">]) {</span></code></td>
<td class="ln">472</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> ($</span><span class="sf18b2">values[</span><span class="sf12b2">'is_email_confirm'</span><span class="sf3b2">]) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">468</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (!$</span><span class="sf18b2">values[</span><span class="sf12b2">'confirm_from_name'</span><span class="sf3b2">]) {</span></code></td>
<td class="ln">473</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (!$</span><span class="sf18b2">values[</span><span class="sf12b2">'confirm_from_name'</span><span class="sf3b2">]) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">469</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">errorMsg[</span><span class="sf12b2">'confirm_from_name'</span><span class="sf3b2">] = </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Please enter Confirmation Email FROM Name.'</span><span class="sf3b2">);</span></code></td>
<td class="ln">474</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">errorMsg[</span><span class="sf12b2">'confirm_from_name'</span><span class="sf3b2">] = </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Please enter Confirmation Email FROM Name.'</span><span class="sf3b2">);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">470</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">475</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">471</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">476</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">472</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (!$</span><span class="sf18b2">values[</span><span class="sf12b2">'confirm_from_email'</span><span class="sf3b2">]) {</span></code></td>
<td class="ln">477</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (!$</span><span class="sf18b2">values[</span><span class="sf12b2">'confirm_from_email'</span><span class="sf3b2">]) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">473</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">errorMsg[</span><span class="sf12b2">'confirm_from_email'</span><span class="sf3b2">] = </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Please enter Confirmation Email FROM Email Address.'</span><span class="sf3b2">);</span></code></td>
<td class="ln">478</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">errorMsg[</span><span class="sf12b2">'confirm_from_email'</span><span class="sf3b2">] = </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Please enter Confirmation Email FROM Email Address.'</span><span class="sf3b2">);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">474</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">479</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">475</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">480</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">476</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">//check that the selected profiles have either firstname+lastname or email required</span></code></td>
<td class="ln">481</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">//check that the selected profiles have either firstname+lastname or email required</span></code></td>
</tr>
<tr valign="top">
<td class="ln">477</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">profileIds = </span><span class="sf7b2">array</span><span class="sf3b2">(</span></code></td>
<td class="ln">482</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">profileIds = </span><span class="sf7b2">array</span><span class="sf3b2">(</span></code></td>
</tr>
<tr valign="top">
<td class="ln">478</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'custom_pre_id'</span><span class="sf3b2">, $</span><span class="sf18b2">values),</span></code></td>
<td class="ln">483</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'custom_pre_id'</span><span class="sf3b2">, $</span><span class="sf18b2">values),</span></code></td>
</tr>
<tr valign="top">
<td class="ln">479</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'custom_post_id'</span><span class="sf3b2">, $</span><span class="sf18b2">values),</span></code></td>
<td class="ln">484</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'custom_post_id'</span><span class="sf3b2">, $</span><span class="sf18b2">values),</span></code></td>
</tr>
<tr valign="top">
<td class="ln">480</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;);</span></code></td>
<td class="ln">485</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">481</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">additionalProfileIds = </span><span class="sf7b2">array</span><span class="sf3b2">(</span></code></td>
<td class="ln">486</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">additionalProfileIds = </span><span class="sf7b2">array</span><span class="sf3b2">(</span></code></td>
</tr>
<tr valign="top">
<td class="ln">482</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'additional_custom_pre_id'</span><span class="sf3b2">, $</span><span class="sf18b2">values),</span></code></td>
<td class="ln">487</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'additional_custom_pre_id'</span><span class="sf3b2">, $</span><span class="sf18b2">values),</span></code></td>
</tr>
<tr valign="top">
<td class="ln">483</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'additional_custom_post_id'</span><span class="sf3b2">, $</span><span class="sf18b2">values),</span></code></td>
<td class="ln">488</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'additional_custom_post_id'</span><span class="sf3b2">, $</span><span class="sf18b2">values),</span></code></td>
</tr>
<tr valign="top">
<td class="ln">484</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;);</span></code></td>
<td class="ln">489</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">485</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">//additional profile fields default to main if not set</span></code></td>
<td class="ln">490</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">//additional profile fields default to main if not set</span></code></td>
</tr>
<tr valign="top">
<td class="ln">486</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (!</span><span class="sf8b2">is_numeric</span><span class="sf3b2">($</span><span class="sf18b2">additionalProfileIds[</span><span class="sf10b2">0</span><span class="sf3b2">])) {</span></code></td>
<td class="ln">491</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (!</span><span class="sf8b2">is_numeric</span><span class="sf3b2">($</span><span class="sf18b2">additionalProfileIds[</span><span class="sf10b2">0</span><span class="sf3b2">])) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">487</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">additionalProfileIds[</span><span class="sf10b2">0</span><span class="sf3b2">] = $</span><span class="sf18b2">profileIds[</span><span class="sf10b2">0</span><span class="sf3b2">];</span></code></td>
<td class="ln">492</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">additionalProfileIds[</span><span class="sf10b2">0</span><span class="sf3b2">] = $</span><span class="sf18b2">profileIds[</span><span class="sf10b2">0</span><span class="sf3b2">];</span></code></td>
</tr>
<tr valign="top">
<td class="ln">488</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">493</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">489</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (!</span><span class="sf8b2">is_numeric</span><span class="sf3b2">($</span><span class="sf18b2">additionalProfileIds[</span><span class="sf10b2">1</span><span class="sf3b2">])) {</span></code></td>
<td class="ln">494</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (!</span><span class="sf8b2">is_numeric</span><span class="sf3b2">($</span><span class="sf18b2">additionalProfileIds[</span><span class="sf10b2">1</span><span class="sf3b2">])) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">490</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">additionalProfileIds[</span><span class="sf10b2">1</span><span class="sf3b2">] = $</span><span class="sf18b2">profileIds[</span><span class="sf10b2">1</span><span class="sf3b2">];</span></code></td>
<td class="ln">495</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">additionalProfileIds[</span><span class="sf10b2">1</span><span class="sf3b2">] = $</span><span class="sf18b2">profileIds[</span><span class="sf10b2">1</span><span class="sf3b2">];</span></code></td>
</tr>
<tr valign="top">
<td class="ln">491</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">496</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">492</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">//add multiple profiles if set</span></code></td>
<td class="ln">497</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">//add multiple profiles if set</span></code></td>
</tr>
<tr valign="top">
<td class="ln">493</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf8b2">self::addMultipleProfiles</span><span class="sf3b2">($</span><span class="sf18b2">profileIds, $</span><span class="sf18b2">values, </span><span class="sf12b2">'custom_post_id_multiple'</span><span class="sf3b2">);</span></code></td>
<td class="ln">498</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf8b2">self::addMultipleProfiles</span><span class="sf3b2">($</span><span class="sf18b2">profileIds, $</span><span class="sf18b2">values, </span><span class="sf12b2">'custom_post_id_multiple'</span><span class="sf3b2">);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">494</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf8b2">self::addMultipleProfiles</span><span class="sf3b2">($</span><span class="sf18b2">additionalProfileIds, $</span><span class="sf18b2">values, </span><span class="sf12b2">'additional_custom_post_id_multiple'</span><span class="sf3b2">);</span></code></td>
<td class="ln">499</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf8b2">self::addMultipleProfiles</span><span class="sf3b2">($</span><span class="sf18b2">additionalProfileIds, $</span><span class="sf18b2">values, </span><span class="sf12b2">'additional_custom_post_id_multiple'</span><span class="sf3b2">);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">495</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">isProfileComplete = </span><span class="sf8b2">self::isProfileComplete</span><span class="sf3b2">($</span><span class="sf18b2">profileIds);</span></code></td>
<td class="ln">500</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">isProfileComplete = </span><span class="sf8b2">self::isProfileComplete</span><span class="sf3b2">($</span><span class="sf18b2">profileIds);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">496</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">isAdditionalProfileComplete = </span><span class="sf8b2">self::isProfileComplete</span><span class="sf3b2">($</span><span class="sf18b2">additionalProfileIds);</span></code></td>
<td class="ln">501</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">isAdditionalProfileComplete = </span><span class="sf8b2">self::isProfileComplete</span><span class="sf3b2">($</span><span class="sf18b2">additionalProfileIds);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">497</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">//Check main profiles have an email address available if 'send confirmation email' is selected</span></code></td>
<td class="ln">502</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">//Check main profiles have an email address available if 'send confirmation email' is selected</span></code></td>
</tr>
<tr valign="top">
<td class="ln">498</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> ($</span><span class="sf18b2">values[</span><span class="sf12b2">'is_email_confirm'</span><span class="sf3b2">]) {</span></code></td>
<td class="ln">503</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> ($</span><span class="sf18b2">values[</span><span class="sf12b2">'is_email_confirm'</span><span class="sf3b2">]) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">499</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">emailFields = </span><span class="sf8b2">self::getEmailFields</span><span class="sf3b2">($</span><span class="sf18b2">profileIds);</span></code></td>
<td class="ln">504</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">emailFields = </span><span class="sf8b2">self::getEmailFields</span><span class="sf3b2">($</span><span class="sf18b2">profileIds);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">500</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (!</span><span class="sf8b2">count</span><span class="sf3b2">($</span><span class="sf18b2">emailFields)) {</span></code></td>
<td class="ln">505</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (!</span><span class="sf8b2">count</span><span class="sf3b2">($</span><span class="sf18b2">emailFields)) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">501</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">errorMsg[</span><span class="sf12b2">'is_email_confirm'</span><span class="sf3b2">] = </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">"Please add a profile with an email address if 'Send Confirmation Email?' is selected"</span><span class="sf3b2">);</span></code></td>
<td class="ln">506</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">errorMsg[</span><span class="sf12b2">'is_email_confirm'</span><span class="sf3b2">] = </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">"Please add a profile with an email address if 'Send Confirmation Email?' is selected"</span><span class="sf3b2">);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">502</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">507</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">503</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">508</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">504</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">additionalCustomPreId = $</span><span class="sf18b2">additionalCustomPostId = NULL;</span></code></td>
<td class="ln">509</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">additionalCustomPreId = $</span><span class="sf18b2">additionalCustomPostId = NULL;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">505</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">isPreError = $</span><span class="sf18b2">isPostError = TRUE;</span></code></td>
<td class="ln">510</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">isPreError = $</span><span class="sf18b2">isPostError = TRUE;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">506</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (</span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'allow_same_participant_emai<wbr>ls'</span><span class="sf3b2">, $</span><span class="sf18b2">values) &amp;&amp;</span></code></td>
<td class="ln">511</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (</span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'allow_same_participant_emai<wbr>ls'</span><span class="sf3b2">, $</span><span class="sf18b2">values) &amp;&amp;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">507</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'is_multiple_registrations'</span><span class="sf3b2">, $</span><span class="sf18b2">values)</span></code></td>
<td class="ln">512</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'is_multiple_registrations'</span><span class="sf3b2">, $</span><span class="sf18b2">values)</span></code></td>
</tr>
<tr valign="top">
<td class="ln">508</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;) {</span></code></td>
<td class="ln">513</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">509</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">types = </span><span class="sf8b2">array_merge</span><span class="sf3b2">(</span><span class="sf7b2">array</span><span class="sf3b2">(</span><span class="sf12b2">'Individual'</span><span class="sf3b2">), </span><span class="sf8b2">CRM_Contact_BAO_ContactType::subTypes</span><span class="sf3b2">(</span><span class="sf12b2">'Individual'</span><span class="sf3b2">))<wbr>;</span></code></td>
<td class="ln">514</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">types = </span><span class="sf8b2">array_merge</span><span class="sf3b2">(</span><span class="sf7b2">array</span><span class="sf3b2">(</span><span class="sf12b2">'Individual'</span><span class="sf3b2">), </span><span class="sf8b2">CRM_Contact_BAO_ContactType::subTypes</span><span class="sf3b2">(</span><span class="sf12b2">'Individual'</span><span class="sf3b2">))<wbr>;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">510</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">profiles = </span><span class="sf8b2">CRM_Core_BAO_UFGroup::getProfiles</span><span class="sf3b2">($</span><span class="sf18b2">types);</span></code></td>
<td class="ln">515</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">profiles = </span><span class="sf8b2">CRM_Core_BAO_UFGroup::getProfiles</span><span class="sf3b2">($</span><span class="sf18b2">types);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">511</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">516</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">512</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">//check for additional custom pre profile</span></code></td>
<td class="ln">517</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">//check for additional custom pre profile</span></code></td>
</tr>
<tr valign="top">
<td class="ln">513</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">additionalCustomPreId = </span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'additional_custom_pre_id'</span><span class="sf3b2">, $</span><span class="sf18b2">values);</span></code></td>
<td class="ln">518</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">additionalCustomPreId = </span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'additional_custom_pre_id'</span><span class="sf3b2">, $</span><span class="sf18b2">values);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">514</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (!</span><span class="sf7b2">empty</span><span class="sf3b2">($</span><span class="sf18b2">additionalCustomPreId)) {</span></code></td>
<td class="ln">519</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (!</span><span class="sf7b2">empty</span><span class="sf3b2">($</span><span class="sf18b2">additionalCustomPreId)) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">515</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (!($</span><span class="sf18b2">additionalCustomPreId == </span><span class="sf12b2">'none'</span><span class="sf3b2">)) {</span></code></td>
<td class="ln">520</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (!($</span><span class="sf18b2">additionalCustomPreId == </span><span class="sf12b2">'none'</span><span class="sf3b2">)) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">516</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">customPreId = $</span><span class="sf18b2">additionalCustomPreId;</span></code></td>
<td class="ln">521</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">customPreId = $</span><span class="sf18b2">additionalCustomPreId;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">517</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">522</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">518</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">else</span><span class="sf3b2"> {</span></code></td>
<td class="ln">523</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">else</span><span class="sf3b2"> {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">519</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">isPreError = FALSE;</span></code></td>
<td class="ln">524</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">isPreError = FALSE;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">520</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">525</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">521</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">526</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">522</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">else</span><span class="sf3b2"> {</span></code></td>
<td class="ln">527</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">else</span><span class="sf3b2"> {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">523</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">customPreId = </span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'custom_pre_id'</span><span class="sf3b2">, $</span><span class="sf18b2">values) ? $</span><span class="sf18b2">values[</span><span class="sf12b2">'custom_pre_id'</span><span class="sf3b2">] : NULL;</span></code></td>
<td class="ln">528</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">customPreId = </span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'custom_pre_id'</span><span class="sf3b2">, $</span><span class="sf18b2">values) ? $</span><span class="sf18b2">values[</span><span class="sf12b2">'custom_pre_id'</span><span class="sf3b2">] : NULL;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">524</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">529</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">525</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">//check whether the additional custom pre profile is of type 'Individual' and its subtypes</span></code></td>
<td class="ln">530</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">//check whether the additional custom pre profile is of type 'Individual' and its subtypes</span></code></td>
</tr>
<tr valign="top">
<td class="ln">526</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (!</span><span class="sf7b2">empty</span><span class="sf3b2">($</span><span class="sf18b2">customPreId)) {</span></code></td>
<td class="ln">531</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (!</span><span class="sf7b2">empty</span><span class="sf3b2">($</span><span class="sf18b2">customPreId)) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">527</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">profileTypes = </span><span class="sf8b2">CRM_Core_BAO_UFGroup::profileGroups</span><span class="sf3b2">($</span><span class="sf18b2">customPreId);</span></code></td>
<td class="ln">532</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">profileTypes = </span><span class="sf8b2">CRM_Core_BAO_UFGroup::profileGroups</span><span class="sf3b2">($</span><span class="sf18b2">customPreId);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">528</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">foreach</span><span class="sf3b2"> ($</span><span class="sf18b2">types </span><span class="sf7b2">as</span><span class="sf3b2"> $</span><span class="sf18b2">individualTypes) {</span></code></td>
<td class="ln">533</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">foreach</span><span class="sf3b2"> ($</span><span class="sf18b2">types </span><span class="sf7b2">as</span><span class="sf3b2"> $</span><span class="sf18b2">individualTypes) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">529</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (</span><span class="sf8b2">in_array</span><span class="sf3b2">($</span><span class="sf18b2">individualTypes, $</span><span class="sf18b2">profileTypes)) {</span></code></td>
<td class="ln">534</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (</span><span class="sf8b2">in_array</span><span class="sf3b2">($</span><span class="sf18b2">individualTypes, $</span><span class="sf18b2">profileTypes)) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">530</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">isPreError = FALSE;</span></code></td>
<td class="ln">535</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">isPreError = FALSE;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">531</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">break</span><span class="sf3b2">;</span></code></td>
<td class="ln">536</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">break</span><span class="sf3b2">;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">532</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">537</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">533</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">538</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">534</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">539</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">535</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">else</span><span class="sf3b2"> {</span></code></td>
<td class="ln">540</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">else</span><span class="sf3b2"> {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">536</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">isPreError = FALSE;</span></code></td>
<td class="ln">541</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">isPreError = FALSE;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">537</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">542</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">538</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">//check for additional custom post profile</span></code></td>
<td class="ln">543</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">//check for additional custom post profile</span></code></td>
</tr>
<tr valign="top">
<td class="ln">539</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">additionalCustomPostId = </span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'additional_custom_post_id'</span><span class="sf3b2">, $</span><span class="sf18b2">values);</span></code></td>
<td class="ln">544</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">additionalCustomPostId = </span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'additional_custom_post_id'</span><span class="sf3b2">, $</span><span class="sf18b2">values);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">540</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (!</span><span class="sf7b2">empty</span><span class="sf3b2">($</span><span class="sf18b2">additionalCustomPostId)) {</span></code></td>
<td class="ln">545</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (!</span><span class="sf7b2">empty</span><span class="sf3b2">($</span><span class="sf18b2">additionalCustomPostId)) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">541</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (!($</span><span class="sf18b2">additionalCustomPostId == </span><span class="sf12b2">'none'</span><span class="sf3b2">)) {</span></code></td>
<td class="ln">546</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (!($</span><span class="sf18b2">additionalCustomPostId == </span><span class="sf12b2">'none'</span><span class="sf3b2">)) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">542</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">customPostId = $</span><span class="sf18b2">additionalCustomPostId;</span></code></td>
<td class="ln">547</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">customPostId = $</span><span class="sf18b2">additionalCustomPostId;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">543</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">548</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">544</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">else</span><span class="sf3b2"> {</span></code></td>
<td class="ln">549</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">else</span><span class="sf3b2"> {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">545</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">isPostError = FALSE;</span></code></td>
<td class="ln">550</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">isPostError = FALSE;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">546</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">551</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">547</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">552</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">548</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">else</span><span class="sf3b2"> {</span></code></td>
<td class="ln">553</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">else</span><span class="sf3b2"> {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">549</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">customPostId = </span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'custom_post_id'</span><span class="sf3b2">, $</span><span class="sf18b2">values) ? $</span><span class="sf18b2">values[</span><span class="sf12b2">'custom_post_id'</span><span class="sf3b2">] : NULL;</span></code></td>
<td class="ln">554</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">customPostId = </span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'custom_post_id'</span><span class="sf3b2">, $</span><span class="sf18b2">values) ? $</span><span class="sf18b2">values[</span><span class="sf12b2">'custom_post_id'</span><span class="sf3b2">] : NULL;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">550</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">555</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">551</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">//check whether the additional custom post profile is of type 'Individual' and its subtypes</span></code></td>
<td class="ln">556</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">//check whether the additional custom post profile is of type 'Individual' and its subtypes</span></code></td>
</tr>
<tr valign="top">
<td class="ln">552</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (!</span><span class="sf7b2">empty</span><span class="sf3b2">($</span><span class="sf18b2">customPostId)) {</span></code></td>
<td class="ln">557</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (!</span><span class="sf7b2">empty</span><span class="sf3b2">($</span><span class="sf18b2">customPostId)) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">553</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">profileTypes = </span><span class="sf8b2">CRM_Core_BAO_UFGroup::profileGroups</span><span class="sf3b2">($</span><span class="sf18b2">customPostId);</span></code></td>
<td class="ln">558</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">profileTypes = </span><span class="sf8b2">CRM_Core_BAO_UFGroup::profileGroups</span><span class="sf3b2">($</span><span class="sf18b2">customPostId);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">554</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">foreach</span><span class="sf3b2"> ($</span><span class="sf18b2">types </span><span class="sf7b2">as</span><span class="sf3b2"> $</span><span class="sf18b2">individualTypes) {</span></code></td>
<td class="ln">559</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">foreach</span><span class="sf3b2"> ($</span><span class="sf18b2">types </span><span class="sf7b2">as</span><span class="sf3b2"> $</span><span class="sf18b2">individualTypes) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">555</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (</span><span class="sf8b2">in_array</span><span class="sf3b2">($</span><span class="sf18b2">individualTypes, $</span><span class="sf18b2">profileTypes)) {</span></code></td>
<td class="ln">560</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (</span><span class="sf8b2">in_array</span><span class="sf3b2">($</span><span class="sf18b2">individualTypes, $</span><span class="sf18b2">profileTypes)) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">556</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">isPostError = FALSE;</span></code></td>
<td class="ln">561</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">isPostError = FALSE;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">557</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">break</span><span class="sf3b2">;</span></code></td>
<td class="ln">562</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">break</span><span class="sf3b2">;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">558</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">563</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">559</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">564</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">560</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">565</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">561</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">else</span><span class="sf3b2"> {</span></code></td>
<td class="ln">566</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">else</span><span class="sf3b2"> {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">562</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">isPostError = FALSE;</span></code></td>
<td class="ln">567</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">isPostError = FALSE;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">563</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">568</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">564</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> ($</span><span class="sf18b2">isPreError || (</span><span class="sf7b2">empty</span><span class="sf3b2">($</span><span class="sf18b2">customPreId) &amp;&amp; </span><span class="sf7b2">empty</span><span class="sf3b2">($</span><span class="sf18b2">customPostId))) {</span></code></td>
<td class="ln">569</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> ($</span><span class="sf18b2">isPreError || (</span><span class="sf7b2">empty</span><span class="sf3b2">($</span><span class="sf18b2">customPreId) &amp;&amp; </span><span class="sf7b2">empty</span><span class="sf3b2">($</span><span class="sf18b2">customPostId))) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">565</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">errorMsg[</span><span class="sf12b2">'additional_custom_pre_id'</span><span class="sf3b2">] = </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">"Allow multiple registrations from the same email address requires a profile of type 'Individual'"</span><span class="sf3b2">);</span></code></td>
<td class="ln">570</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">errorMsg[</span><span class="sf12b2">'additional_custom_pre_id'</span><span class="sf3b2">] = </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">"Allow multiple registrations from the same email address requires a profile of type 'Individual'"</span><span class="sf3b2">);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">566</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">571</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">567</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> ($</span><span class="sf18b2">isPostError) {</span></code></td>
<td class="ln">572</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> ($</span><span class="sf18b2">isPostError) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">568</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">errorMsg[</span><span class="sf12b2">'additional_custom_post_id'</span><span class="sf3b2">] = </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">"Allow multiple registrations from the same email address requires a profile of type 'Individual'"</span><span class="sf3b2">);</span></code></td>
<td class="ln">573</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">errorMsg[</span><span class="sf12b2">'additional_custom_post_id'</span><span class="sf3b2">] = </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">"Allow multiple registrations from the same email address requires a profile of type 'Individual'"</span><span class="sf3b2">);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">569</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">574</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">570</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">575</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">571</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (!$</span><span class="sf18b2">isProfileComplete) {</span></code></td>
<td class="ln">576</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (!$</span><span class="sf18b2">isProfileComplete) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">572</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">errorMsg[</span><span class="sf12b2">'custom_pre_id'</span><span class="sf3b2">] = </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">"Please include a Profile for online registration that contains an Email Address field and / or First Name + Last Name fields."</span><span class="sf3b2">);</span></code></td>
<td class="ln">577</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">errorMsg[</span><span class="sf12b2">'custom_pre_id'</span><span class="sf3b2">] = </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">"Please include a Profile for online registration that contains an Email Address field and / or First Name + Last Name fields."</span><span class="sf3b2">);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">573</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">578</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">574</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (!$</span><span class="sf18b2">isAdditionalProfileComplete) {</span></code></td>
<td class="ln">579</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (!$</span><span class="sf18b2">isAdditionalProfileComplete) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">575</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">errorMsg[</span><span class="sf12b2">'additional_custom_pre_id'</span><span class="sf3b2">] = </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">"Please include a Profile for online registration of additional participants that contains an Email Address field and / or First Name + Last Name fields."</span><span class="sf3b2">);</span></code></td>
<td class="ln">580</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">errorMsg[</span><span class="sf12b2">'additional_custom_pre_id'</span><span class="sf3b2">] = </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">"Please include a Profile for online registration of additional participants that contains an Email Address field and / or First Name + Last Name fields."</span><span class="sf3b2">);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">576</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">581</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">577</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">582</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">578</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">// // CRM-8485</span></code></td>
<td class="ln">583</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">// // CRM-8485</span></code></td>
</tr>
<tr valign="top">
<td class="ln">579</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">// $config = CRM_Core_Config::singleton();</span></code></td>
<td class="ln">584</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">// $config = CRM_Core_Config::singleton();</span></code></td>
</tr>
<tr valign="top">
<td class="ln">580</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">// if ( $config-&gt;doNotAttachPDFReceipt ) {</span></code></td>
<td class="ln">585</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">// if ( $config-&gt;doNotAttachPDFReceipt ) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">581</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">// &nbsp; &nbsp; if ( CRM_Utils_Array::value('custom_post_id_multiple', $values) ) {</span></code></td>
<td class="ln">586</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">// &nbsp; &nbsp; if ( CRM_Utils_Array::value('custom_post_id_multiple', $values) ) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">582</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">// &nbsp; &nbsp; &nbsp; &nbsp; foreach( $values['custom_post_id_multiple'] as $count =&gt; $customPostMultiple ) {</span></code></td>
<td class="ln">587</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">// &nbsp; &nbsp; &nbsp; &nbsp; foreach( $values['custom_post_id_multiple'] as $count =&gt; $customPostMultiple ) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">583</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">// &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ( $customPostMultiple ) {</span></code></td>
<td class="ln">588</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">// &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ( $customPostMultiple ) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">584</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">// &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $errorMsg["custom_post_id_multiple[{$count}]"] = ts('Please disable PDF receipt as an attachment in &lt;a href="%1"&gt;Miscellaneous Settings&lt;/a&gt; if you want to add additional profiles.', array( 1 =&gt; CRM_Utils_System::url( 'civicrm/admin/setting/misc', 'reset=1' ) ) );</span></code></td>
<td class="ln">589</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">// &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $errorMsg["custom_post_id_multiple[{$count}]"] = ts('Please disable PDF receipt as an attachment in &lt;a href="%1"&gt;Miscellaneous Settings&lt;/a&gt; if you want to add additional profiles.', array( 1 =&gt; CRM_Utils_System::url( 'civicrm/admin/setting/misc', 'reset=1' ) ) );</span></code></td>
</tr>
<tr valign="top">
<td class="ln">585</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">// &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;</span></code></td>
<td class="ln">590</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">// &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">586</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">// &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln">591</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">// &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr valign="top">
<td class="ln">587</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">// &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln">592</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">// &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr valign="top">
<td class="ln">588</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">// &nbsp; &nbsp; }</span></code></td>
<td class="ln">593</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">// &nbsp; &nbsp; }</span></code></td>
</tr>
<tr valign="top">
<td class="ln">589</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">//</span></code></td>
<td class="ln">594</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">//</span></code></td>
</tr>
<tr valign="top">
<td class="ln">590</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">// &nbsp; &nbsp; if ( CRM_Utils_Array::value('is_multiple_registrations', $values) &amp;&amp;</span></code></td>
<td class="ln">595</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">// &nbsp; &nbsp; if ( CRM_Utils_Array::value('is_multiple_registrations', $values) &amp;&amp;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">591</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">// &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;CRM_Utils_Array::value('additional_custom_post_id_mu<wbr>ltiple', &nbsp;$values) ) {</span></code></td>
<td class="ln">596</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">// &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;CRM_Utils_Array::value('additional_custom_post_id_mu<wbr>ltiple', &nbsp;$values) ) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">592</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">// &nbsp; &nbsp; &nbsp; &nbsp; foreach( $values['additional_custom_post_id_multiple'] as $count =&gt; $customPostMultiple ) {</span></code></td>
<td class="ln">597</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">// &nbsp; &nbsp; &nbsp; &nbsp; foreach( $values['additional_custom_post_id_multiple'] as $count =&gt; $customPostMultiple ) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">593</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">// &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ( $customPostMultiple ) {</span></code></td>
<td class="ln">598</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">// &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ( $customPostMultiple ) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">594</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">// &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$errorMsg["additional_custom_post_id_multiple[{$coun<wbr>t}]"] = ts('Please disable PDF receipt as an attachment in &lt;a href="%1"&gt;Miscellaneous Settings&lt;/a&gt; if you want to add additional profiles.', array( 1 =&gt; CRM_Utils_System::url( 'civicrm/admin/setting/misc', 'reset=1' ) ) );</span></code></td>
<td class="ln">599</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">// &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$errorMsg["additional_custom_post_id_multiple[{$coun<wbr>t}]"] = ts('Please disable PDF receipt as an attachment in &lt;a href="%1"&gt;Miscellaneous Settings&lt;/a&gt; if you want to add additional profiles.', array( 1 =&gt; CRM_Utils_System::url( 'civicrm/admin/setting/misc', 'reset=1' ) ) );</span></code></td>
</tr>
<tr valign="top">
<td class="ln">595</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">// &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;</span></code></td>
<td class="ln">600</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">// &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">596</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">// &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln">601</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">// &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr valign="top">
<td class="ln">597</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">// &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln">602</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">// &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr valign="top">
<td class="ln">598</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">// &nbsp; &nbsp; }</span></code></td>
<td class="ln">603</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">// &nbsp; &nbsp; }</span></code></td>
</tr>
<tr valign="top">
<td class="ln">599</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">// }</span></code></td>
<td class="ln">604</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf9b2">// }</span></code></td>
</tr>
<tr valign="top">
<td class="ln">600</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">605</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">601</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (!</span><span class="sf7b2">empty</span><span class="sf3b2">($</span><span class="sf18b2">errorMsg)) {</span></code></td>
<td class="ln">606</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (!</span><span class="sf7b2">empty</span><span class="sf3b2">($</span><span class="sf18b2">errorMsg)) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">602</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (</span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'custom_post_id_multiple'</span><span class="sf3b2">, $</span><span class="sf18b2">values)) {</span></code></td>
<td class="ln">607</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (</span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'custom_post_id_multiple'</span><span class="sf3b2">, $</span><span class="sf18b2">values)) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">603</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">foreach</span><span class="sf3b2"> ($</span><span class="sf18b2">values[</span><span class="sf12b2">'custom_post_id_multiple'</span><span class="sf3b2">] </span><span class="sf7b2">as</span><span class="sf3b2"> $</span><span class="sf18b2">count =&gt; $</span><span class="sf18b2">customPostMultiple) {</span></code></td>
<td class="ln">608</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">foreach</span><span class="sf3b2"> ($</span><span class="sf18b2">values[</span><span class="sf12b2">'custom_post_id_multiple'</span><span class="sf3b2">] </span><span class="sf7b2">as</span><span class="sf3b2"> $</span><span class="sf18b2">count =&gt; $</span><span class="sf18b2">customPostMultiple) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">604</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf8b2">self::buildMultipleProfileBottom</span><span class="sf3b2">($</span><span class="sf18b2">form, $</span><span class="sf18b2">count);</span></code></td>
<td class="ln">609</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf8b2">self::buildMultipleProfileBottom</span><span class="sf3b2">($</span><span class="sf18b2">form, $</span><span class="sf18b2">count);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">605</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">610</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">606</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">form-&gt;</span><span class="sf8b2">assign</span><span class="sf3b2">(</span><span class="sf12b2">'profilePostMultiple'</span><span class="sf3b2">, $</span><span class="sf18b2">values[</span><span class="sf12b2">'custom_post_id_multiple'</span><span class="sf3b2">]);</span></code></td>
<td class="ln">611</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">form-&gt;</span><span class="sf8b2">assign</span><span class="sf3b2">(</span><span class="sf12b2">'profilePostMultiple'</span><span class="sf3b2">, $</span><span class="sf18b2">values[</span><span class="sf12b2">'custom_post_id_multiple'</span><span class="sf3b2">]);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">607</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">612</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">608</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (</span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'additional_custom_post_id_m<wbr>ultiple'</span><span class="sf3b2">, $</span><span class="sf18b2">values)) {</span></code></td>
<td class="ln">613</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (</span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'additional_custom_post_id_m<wbr>ultiple'</span><span class="sf3b2">, $</span><span class="sf18b2">values)) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">609</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">foreach</span><span class="sf3b2"> ($</span><span class="sf18b2">values[</span><span class="sf12b2">'additional_custom_post_id_multiple'</span><span class="sf3b2">] </span><span class="sf7b2">as</span><span class="sf3b2"> $</span><span class="sf18b2">count =&gt; $</span><span class="sf18b2">customPostMultiple) {</span></code></td>
<td class="ln">614</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">foreach</span><span class="sf3b2"> ($</span><span class="sf18b2">values[</span><span class="sf12b2">'additional_custom_post_id_multiple'</span><span class="sf3b2">] </span><span class="sf7b2">as</span><span class="sf3b2"> $</span><span class="sf18b2">count =&gt; $</span><span class="sf18b2">customPostMultiple) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">610</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf8b2">self::buildMultipleProfileBottom</span><span class="sf3b2">($</span><span class="sf18b2">form, $</span><span class="sf18b2">count, </span><span class="sf12b2">'additional_'</span><span class="sf3b2">, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Profile for Additional Participants'</span><span class="sf3b2">));</span></code></td>
<td class="ln">615</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf8b2">self::buildMultipleProfileBottom</span><span class="sf3b2">($</span><span class="sf18b2">form, $</span><span class="sf18b2">count, </span><span class="sf12b2">'additional_'</span><span class="sf3b2">, </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Profile for Additional Participants'</span><span class="sf3b2">));</span></code></td>
</tr>
<tr valign="top">
<td class="ln">611</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">616</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">612</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">form-&gt;</span><span class="sf8b2">assign</span><span class="sf3b2">(</span><span class="sf12b2">'profilePostMultipleAdd'</span><span class="sf3b2">, $</span><span class="sf18b2">values[</span><span class="sf12b2">'additional_custom_post_id_multiple'</span><span class="sf3b2">]);</span></code></td>
<td class="ln">617</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">form-&gt;</span><span class="sf8b2">assign</span><span class="sf3b2">(</span><span class="sf12b2">'profilePostMultipleAdd'</span><span class="sf3b2">, $</span><span class="sf18b2">values[</span><span class="sf12b2">'additional_custom_post_id_multiple'</span><span class="sf3b2">]);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">613</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">618</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">614</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">619</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">615</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;}</span></code></td>
<td class="ln">620</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">616</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">621</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">617</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (!</span><span class="sf7b2">empty</span><span class="sf3b2">($</span><span class="sf18b2">errorMsg)) {</span></code></td>
<td class="ln">622</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (!</span><span class="sf7b2">empty</span><span class="sf3b2">($</span><span class="sf18b2">errorMsg)) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">618</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">return</span><span class="sf3b2"> $</span><span class="sf18b2">errorMsg;</span></code></td>
<td class="ln">623</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">return</span><span class="sf3b2"> $</span><span class="sf18b2">errorMsg;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">619</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;}</span></code></td>
<td class="ln">624</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">620</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">625</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">621</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">return</span><span class="sf3b2"> TRUE;</span></code></td>
<td class="ln">626</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">return</span><span class="sf3b2"> TRUE;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">622</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;}</span></code></td>
<td class="ln">627</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">623</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">628</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">624</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf9b2">/**</span></code></td>
<td class="ln">629</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf9b2">/**</span></code></td>
</tr>
<tr valign="top">
<td class="ln">625</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * Collect all email fields for an array of profile ids</span></code></td>
<td class="ln">630</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * Collect all email fields for an array of profile ids</span></code></td>
</tr>
<tr valign="top">
<td class="ln">626</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; *</span></code></td>
<td class="ln">631</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; *</span></code></td>
</tr>
<tr valign="top">
<td class="ln">627</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * @return boolean</span></code></td>
<td class="ln">632</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * @return boolean</span></code></td>
</tr>
<tr valign="top">
<td class="ln">628</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; */</span>&nbsp;</code></td>
<td class="ln">633</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; */</span>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">629</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf7b2">static</span></code></td>
<td class="ln">634</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf7b2">static</span></code></td>
</tr>
<tr valign="top">
<td class="ln">630</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf7b2">function</span><span class="sf3b2"> </span><span class="sf8b2">getEmailFields</span><span class="sf3b2">($</span><span class="sf18b2">profileIds) {</span></code></td>
<td class="ln">635</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf7b2">function</span><span class="sf3b2"> </span><span class="sf8b2">getEmailFields</span><span class="sf3b2">($</span><span class="sf18b2">profileIds) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">631</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">emailFields = </span><span class="sf7b2">array</span><span class="sf3b2">();</span></code></td>
<td class="ln">636</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">emailFields = </span><span class="sf7b2">array</span><span class="sf3b2">();</span></code></td>
</tr>
<tr valign="top">
<td class="ln">632</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">foreach</span><span class="sf3b2"> ($</span><span class="sf18b2">profileIds </span><span class="sf7b2">as</span><span class="sf3b2"> $</span><span class="sf18b2">profileId) {</span></code></td>
<td class="ln">637</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">foreach</span><span class="sf3b2"> ($</span><span class="sf18b2">profileIds </span><span class="sf7b2">as</span><span class="sf3b2"> $</span><span class="sf18b2">profileId) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">633</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> ($</span><span class="sf18b2">profileId &amp;&amp; </span><span class="sf8b2">is_numeric</span><span class="sf3b2">($</span><span class="sf18b2">profileId)) {</span></code></td>
<td class="ln">638</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> ($</span><span class="sf18b2">profileId &amp;&amp; </span><span class="sf8b2">is_numeric</span><span class="sf3b2">($</span><span class="sf18b2">profileId)) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">634</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">fields = </span><span class="sf8b2">CRM_Core_BAO_UFGroup::getFields</span><span class="sf3b2">($</span><span class="sf18b2">profileId);</span></code></td>
<td class="ln">639</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">fields = </span><span class="sf8b2">CRM_Core_BAO_UFGroup::getFields</span><span class="sf3b2">($</span><span class="sf18b2">profileId);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">635</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">foreach</span><span class="sf3b2"> ($</span><span class="sf18b2">fields </span><span class="sf7b2">as</span><span class="sf3b2"> $</span><span class="sf18b2">field) {</span></code></td>
<td class="ln">640</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">foreach</span><span class="sf3b2"> ($</span><span class="sf18b2">fields </span><span class="sf7b2">as</span><span class="sf3b2"> $</span><span class="sf18b2">field) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">636</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (</span><span class="sf8b2">substr_count</span><span class="sf3b2">($</span><span class="sf18b2">field[</span><span class="sf12b2">'name'</span><span class="sf3b2">], </span><span class="sf12b2">'email'</span><span class="sf3b2">)) {</span></code></td>
<td class="ln">641</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (</span><span class="sf8b2">substr_count</span><span class="sf3b2">($</span><span class="sf18b2">field[</span><span class="sf12b2">'name'</span><span class="sf3b2">], </span><span class="sf12b2">'email'</span><span class="sf3b2">)) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">637</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">emailFields[] = $</span><span class="sf18b2">field;</span></code></td>
<td class="ln">642</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">emailFields[] = $</span><span class="sf18b2">field;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">638</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">643</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">639</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">644</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">640</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">645</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">641</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;}</span></code></td>
<td class="ln">646</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">642</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">return</span><span class="sf3b2"> $</span><span class="sf18b2">emailFields;</span></code></td>
<td class="ln">647</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">return</span><span class="sf3b2"> $</span><span class="sf18b2">emailFields;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">643</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;}</span></code></td>
<td class="ln">648</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">644</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">649</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">645</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf9b2">/**</span></code></td>
<td class="ln">650</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf9b2">/**</span></code></td>
</tr>
<tr valign="top">
<td class="ln">646</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * Check if a profile contains required fields</span></code></td>
<td class="ln">651</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * Check if a profile contains required fields</span></code></td>
</tr>
<tr valign="top">
<td class="ln">647</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; *</span></code></td>
<td class="ln">652</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; *</span></code></td>
</tr>
<tr valign="top">
<td class="ln">648</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * @return boolean</span></code></td>
<td class="ln">653</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * @return boolean</span></code></td>
</tr>
<tr valign="top">
<td class="ln">649</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; */</span>&nbsp;</code></td>
<td class="ln">654</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; */</span>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">650</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf7b2">static</span></code></td>
<td class="ln">655</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf7b2">static</span></code></td>
</tr>
<tr valign="top">
<td class="ln">651</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf7b2">function</span><span class="sf3b2"> </span><span class="sf8b2">isProfileComplete</span><span class="sf3b2">($</span><span class="sf18b2">profileIds) {</span></code></td>
<td class="ln">656</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf7b2">function</span><span class="sf3b2"> </span><span class="sf8b2">isProfileComplete</span><span class="sf3b2">($</span><span class="sf18b2">profileIds) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">652</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">profileReqFields = </span><span class="sf7b2">array</span><span class="sf3b2">();</span></code></td>
<td class="ln">657</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">profileReqFields = </span><span class="sf7b2">array</span><span class="sf3b2">();</span></code></td>
</tr>
<tr valign="top">
<td class="ln">653</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">foreach</span><span class="sf3b2"> ($</span><span class="sf18b2">profileIds </span><span class="sf7b2">as</span><span class="sf3b2"> $</span><span class="sf18b2">profileId) {</span></code></td>
<td class="ln">658</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">foreach</span><span class="sf3b2"> ($</span><span class="sf18b2">profileIds </span><span class="sf7b2">as</span><span class="sf3b2"> $</span><span class="sf18b2">profileId) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">654</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> ($</span><span class="sf18b2">profileId &amp;&amp; </span><span class="sf8b2">is_numeric</span><span class="sf3b2">($</span><span class="sf18b2">profileId)) {</span></code></td>
<td class="ln">659</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> ($</span><span class="sf18b2">profileId &amp;&amp; </span><span class="sf8b2">is_numeric</span><span class="sf3b2">($</span><span class="sf18b2">profileId)) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">655</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">fields = </span><span class="sf8b2">CRM_Core_BAO_UFGroup::getFields</span><span class="sf3b2">($</span><span class="sf18b2">profileId);</span></code></td>
<td class="ln">660</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">fields = </span><span class="sf8b2">CRM_Core_BAO_UFGroup::getFields</span><span class="sf3b2">($</span><span class="sf18b2">profileId);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">656</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">foreach</span><span class="sf3b2"> ($</span><span class="sf18b2">fields </span><span class="sf7b2">as</span><span class="sf3b2"> $</span><span class="sf18b2">field) {</span></code></td>
<td class="ln">661</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">foreach</span><span class="sf3b2"> ($</span><span class="sf18b2">fields </span><span class="sf7b2">as</span><span class="sf3b2"> $</span><span class="sf18b2">field) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">657</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">switch</span><span class="sf3b2"> (TRUE) {</span></code></td>
<td class="ln">662</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">switch</span><span class="sf3b2"> (TRUE) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">658</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">case</span><span class="sf3b2"> </span><span class="sf8b2">substr_count</span><span class="sf3b2">($</span><span class="sf18b2">field[</span><span class="sf12b2">'name'</span><span class="sf3b2">], </span><span class="sf12b2">'email'</span><span class="sf3b2">):</span></code></td>
<td class="ln">663</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">case</span><span class="sf3b2"> </span><span class="sf8b2">substr_count</span><span class="sf3b2">($</span><span class="sf18b2">field[</span><span class="sf12b2">'name'</span><span class="sf3b2">], </span><span class="sf12b2">'email'</span><span class="sf3b2">):</span></code></td>
</tr>
<tr valign="top">
<td class="ln">659</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">profileReqFields[] = </span><span class="sf12b2">'email'</span><span class="sf3b2">;</span></code></td>
<td class="ln">664</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">profileReqFields[] = </span><span class="sf12b2">'email'</span><span class="sf3b2">;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">660</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">break</span><span class="sf3b2">;</span></code></td>
<td class="ln">665</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">break</span><span class="sf3b2">;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">661</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">666</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">662</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">case</span><span class="sf3b2"> </span><span class="sf8b2">substr_count</span><span class="sf3b2">($</span><span class="sf18b2">field[</span><span class="sf12b2">'name'</span><span class="sf3b2">], </span><span class="sf12b2">'first_name'</span><span class="sf3b2">):</span></code></td>
<td class="ln">667</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">case</span><span class="sf3b2"> </span><span class="sf8b2">substr_count</span><span class="sf3b2">($</span><span class="sf18b2">field[</span><span class="sf12b2">'name'</span><span class="sf3b2">], </span><span class="sf12b2">'first_name'</span><span class="sf3b2">):</span></code></td>
</tr>
<tr valign="top">
<td class="ln">663</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">profileReqFields[] = </span><span class="sf12b2">'first_name'</span><span class="sf3b2">;</span></code></td>
<td class="ln">668</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">profileReqFields[] = </span><span class="sf12b2">'first_name'</span><span class="sf3b2">;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">664</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">break</span><span class="sf3b2">;</span></code></td>
<td class="ln">669</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">break</span><span class="sf3b2">;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">665</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">670</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">666</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">case</span><span class="sf3b2"> </span><span class="sf8b2">substr_count</span><span class="sf3b2">($</span><span class="sf18b2">field[</span><span class="sf12b2">'name'</span><span class="sf3b2">], </span><span class="sf12b2">'last_name'</span><span class="sf3b2">):</span></code></td>
<td class="ln">671</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">case</span><span class="sf3b2"> </span><span class="sf8b2">substr_count</span><span class="sf3b2">($</span><span class="sf18b2">field[</span><span class="sf12b2">'name'</span><span class="sf3b2">], </span><span class="sf12b2">'last_name'</span><span class="sf3b2">):</span></code></td>
</tr>
<tr valign="top">
<td class="ln">667</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">profileReqFields[] = </span><span class="sf12b2">'last_name'</span><span class="sf3b2">;</span></code></td>
<td class="ln">672</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">profileReqFields[] = </span><span class="sf12b2">'last_name'</span><span class="sf3b2">;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">668</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">break</span><span class="sf3b2">;</span></code></td>
<td class="ln">673</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">break</span><span class="sf3b2">;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">669</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">674</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">670</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">675</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">671</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">676</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">672</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;}</span></code></td>
<td class="ln">677</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">673</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">profileComplete = (</span><span class="sf8b2">in_array</span><span class="sf3b2">(</span><span class="sf12b2">'email'</span><span class="sf3b2">, $</span><span class="sf18b2">profileReqFields)</span></code></td>
<td class="ln">678</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">profileComplete = (</span><span class="sf8b2">in_array</span><span class="sf3b2">(</span><span class="sf12b2">'email'</span><span class="sf3b2">, $</span><span class="sf18b2">profileReqFields)</span></code></td>
</tr>
<tr valign="top">
<td class="ln">674</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;|| (</span><span class="sf8b2">in_array</span><span class="sf3b2">(</span><span class="sf12b2">'first_name'</span><span class="sf3b2">, $</span><span class="sf18b2">profileReqFields) &amp;&amp; </span><span class="sf8b2">in_array</span><span class="sf3b2">(</span><span class="sf12b2">'last_name'</span><span class="sf3b2">, $</span><span class="sf18b2">profileReqFields))</span></code></td>
<td class="ln">679</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;|| (</span><span class="sf8b2">in_array</span><span class="sf3b2">(</span><span class="sf12b2">'first_name'</span><span class="sf3b2">, $</span><span class="sf18b2">profileReqFields) &amp;&amp; </span><span class="sf8b2">in_array</span><span class="sf3b2">(</span><span class="sf12b2">'last_name'</span><span class="sf3b2">, $</span><span class="sf18b2">profileReqFields))</span></code></td>
</tr>
<tr valign="top">
<td class="ln">675</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;);</span></code></td>
<td class="ln">680</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">676</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">return</span><span class="sf3b2"> $</span><span class="sf18b2">profileComplete;</span></code></td>
<td class="ln">681</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">return</span><span class="sf3b2"> $</span><span class="sf18b2">profileComplete;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">677</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;}</span></code></td>
<td class="ln">682</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">678</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">683</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">679</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf9b2">/**</span></code></td>
<td class="ln">684</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf9b2">/**</span></code></td>
</tr>
<tr valign="top">
<td class="ln">680</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * Add additional profiles from the form to an array of profile ids.</span></code></td>
<td class="ln">685</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * Add additional profiles from the form to an array of profile ids.</span></code></td>
</tr>
<tr valign="top">
<td class="ln">681</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; *</span></code></td>
<td class="ln">686</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; *</span></code></td>
</tr>
<tr valign="top">
<td class="ln">682</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; */</span>&nbsp;</code></td>
<td class="ln">687</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; */</span>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">683</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf7b2">static</span></code></td>
<td class="ln">688</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf7b2">static</span></code></td>
</tr>
<tr valign="top">
<td class="ln">684</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf7b2">function</span><span class="sf3b2"> </span><span class="sf8b2">addMultipleProfiles</span><span class="sf3b2">(&amp;$</span><span class="sf18b2">profileIds, $</span><span class="sf18b2">values, $</span><span class="sf18b2">field) {</span></code></td>
<td class="ln">689</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf7b2">function</span><span class="sf3b2"> </span><span class="sf8b2">addMultipleProfiles</span><span class="sf3b2">(&amp;$</span><span class="sf18b2">profileIds, $</span><span class="sf18b2">values, $</span><span class="sf18b2">field) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">685</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> ($</span><span class="sf18b2">multipleProfiles = </span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">($</span><span class="sf18b2">field, $</span><span class="sf18b2">values)) {</span></code></td>
<td class="ln">690</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> ($</span><span class="sf18b2">multipleProfiles = </span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">($</span><span class="sf18b2">field, $</span><span class="sf18b2">values)) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">686</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">foreach</span><span class="sf3b2"> ($</span><span class="sf18b2">multipleProfiles </span><span class="sf7b2">as</span><span class="sf3b2"> $</span><span class="sf18b2">profileId) {</span></code></td>
<td class="ln">691</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">foreach</span><span class="sf3b2"> ($</span><span class="sf18b2">multipleProfiles </span><span class="sf7b2">as</span><span class="sf3b2"> $</span><span class="sf18b2">profileId) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">687</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">profileIds[] = $</span><span class="sf18b2">profileId;</span></code></td>
<td class="ln">692</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">profileIds[] = $</span><span class="sf18b2">profileId;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">688</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">693</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">689</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;}</span></code></td>
<td class="ln">694</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">690</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;}</span></code></td>
<td class="ln">695</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">691</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">696</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">692</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf9b2">/**</span></code></td>
<td class="ln">697</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf9b2">/**</span></code></td>
</tr>
<tr valign="top">
<td class="ln">693</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * Function to process the form</span></code></td>
<td class="ln">698</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * Function to process the form</span></code></td>
</tr>
<tr valign="top">
<td class="ln">694</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; *</span></code></td>
<td class="ln">699</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; *</span></code></td>
</tr>
<tr valign="top">
<td class="ln">695</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * @access public</span></code></td>
<td class="ln">700</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * @access public</span></code></td>
</tr>
<tr valign="top">
<td class="ln">696</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; *</span></code></td>
<td class="ln">701</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; *</span></code></td>
</tr>
<tr valign="top">
<td class="ln">697</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * @return None</span></code></td>
<td class="ln">702</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * @return None</span></code></td>
</tr>
<tr valign="top">
<td class="ln">698</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; */</span>&nbsp;</code></td>
<td class="ln">703</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; */</span>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">699</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf8b2">public function postProcess</span><span class="sf3b2">() {</span></code></td>
<td class="ln">704</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf8b2">public function postProcess</span><span class="sf3b2">() {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">700</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">params = </span><span class="sf7b2">array</span><span class="sf3b2">();</span></code></td>
<td class="ln">705</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">params = </span><span class="sf7b2">array</span><span class="sf3b2">();</span></code></td>
</tr>
<tr valign="top">
<td class="ln">701</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">params = $</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">exportValues</span><span class="sf3b2">();</span></code></td>
<td class="ln">706</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">params = $</span><span class="sf18b2">this-&gt;</span><span class="sf8b2">exportValues</span><span class="sf3b2">();</span></code></td>
</tr>
<tr valign="top">
<td class="ln">702</td><td style="color: #000000; background-color: #fbf2bf; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e9e9e9; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">703</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">params[</span><span class="sf12b2">'id'</span><span class="sf3b2">] = $</span><span class="sf18b2">this-&gt;_id;</span></code></td>
<td class="ln">707</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">params[</span><span class="sf12b2">'id'</span><span class="sf3b2">] = $</span><span class="sf18b2">this-&gt;_id;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">704</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">708</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">705</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf9b2">//format params</span></code></td>
<td class="ln">709</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf9b2">//format params</span></code></td>
</tr>
<tr valign="top">
<td class="ln">706</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">params[</span><span class="sf12b2">'is_online_registration'</span><span class="sf3b2">] = </span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'is_online_registration'</span><span class="sf3b2">, $</span><span class="sf18b2">params, FALSE);</span></code></td>
<td class="ln">710</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">params[</span><span class="sf12b2">'is_online_registration'</span><span class="sf3b2">] = </span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'is_online_registration'</span><span class="sf3b2">, $</span><span class="sf18b2">params, FALSE);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">707</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">params[</span><span class="sf12b2">'is_multiple_registrations'</span><span class="sf3b2">] = </span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'is_multiple_registrations'</span><span class="sf3b2">, $</span><span class="sf18b2">params, FALSE);</span></code></td>
<td class="ln">711</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">params[</span><span class="sf12b2">'is_multiple_registrations'</span><span class="sf3b2">] = </span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'is_multiple_registrations'</span><span class="sf3b2">, $</span><span class="sf18b2">params, FALSE);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">708</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">params[</span><span class="sf12b2">'allow_same_participant_emails'</span><span class="sf3b2">] = </span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'allow_same_participant_email<wbr>s'</span><span class="sf3b2">, $</span><span class="sf18b2">params, FALSE);</span></code></td>
<td class="ln">712</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">params[</span><span class="sf12b2">'allow_same_participant_emails'</span><span class="sf3b2">] = </span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'allow_same_participant_email<wbr>s'</span><span class="sf3b2">, $</span><span class="sf18b2">params, FALSE);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">709</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">params[</span><span class="sf12b2">'requires_approval'</span><span class="sf3b2">] = </span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'requires_approval'</span><span class="sf3b2">, $</span><span class="sf18b2">params, FALSE);</span></code></td>
<td class="ln">713</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">params[</span><span class="sf12b2">'requires_approval'</span><span class="sf3b2">] = </span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'requires_approval'</span><span class="sf3b2">, $</span><span class="sf18b2">params, FALSE);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">710</td><td style="color: #000000; background-color: #efcb05; "><code><span class="sf17b16">
</span>&nbsp;</code></td>
<td class="ln">714</td><td style="color: #000000; background-color: #efcb05; "><code><span class="sf17b16"> &nbsp; 
</span>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">711</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf9b2">// reset is_email confirm if not online reg</span></code></td>
<td class="ln">715</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf9b2">// reset is_email confirm if not online reg</span></code></td>
</tr>
<tr valign="top">
<td class="ln">712</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (!$</span><span class="sf18b2">params[</span><span class="sf12b2">'is_online_registration'</span><span class="sf3b2">]) {</span></code></td>
<td class="ln">716</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (!$</span><span class="sf18b2">params[</span><span class="sf12b2">'is_online_registration'</span><span class="sf3b2">]) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">713</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">params[</span><span class="sf12b2">'is_email_confirm'</span><span class="sf3b2">] = FALSE;</span></code></td>
<td class="ln">717</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">params[</span><span class="sf12b2">'is_email_confirm'</span><span class="sf3b2">] = FALSE;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">714</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;}</span></code></td>
<td class="ln">718</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">715</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">719</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">716</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (!$</span><span class="sf18b2">this-&gt;_isTemplate) {</span></code></td>
<td class="ln">720</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (!$</span><span class="sf18b2">this-&gt;_isTemplate) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">717</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">params[</span><span class="sf12b2">'registration_start_date'</span><span class="sf3b2">] = </span><span class="sf8b2">CRM_Utils_Date::processDate</span><span class="sf3b2">($</span><span class="sf18b2">params[</span><span class="sf12b2">'registration_st<wbr>art_date'</span><span class="sf3b2">],</span></code></td>
<td class="ln">721</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">params[</span><span class="sf12b2">'registration_start_date'</span><span class="sf3b2">] = </span><span class="sf8b2">CRM_Utils_Date::processDate</span><span class="sf3b2">($</span><span class="sf18b2">params[</span><span class="sf12b2">'registration_st<wbr>art_date'</span><span class="sf3b2">],</span></code></td>
</tr>
<tr valign="top">
<td class="ln">718</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">params[</span><span class="sf12b2">'registration_start_date_time'</span><span class="sf3b2">],</span></code></td>
<td class="ln">722</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">params[</span><span class="sf12b2">'registration_start_date_time'</span><span class="sf3b2">],</span></code></td>
</tr>
<tr valign="top">
<td class="ln">719</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;TRUE</span></code></td>
<td class="ln">723</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;TRUE</span></code></td>
</tr>
<tr valign="top">
<td class="ln">720</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;);</span></code></td>
<td class="ln">724</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">721</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">params[</span><span class="sf12b2">'registration_end_date'</span><span class="sf3b2">] = </span><span class="sf8b2">CRM_Utils_Date::processDate</span><span class="sf3b2">($</span><span class="sf18b2">params[</span><span class="sf12b2">'registration_en<wbr>d_date'</span><span class="sf3b2">],</span></code></td>
<td class="ln">725</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">params[</span><span class="sf12b2">'registration_end_date'</span><span class="sf3b2">] = </span><span class="sf8b2">CRM_Utils_Date::processDate</span><span class="sf3b2">($</span><span class="sf18b2">params[</span><span class="sf12b2">'registration_en<wbr>d_date'</span><span class="sf3b2">],</span></code></td>
</tr>
<tr valign="top">
<td class="ln">722</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">params[</span><span class="sf12b2">'registration_end_date_time'</span><span class="sf3b2">],</span></code></td>
<td class="ln">726</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">params[</span><span class="sf12b2">'registration_end_date_time'</span><span class="sf3b2">],</span></code></td>
</tr>
<tr valign="top">
<td class="ln">723</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;TRUE</span></code></td>
<td class="ln">727</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;TRUE</span></code></td>
</tr>
<tr valign="top">
<td class="ln">724</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;);</span></code></td>
<td class="ln">728</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">725</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;}</span></code></td>
<td class="ln">729</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">726</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">730</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">727</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf8b2">CRM_Event_BAO_Event::add</span><span class="sf3b2">($</span><span class="sf18b2">params);</span></code></td>
<td class="ln">731</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf8b2">CRM_Event_BAO_Event::add</span><span class="sf3b2">($</span><span class="sf18b2">params);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">728</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">732</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">729</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf9b2">// also update the ProfileModule tables</span></code></td>
<td class="ln">733</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf9b2">// also update the ProfileModule tables</span></code></td>
</tr>
<tr valign="top">
<td class="ln">730</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">ufJoinParams = </span><span class="sf7b2">array</span><span class="sf3b2">(</span></code></td>
<td class="ln">734</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">ufJoinParams = </span><span class="sf7b2">array</span><span class="sf3b2">(</span></code></td>
</tr>
<tr valign="top">
<td class="ln">731</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf12b2">'is_active'</span><span class="sf3b2"> =&gt; </span><span class="sf10b2">1</span><span class="sf3b2">,</span></code></td>
<td class="ln">735</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf12b2">'is_active'</span><span class="sf3b2"> =&gt; </span><span class="sf10b2">1</span><span class="sf3b2">,</span></code></td>
</tr>
<tr valign="top">
<td class="ln">732</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf12b2">'module'</span><span class="sf3b2"> =&gt; </span><span class="sf12b2">'CiviEvent'</span><span class="sf3b2">,</span></code></td>
<td class="ln">736</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf12b2">'module'</span><span class="sf3b2"> =&gt; </span><span class="sf12b2">'CiviEvent'</span><span class="sf3b2">,</span></code></td>
</tr>
<tr valign="top">
<td class="ln">733</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf12b2">'entity_table'</span><span class="sf3b2"> =&gt; </span><span class="sf12b2">'civicrm_event'</span><span class="sf3b2">,</span></code></td>
<td class="ln">737</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf12b2">'entity_table'</span><span class="sf3b2"> =&gt; </span><span class="sf12b2">'civicrm_event'</span><span class="sf3b2">,</span></code></td>
</tr>
<tr valign="top">
<td class="ln">734</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf12b2">'entity_id'</span><span class="sf3b2"> =&gt; $</span><span class="sf18b2">this-&gt;_id,</span></code></td>
<td class="ln">738</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf12b2">'entity_id'</span><span class="sf3b2"> =&gt; $</span><span class="sf18b2">this-&gt;_id,</span></code></td>
</tr>
<tr valign="top">
<td class="ln">735</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;);</span></code></td>
<td class="ln">739</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">736</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">740</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">737</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">741</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">738</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf9b2">// first delete all past entries</span></code></td>
<td class="ln">742</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf9b2">// first delete all past entries</span></code></td>
</tr>
<tr valign="top">
<td class="ln">739</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf8b2">CRM_Core_BAO_UFJoin::deleteAll</span><span class="sf3b2">($</span><span class="sf18b2">ufJoinParams);</span></code></td>
<td class="ln">743</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf8b2">CRM_Core_BAO_UFJoin::deleteAll</span><span class="sf3b2">($</span><span class="sf18b2">ufJoinParams);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">740</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">744</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">741</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">uf = </span><span class="sf7b2">array</span><span class="sf3b2">();</span></code></td>
<td class="ln">745</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">uf = </span><span class="sf7b2">array</span><span class="sf3b2">();</span></code></td>
</tr>
<tr valign="top">
<td class="ln">742</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">wt = </span><span class="sf10b2">2</span><span class="sf3b2">;</span></code></td>
<td class="ln">746</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">wt = </span><span class="sf10b2">2</span><span class="sf3b2">;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">743</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (!</span><span class="sf7b2">empty</span><span class="sf3b2">($</span><span class="sf18b2">params[</span><span class="sf12b2">'custom_pre_id'</span><span class="sf3b2">])) {</span></code></td>
<td class="ln">747</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (!</span><span class="sf7b2">empty</span><span class="sf3b2">($</span><span class="sf18b2">params[</span><span class="sf12b2">'custom_pre_id'</span><span class="sf3b2">])) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">744</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">uf[</span><span class="sf10b2">1</span><span class="sf3b2">] = $</span><span class="sf18b2">params[</span><span class="sf12b2">'custom_pre_id'</span><span class="sf3b2">];</span></code></td>
<td class="ln">748</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">uf[</span><span class="sf10b2">1</span><span class="sf3b2">] = $</span><span class="sf18b2">params[</span><span class="sf12b2">'custom_pre_id'</span><span class="sf3b2">];</span></code></td>
</tr>
<tr valign="top">
<td class="ln">745</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">wt = </span><span class="sf10b2">1</span><span class="sf3b2">;</span></code></td>
<td class="ln">749</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">wt = </span><span class="sf10b2">1</span><span class="sf3b2">;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">746</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;}</span></code></td>
<td class="ln">750</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">747</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">751</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">748</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (!</span><span class="sf7b2">empty</span><span class="sf3b2">($</span><span class="sf18b2">params[</span><span class="sf12b2">'custom_post_id'</span><span class="sf3b2">])) {</span></code></td>
<td class="ln">752</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (!</span><span class="sf7b2">empty</span><span class="sf3b2">($</span><span class="sf18b2">params[</span><span class="sf12b2">'custom_post_id'</span><span class="sf3b2">])) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">749</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">uf[</span><span class="sf10b2">2</span><span class="sf3b2">] = $</span><span class="sf18b2">params[</span><span class="sf12b2">'custom_post_id'</span><span class="sf3b2">];</span></code></td>
<td class="ln">753</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">uf[</span><span class="sf10b2">2</span><span class="sf3b2">] = $</span><span class="sf18b2">params[</span><span class="sf12b2">'custom_post_id'</span><span class="sf3b2">];</span></code></td>
</tr>
<tr valign="top">
<td class="ln">750</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;}</span></code></td>
<td class="ln">754</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">751</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">755</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">752</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (</span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'custom_post_id_multiple'</span><span class="sf3b2">, $</span><span class="sf18b2">params)) {</span></code></td>
<td class="ln">756</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (</span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'custom_post_id_multiple'</span><span class="sf3b2">, $</span><span class="sf18b2">params)) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">753</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">uf = </span><span class="sf8b2">array_merge</span><span class="sf3b2">($</span><span class="sf18b2">uf, $</span><span class="sf18b2">params[</span><span class="sf12b2">'custom_post_id_multiple'</span><span class="sf3b2">]);</span></code></td>
<td class="ln">757</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">uf = </span><span class="sf8b2">array_merge</span><span class="sf3b2">($</span><span class="sf18b2">uf, $</span><span class="sf18b2">params[</span><span class="sf12b2">'custom_post_id_multiple'</span><span class="sf3b2">]);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">754</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;}</span></code></td>
<td class="ln">758</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">755</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">uf = </span><span class="sf8b2">array_values</span><span class="sf3b2">($</span><span class="sf18b2">uf);</span></code></td>
<td class="ln">759</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">uf = </span><span class="sf8b2">array_values</span><span class="sf3b2">($</span><span class="sf18b2">uf);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">756</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (!</span><span class="sf7b2">empty</span><span class="sf3b2">($</span><span class="sf18b2">uf)) {</span></code></td>
<td class="ln">760</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (!</span><span class="sf7b2">empty</span><span class="sf3b2">($</span><span class="sf18b2">uf)) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">757</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">foreach</span><span class="sf3b2"> ($</span><span class="sf18b2">uf </span><span class="sf7b2">as</span><span class="sf3b2"> $</span><span class="sf18b2">weight =&gt; $</span><span class="sf18b2">ufGroupId) {</span></code></td>
<td class="ln">761</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">foreach</span><span class="sf3b2"> ($</span><span class="sf18b2">uf </span><span class="sf7b2">as</span><span class="sf3b2"> $</span><span class="sf18b2">weight =&gt; $</span><span class="sf18b2">ufGroupId) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">758</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">ufJoinParams[</span><span class="sf12b2">'weight'</span><span class="sf3b2">] = $</span><span class="sf18b2">weight + $</span><span class="sf18b2">wt;</span></code></td>
<td class="ln">762</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">ufJoinParams[</span><span class="sf12b2">'weight'</span><span class="sf3b2">] = $</span><span class="sf18b2">weight + $</span><span class="sf18b2">wt;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">759</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">ufJoinParams[</span><span class="sf12b2">'uf_group_id'</span><span class="sf3b2">] = $</span><span class="sf18b2">ufGroupId;</span></code></td>
<td class="ln">763</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">ufJoinParams[</span><span class="sf12b2">'uf_group_id'</span><span class="sf3b2">] = $</span><span class="sf18b2">ufGroupId;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">760</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf8b2">CRM_Core_BAO_UFJoin::create</span><span class="sf3b2">($</span><span class="sf18b2">ufJoinParams);</span></code></td>
<td class="ln">764</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf8b2">CRM_Core_BAO_UFJoin::create</span><span class="sf3b2">($</span><span class="sf18b2">ufJoinParams);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">761</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">unset</span><span class="sf3b2">($</span><span class="sf18b2">ufJoinParams[</span><span class="sf12b2">'id'</span><span class="sf3b2">]);</span></code></td>
<td class="ln">765</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">unset</span><span class="sf3b2">($</span><span class="sf18b2">ufJoinParams[</span><span class="sf12b2">'id'</span><span class="sf3b2">]);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">762</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">766</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">763</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;}</span></code></td>
<td class="ln">767</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">764</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf9b2">// also update the ProfileModule tables</span></code></td>
<td class="ln">768</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf9b2">// also update the ProfileModule tables</span></code></td>
</tr>
<tr valign="top">
<td class="ln">765</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">ufJoinParamsAdd = </span><span class="sf7b2">array</span><span class="sf3b2">(</span></code></td>
<td class="ln">769</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;$</span><span class="sf18b2">ufJoinParamsAdd = </span><span class="sf7b2">array</span><span class="sf3b2">(</span></code></td>
</tr>
<tr valign="top">
<td class="ln">766</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf12b2">'is_active'</span><span class="sf3b2"> =&gt; </span><span class="sf10b2">1</span><span class="sf3b2">,</span></code></td>
<td class="ln">770</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf12b2">'is_active'</span><span class="sf3b2"> =&gt; </span><span class="sf10b2">1</span><span class="sf3b2">,</span></code></td>
</tr>
<tr valign="top">
<td class="ln">767</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf12b2">'module'</span><span class="sf3b2"> =&gt; </span><span class="sf12b2">'CiviEvent_Additional'</span><span class="sf3b2">,</span></code></td>
<td class="ln">771</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf12b2">'module'</span><span class="sf3b2"> =&gt; </span><span class="sf12b2">'CiviEvent_Additional'</span><span class="sf3b2">,</span></code></td>
</tr>
<tr valign="top">
<td class="ln">768</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf12b2">'entity_table'</span><span class="sf3b2"> =&gt; </span><span class="sf12b2">'civicrm_event'</span><span class="sf3b2">,</span></code></td>
<td class="ln">772</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf12b2">'entity_table'</span><span class="sf3b2"> =&gt; </span><span class="sf12b2">'civicrm_event'</span><span class="sf3b2">,</span></code></td>
</tr>
<tr valign="top">
<td class="ln">769</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf12b2">'entity_id'</span><span class="sf3b2"> =&gt; $</span><span class="sf18b2">this-&gt;_id,</span></code></td>
<td class="ln">773</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf12b2">'entity_id'</span><span class="sf3b2"> =&gt; $</span><span class="sf18b2">this-&gt;_id,</span></code></td>
</tr>
<tr valign="top">
<td class="ln">770</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;);</span></code></td>
<td class="ln">774</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">771</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">775</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">772</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf9b2">// first delete all past entries</span></code></td>
<td class="ln">776</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf9b2">// first delete all past entries</span></code></td>
</tr>
<tr valign="top">
<td class="ln">773</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf8b2">CRM_Core_BAO_UFJoin::deleteAll</span><span class="sf3b2">($</span><span class="sf18b2">ufJoinParamsAdd);</span></code></td>
<td class="ln">777</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf8b2">CRM_Core_BAO_UFJoin::deleteAll</span><span class="sf3b2">($</span><span class="sf18b2">ufJoinParamsAdd);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">774</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (</span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'is_multiple_registrations'</span><span class="sf3b2">,<wbr> $</span><span class="sf18b2">params)) {</span></code></td>
<td class="ln">778</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (</span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'is_multiple_registrations'</span><span class="sf3b2">,<wbr> $</span><span class="sf18b2">params)) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">775</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">ufAdd = </span><span class="sf7b2">array</span><span class="sf3b2">();</span></code></td>
<td class="ln">779</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">ufAdd = </span><span class="sf7b2">array</span><span class="sf3b2">();</span></code></td>
</tr>
<tr valign="top">
<td class="ln">776</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">wtAdd = </span><span class="sf10b2">2</span><span class="sf3b2">;</span></code></td>
<td class="ln">780</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">wtAdd = </span><span class="sf10b2">2</span><span class="sf3b2">;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">777</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">781</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">778</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (</span><span class="sf8b2">array_key_exists</span><span class="sf3b2">(</span><span class="sf12b2">'additional_custom_pre_id'</span><span class="sf3b2">, $</span><span class="sf18b2">params)) {</span></code></td>
<td class="ln">782</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (</span><span class="sf8b2">array_key_exists</span><span class="sf3b2">(</span><span class="sf12b2">'additional_custom_pre_id'</span><span class="sf3b2">, $</span><span class="sf18b2">params)) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">779</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (!</span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'additional_custom_pre_id'</span><span class="sf3b2">,<wbr> $</span><span class="sf18b2">params)) {</span></code></td>
<td class="ln">783</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (!</span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'additional_custom_pre_id'</span><span class="sf3b2">,<wbr> $</span><span class="sf18b2">params)) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">780</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">ufAdd[</span><span class="sf10b2">1</span><span class="sf3b2">] = $</span><span class="sf18b2">params[</span><span class="sf12b2">'custom_pre_id'</span><span class="sf3b2">];</span></code></td>
<td class="ln">784</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">ufAdd[</span><span class="sf10b2">1</span><span class="sf3b2">] = $</span><span class="sf18b2">params[</span><span class="sf12b2">'custom_pre_id'</span><span class="sf3b2">];</span></code></td>
</tr>
<tr valign="top">
<td class="ln">781</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">wtAdd = </span><span class="sf10b2">1</span><span class="sf3b2">;</span></code></td>
<td class="ln">785</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">wtAdd = </span><span class="sf10b2">1</span><span class="sf3b2">;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">782</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">786</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">783</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">elseif</span><span class="sf3b2"> (</span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'additional_custom_pre_id'</span><span class="sf3b2">, $</span><span class="sf18b2">params) == </span><span class="sf12b2">'none'</span><span class="sf3b2">) {}</span></code></td>
<td class="ln">787</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">elseif</span><span class="sf3b2"> (</span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'additional_custom_pre_id'</span><span class="sf3b2">, $</span><span class="sf18b2">params) == </span><span class="sf12b2">'none'</span><span class="sf3b2">) {}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">784</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">else</span><span class="sf3b2"> {</span></code></td>
<td class="ln">788</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">else</span><span class="sf3b2"> {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">785</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">ufAdd[</span><span class="sf10b2">1</span><span class="sf3b2">] = $</span><span class="sf18b2">params[</span><span class="sf12b2">'additional_custom_pre_id'</span><span class="sf3b2">];</span></code></td>
<td class="ln">789</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">ufAdd[</span><span class="sf10b2">1</span><span class="sf3b2">] = $</span><span class="sf18b2">params[</span><span class="sf12b2">'additional_custom_pre_id'</span><span class="sf3b2">];</span></code></td>
</tr>
<tr valign="top">
<td class="ln">786</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">wtAdd = </span><span class="sf10b2">1</span><span class="sf3b2">;</span></code></td>
<td class="ln">790</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">wtAdd = </span><span class="sf10b2">1</span><span class="sf3b2">;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">787</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">791</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">788</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">792</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">789</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">793</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">790</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (</span><span class="sf8b2">array_key_exists</span><span class="sf3b2">(</span><span class="sf12b2">'additional_custom_post_id'</span><span class="sf3b2">, $</span><span class="sf18b2">params)) {</span></code></td>
<td class="ln">794</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (</span><span class="sf8b2">array_key_exists</span><span class="sf3b2">(</span><span class="sf12b2">'additional_custom_post_id'</span><span class="sf3b2">, $</span><span class="sf18b2">params)) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">791</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (!</span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'additional_custom_post_id'<wbr></span><span class="sf3b2">, $</span><span class="sf18b2">params)) {</span></code></td>
<td class="ln">795</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (!</span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'additional_custom_post_id'<wbr></span><span class="sf3b2">, $</span><span class="sf18b2">params)) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">792</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">ufAdd[</span><span class="sf10b2">2</span><span class="sf3b2">] = $</span><span class="sf18b2">params[</span><span class="sf12b2">'custom_post_id'</span><span class="sf3b2">];</span></code></td>
<td class="ln">796</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">ufAdd[</span><span class="sf10b2">2</span><span class="sf3b2">] = $</span><span class="sf18b2">params[</span><span class="sf12b2">'custom_post_id'</span><span class="sf3b2">];</span></code></td>
</tr>
<tr valign="top">
<td class="ln">793</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">797</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">794</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">elseif</span><span class="sf3b2"> (</span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'additional_custom_post_id'</span><span class="sf3b2">,<wbr> $</span><span class="sf18b2">params) == </span><span class="sf12b2">'none'</span><span class="sf3b2">) {}</span></code></td>
<td class="ln">798</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">elseif</span><span class="sf3b2"> (</span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'additional_custom_post_id'</span><span class="sf3b2">,<wbr> $</span><span class="sf18b2">params) == </span><span class="sf12b2">'none'</span><span class="sf3b2">) {}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">795</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">else</span><span class="sf3b2"> {</span></code></td>
<td class="ln">799</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">else</span><span class="sf3b2"> {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">796</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">ufAdd[</span><span class="sf10b2">2</span><span class="sf3b2">] = $</span><span class="sf18b2">params[</span><span class="sf12b2">'additional_custom_post_id'</span><span class="sf3b2">];</span></code></td>
<td class="ln">800</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">ufAdd[</span><span class="sf10b2">2</span><span class="sf3b2">] = $</span><span class="sf18b2">params[</span><span class="sf12b2">'additional_custom_post_id'</span><span class="sf3b2">];</span></code></td>
</tr>
<tr valign="top">
<td class="ln">797</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">801</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">798</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">802</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">799</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">803</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">800</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (</span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'additional_custom_post_id_m<wbr>ultiple'</span><span class="sf3b2">, $</span><span class="sf18b2">params)) {</span></code></td>
<td class="ln">804</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (</span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'additional_custom_post_id_m<wbr>ultiple'</span><span class="sf3b2">, $</span><span class="sf18b2">params)) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">801</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">additionalPostMultiple = </span><span class="sf7b2">array</span><span class="sf3b2">();</span></code></td>
<td class="ln">805</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">additionalPostMultiple = </span><span class="sf7b2">array</span><span class="sf3b2">();</span></code></td>
</tr>
<tr valign="top">
<td class="ln">802</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">foreach</span><span class="sf3b2"> ($</span><span class="sf18b2">params[</span><span class="sf12b2">'additional_custom_post_id_multiple'</span><span class="sf3b2">] </span><span class="sf7b2">as</span><span class="sf3b2"> $</span><span class="sf18b2">key =&gt; $</span><span class="sf18b2">value) {</span></code></td>
<td class="ln">806</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">foreach</span><span class="sf3b2"> ($</span><span class="sf18b2">params[</span><span class="sf12b2">'additional_custom_post_id_multiple'</span><span class="sf3b2">] </span><span class="sf7b2">as</span><span class="sf3b2"> $</span><span class="sf18b2">key =&gt; $</span><span class="sf18b2">value) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">803</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (!$</span><span class="sf18b2">value &amp;&amp; </span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'custom_post_id'</span><span class="sf3b2">, $</span><span class="sf18b2">params)) {</span></code></td>
<td class="ln">807</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (!$</span><span class="sf18b2">value &amp;&amp; </span><span class="sf8b2">CRM_Utils_Array::value</span><span class="sf3b2">(</span><span class="sf12b2">'custom_post_id'</span><span class="sf3b2">, $</span><span class="sf18b2">params)) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">804</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">additionalPostMultiple[$</span><span class="sf18b2">key] = $</span><span class="sf18b2">params[</span><span class="sf12b2">'custom_post_id'</span><span class="sf3b2">];</span></code></td>
<td class="ln">808</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">additionalPostMultiple[$</span><span class="sf18b2">key] = $</span><span class="sf18b2">params[</span><span class="sf12b2">'custom_post_id'</span><span class="sf3b2">];</span></code></td>
</tr>
<tr valign="top">
<td class="ln">805</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">809</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">806</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">elseif</span><span class="sf3b2"> ($</span><span class="sf18b2">value == </span><span class="sf12b2">'none'</span><span class="sf3b2">) {</span></code></td>
<td class="ln">810</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">elseif</span><span class="sf3b2"> ($</span><span class="sf18b2">value == </span><span class="sf12b2">'none'</span><span class="sf3b2">) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">807</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">continue</span><span class="sf3b2">;</span></code></td>
<td class="ln">811</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">continue</span><span class="sf3b2">;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">808</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">812</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">809</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">elseif</span><span class="sf3b2"> ($</span><span class="sf18b2">value) {</span></code></td>
<td class="ln">813</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">elseif</span><span class="sf3b2"> ($</span><span class="sf18b2">value) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">810</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">additionalPostMultiple[$</span><span class="sf18b2">key] = $</span><span class="sf18b2">value;</span></code></td>
<td class="ln">814</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">additionalPostMultiple[$</span><span class="sf18b2">key] = $</span><span class="sf18b2">value;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">811</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">815</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">812</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">816</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">813</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">ufAdd = </span><span class="sf8b2">array_merge</span><span class="sf3b2">($</span><span class="sf18b2">ufAdd, $</span><span class="sf18b2">additionalPostMultiple);</span></code></td>
<td class="ln">817</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">ufAdd = </span><span class="sf8b2">array_merge</span><span class="sf3b2">($</span><span class="sf18b2">ufAdd, $</span><span class="sf18b2">additionalPostMultiple);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">814</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">818</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">815</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">819</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">816</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">ufAdd = </span><span class="sf8b2">array_values</span><span class="sf3b2">($</span><span class="sf18b2">ufAdd);</span></code></td>
<td class="ln">820</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">ufAdd = </span><span class="sf8b2">array_values</span><span class="sf3b2">($</span><span class="sf18b2">ufAdd);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">817</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (!</span><span class="sf7b2">empty</span><span class="sf3b2">($</span><span class="sf18b2">ufAdd)) {</span></code></td>
<td class="ln">821</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">if</span><span class="sf3b2"> (!</span><span class="sf7b2">empty</span><span class="sf3b2">($</span><span class="sf18b2">ufAdd)) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">818</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">foreach</span><span class="sf3b2"> ($</span><span class="sf18b2">ufAdd </span><span class="sf7b2">as</span><span class="sf3b2"> $</span><span class="sf18b2">weightAdd =&gt; $</span><span class="sf18b2">ufGroupIdAdd) {</span></code></td>
<td class="ln">822</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">foreach</span><span class="sf3b2"> ($</span><span class="sf18b2">ufAdd </span><span class="sf7b2">as</span><span class="sf3b2"> $</span><span class="sf18b2">weightAdd =&gt; $</span><span class="sf18b2">ufGroupIdAdd) {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">819</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">823</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">820</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">ufJoinParamsAdd[</span><span class="sf12b2">'weight'</span><span class="sf3b2">] = $</span><span class="sf18b2">weightAdd + $</span><span class="sf18b2">wtAdd;</span></code></td>
<td class="ln">824</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">ufJoinParamsAdd[</span><span class="sf12b2">'weight'</span><span class="sf3b2">] = $</span><span class="sf18b2">weightAdd + $</span><span class="sf18b2">wtAdd;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">821</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">ufJoinParamsAdd[</span><span class="sf12b2">'uf_group_id'</span><span class="sf3b2">] = $</span><span class="sf18b2">ufGroupIdAdd;</span></code></td>
<td class="ln">825</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$</span><span class="sf18b2">ufJoinParamsAdd[</span><span class="sf12b2">'uf_group_id'</span><span class="sf3b2">] = $</span><span class="sf18b2">ufGroupIdAdd;</span></code></td>
</tr>
<tr valign="top">
<td class="ln">822</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">826</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">823</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf8b2">CRM_Core_BAO_UFJoin::create</span><span class="sf3b2">($</span><span class="sf18b2">ufJoinParamsAdd);</span></code></td>
<td class="ln">827</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf8b2">CRM_Core_BAO_UFJoin::create</span><span class="sf3b2">($</span><span class="sf18b2">ufJoinParamsAdd);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">824</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">unset</span><span class="sf3b2">($</span><span class="sf18b2">ufJoinParamsAdd[</span><span class="sf12b2">'id'</span><span class="sf3b2">]);</span></code></td>
<td class="ln">828</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="sf7b2">unset</span><span class="sf3b2">($</span><span class="sf18b2">ufJoinParamsAdd[</span><span class="sf12b2">'id'</span><span class="sf3b2">]);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">825</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">829</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">826</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;}</span></code></td>
<td class="ln">830</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">827</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;}</span></code></td>
<td class="ln">831</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">828</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">832</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">829</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf8b2">parent::endPostProcess</span><span class="sf3b2">();</span></code></td>
<td class="ln">833</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf8b2">parent::endPostProcess</span><span class="sf3b2">();</span></code></td>
</tr>
<tr valign="top">
<td class="ln">830</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;}</span></code></td>
<td class="ln">834</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">831</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf9b2">//end of function</span></code></td>
<td class="ln">835</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf9b2">//end of function</span></code></td>
</tr>
<tr valign="top">
<td class="ln">832</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">836</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">833</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf9b2">/**</span></code></td>
<td class="ln">837</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf9b2">/**</span></code></td>
</tr>
<tr valign="top">
<td class="ln">834</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * Return a descriptive name for the page, used in wizard header</span></code></td>
<td class="ln">838</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * Return a descriptive name for the page, used in wizard header</span></code></td>
</tr>
<tr valign="top">
<td class="ln">835</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; *</span></code></td>
<td class="ln">839</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; *</span></code></td>
</tr>
<tr valign="top">
<td class="ln">836</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * @return string</span></code></td>
<td class="ln">840</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * @return string</span></code></td>
</tr>
<tr valign="top">
<td class="ln">837</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * @access public</span></code></td>
<td class="ln">841</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; * @access public</span></code></td>
</tr>
<tr valign="top">
<td class="ln">838</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; */</span>&nbsp;</code></td>
<td class="ln">842</td><td class="sf3b2"><code><span class="sf9b2"> &nbsp; */</span>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">839</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf8b2">public function getTitle</span><span class="sf3b2">() {</span></code></td>
<td class="ln">843</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;</span><span class="sf8b2">public function getTitle</span><span class="sf3b2">() {</span></code></td>
</tr>
<tr valign="top">
<td class="ln">840</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">return</span><span class="sf3b2"> </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Online Registration'</span><span class="sf3b2">);</span></code></td>
<td class="ln">844</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp; &nbsp;</span><span class="sf7b2">return</span><span class="sf3b2"> </span><span class="sf8b2">ts</span><span class="sf3b2">(</span><span class="sf12b2">'Online Registration'</span><span class="sf3b2">);</span></code></td>
</tr>
<tr valign="top">
<td class="ln">841</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;}</span></code></td>
<td class="ln">845</td><td class="sf3b2"><code><span class="sf3b2"> &nbsp;}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">842</td><td class="sf3b2"><code><span class="sf3b2">}</span></code></td>
<td class="ln">846</td><td class="sf3b2"><code><span class="sf3b2">}</span></code></td>
</tr>
<tr valign="top">
<td class="ln">843</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">847</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">844</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">848</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
</tbody>
</table>
</body>
</html>
